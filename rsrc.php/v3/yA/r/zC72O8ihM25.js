if (self.CavalryLogger) { CavalryLogger.start_js(["zMHR2"]); }

__d("LEDExperimentEntryPoint",[],(function a(b,c,d,e,f,g){f.exports={LIKE:"like",ATTACHMENT:"attachment",NETEGO:"netego"};}),null);
__d("PageContextualRecommendationsTrigger",[],(function a(b,c,d,e,f,g){f.exports={DEBUG:"debug",FANNING:"fanning",NONE:"none",UFI:"ufi"};}),null);
__d("XEventRelatedEventsPivotController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/events\/async\/related_events_pivot\/",{event_id:{type:"Int",required:true},attachment_id:{type:"String",required:true}});}),null);
__d("XFeedAdsChainingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/feed\/ads_chaining\/",{actor_id:{type:"String",required:true},ft_id:{type:"String"},origin:{type:"String",required:true},ei:{type:"String",required:true},data_ownerid:{type:"String",required:true}});}),null);
__d("XLEDFollowUpFeedUnitController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/led\/async\/follow_up_feed_unit\/",{ft_id:{type:"String"},story_id:{type:"String"},place_id:{type:"String"},entry_point:{type:"Enum",required:true,enumType:1}});}),null);
__d("XPubcontentCommerceProductChainingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pubcontent\/related_product\/",{attachment_id:{type:"String",required:true},product_id:{type:"Int",required:true}});}),null);
__d("XPubcontentFeedChainingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pubcontent\/feed_chaining\/",{actor_id:{type:"String",required:true},content_id:{type:"String"},ft_id:{type:"String"},origin:{type:"String",required:true},is_home_request:{type:"Bool",defaultValue:false},trigger:{type:"String"},referrer:{type:"String"},is_sponsored:{type:"Bool",defaultValue:false}});}),null);
__d("XPubcontentFeedCommentChainingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pubcontent\/comment_chaining\/",{action_trigger:{type:"String",required:true},ft_id:{type:"String"}});}),null);
__d("XPubcontentGroupRelatedStoriesChainingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pubcontent\/group_related_stories\/",{post_id:{type:"Int",required:true},is_home_request:{type:"Bool",defaultValue:false}});}),null);
__d("XPubcontentInlineStoryPivotChainingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pubcontent\/inline_story_pivot_chaining\/",{origin:{type:"String",required:true},storyid:{type:"String"},ftid:{type:"String"}});}),null);
__d("XPubcontentPoliticalIssueChainingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pubcontent\/political_issue_chaining\/",{ft_id:{type:"String",required:true}});}),null);
__d("XPubcontentRelatedShareChainingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pubcontent\/related_share\/",{attachment_div_id:{type:"String",required:true},global_share_id:{type:"Int",required:true},video_div_id:{type:"String"},link_url:{type:"String"},qid:{type:"String"},mf_story_key:{type:"String"},share_id:{type:"String"},is_auto_expand:{type:"Bool",defaultValue:false}});}),null);
__d("XPubcontentRelatedVideoChainingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pubcontent\/related_video\/",{attachment_div_id:{type:"String",required:true},fbvideo_id:{type:"Int",required:true},qid:{type:"String"},mf_story_key:{type:"String"}});}),null);
__d("XPubcontentTopicChainingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pubcontent\/topic_chaining\/",{ft_id:{type:"String",required:true}});}),null);
__d("XRelatedGamesChainingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/games\/async\/related_games\/",{attachment_div_id:{type:"String",required:true},app_id:{type:"Int",required:true}});}),null);
__d("XSearchRelatedPostsPivotController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/search\/async\/related_posts_pivot\/",{origin:{type:"String",required:true},content_id:{type:"String",required:true}});}),null);
__d('PubcontentFeedChainingControllerX',['csx','cx','AggregatedLinkComposerConfig','Arbiter','AsyncRequest','AttachmentRelatedShareConstants','ContextualThing','CSS','DataAttributeUtils','DOM','DOMQuery','FeedAdsChainingConfig','NavigationMessage','PageLikeConstants','PubcontentFeedChainingConfig','ContextualRecommendationsFeedChainingConfig','PubcontentRelatedShareChainingConfig','PubcontentPoliticalIssueChainingConfig','PubcontentTopicChainingConfig','RelatedEventsPivotChainingConfig','Run','SearchRelatedPostsPivotChainingConfig','StoryInlinePivotChainingConfig','SubscriptionsHandler','UFIFeedbackTargets','UFIUIEvents','URI','VideoChannelViewVariables','XEventRelatedEventsPivotController','XPubcontentCommerceProductChainingController','XFeedAdsChainingController','XPubcontentFeedChainingController','XPubcontentInlineStoryPivotChainingController','XPubcontentPoliticalIssueChainingController','XPubcontentRelatedShareChainingController','XPubcontentRelatedVideoChainingController','XPubcontentTopicChainingController','XPubcontentFeedCommentChainingController','XRelatedGamesChainingController','XSearchRelatedPostsPivotController','XPubcontentGroupRelatedStoriesChainingController','XLEDFollowUpFeedUnitController','LEDExperimentEntryPoint','PageContextualRecommendationsTrigger','cxodecode','getOrCreateDOMID'],(function a(b,c,d,e,f,g,h,i){var j='ei',k='ad_fan_page_action',l='ad_like_page_post_action',m='page_story_like_action',n='political_issue_story_article_click_action',o='related_share_article_click',p='related_product_click',q='related_share_video_click',r='related_share_video_view',s='page_share_like_action',t='topic_story_like_action',u='story_click_for_pivot_action',v='story_like_pivot_action',w='event_join',x='composer_publish_action',y='place_checkin_story_action',z=c('VideoChannelViewVariables').channelPivots,aa=null,ba=false,ca=null,da=null;ea.init=function(ga){var ha=ga.isLazy,ia=ga.srs,ja=ga.sdrs;'use strict';if(ia&&ja){ca=c('cxodecode')(ia);da=c('cxodecode')(ja);}if(!aa)aa=new ea({isLazy:ha});if(!ba){c('Run').onLeave(ea.cleanup);c('Arbiter').subscribe(c('NavigationMessage').NAVIGATION_BEGIN,ea.cleanup);ba=true;}};ea.cleanup=function(){'use strict';if(aa){aa.cleanup();aa=null;}};function ea(ga){var ha=ga.isLazy;'use strict';this.$PubcontentFeedChainingControllerX1=c('PubcontentFeedChainingConfig');this.$PubcontentFeedChainingControllerX2=c('ContextualRecommendationsFeedChainingConfig');this.$PubcontentFeedChainingControllerX3=c('FeedAdsChainingConfig');this.$PubcontentFeedChainingControllerX4=c('PubcontentRelatedShareChainingConfig');this.$PubcontentFeedChainingControllerX5=c('PubcontentTopicChainingConfig');this.$PubcontentFeedChainingControllerX6=c('PubcontentPoliticalIssueChainingConfig');this.$PubcontentFeedChainingControllerX7=c('StoryInlinePivotChainingConfig');this.$PubcontentFeedChainingControllerX8=c('RelatedEventsPivotChainingConfig');this.$PubcontentFeedChainingControllerX9=c('SearchRelatedPostsPivotChainingConfig');this.$PubcontentFeedChainingControllerX10={};this.$PubcontentFeedChainingControllerX11=new (c('SubscriptionsHandler'))();this.$PubcontentFeedChainingControllerX11.addSubscriptions(this.$PubcontentFeedChainingControllerX12(c('PageLikeConstants').LIKED,ha,this.$PubcontentFeedChainingControllerX13.bind(this)),this.$PubcontentFeedChainingControllerX12(c('UFIUIEvents').ActionLinkLike,ha,this.$PubcontentFeedChainingControllerX14.bind(this)),this.$PubcontentFeedChainingControllerX12(c('UFIUIEvents').ReactionButtonClicked,ha,this.$PubcontentFeedChainingControllerX14.bind(this)),this.$PubcontentFeedChainingControllerX12(c('UFIUIEvents').Comment,ha,this.$PubcontentFeedChainingControllerX15.bind(this)),this.$PubcontentFeedChainingControllerX12('composer/publish',ha,this.$PubcontentFeedChainingControllerX16.bind(this)),this.$PubcontentFeedChainingControllerX12('LitestandComposer/publish',ha,this.$PubcontentFeedChainingControllerX16.bind(this)),this.$PubcontentFeedChainingControllerX12(c('AttachmentRelatedShareConstants').ARTICLE_CLICK,ha,this.$PubcontentFeedChainingControllerX17.bind(this)),this.$PubcontentFeedChainingControllerX12(c('AttachmentRelatedShareConstants').VIDEO_CLICK,ha,this.$PubcontentFeedChainingControllerX18(this.$PubcontentFeedChainingControllerX19.bind(this),c('LEDExperimentEntryPoint').ATTACHMENT)),this.$PubcontentFeedChainingControllerX12(c('AttachmentRelatedShareConstants').FBVIDEO_VIEW,ha,this.$PubcontentFeedChainingControllerX18(this.$PubcontentFeedChainingControllerX20.bind(this),c('LEDExperimentEntryPoint').ATTACHMENT)),this.$PubcontentFeedChainingControllerX12(c('AttachmentRelatedShareConstants').FBVIDEO_CLICK,ha,this.$PubcontentFeedChainingControllerX18(this.$PubcontentFeedChainingControllerX20.bind(this),c('LEDExperimentEntryPoint').ATTACHMENT)),this.$PubcontentFeedChainingControllerX12(c('AttachmentRelatedShareConstants').GAME_CLICK,ha,this.$PubcontentFeedChainingControllerX21.bind(this)),this.$PubcontentFeedChainingControllerX12(c('AttachmentRelatedShareConstants').PHOTO_CLICK,ha,this.$PubcontentFeedChainingControllerX18(this.$PubcontentFeedChainingControllerX22.bind(this),c('LEDExperimentEntryPoint').ATTACHMENT)),this.$PubcontentFeedChainingControllerX12(c('AttachmentRelatedShareConstants').EVENT_JOIN,ha,this.$PubcontentFeedChainingControllerX23.bind(this)),this.$PubcontentFeedChainingControllerX12(c('AttachmentRelatedShareConstants').PRODUCT_CLICK,ha,this.$PubcontentFeedChainingControllerX24.bind(this)),this.$PubcontentFeedChainingControllerX12(c('AttachmentRelatedShareConstants').MAP_CLICK,ha,this.$PubcontentFeedChainingControllerX25.bind(this)),this.$PubcontentFeedChainingControllerX12(c('AttachmentRelatedShareConstants').ACTION_BUTTON_CLICK,ha,this.$PubcontentFeedChainingControllerX26.bind(this)));}ea.prototype.$PubcontentFeedChainingControllerX12=function(event,ga,ha){'use strict';var ia=ga?[event,event+'.lazy']:[event];return c('Arbiter').subscribe(ia,ha);};ea.prototype.cleanup=function(){'use strict';this.$PubcontentFeedChainingControllerX11&&this.$PubcontentFeedChainingControllerX11.release();this.$PubcontentFeedChainingControllerX11=null;};ea.getAdClientTokenIndex=function(){'use strict';return j;};ea.prototype.$PubcontentFeedChainingControllerX13=function(ga,ha){'use strict';var ia=this.findAdClientToken(ha.target);if(ia){this.$PubcontentFeedChainingControllerX27(ha.target,{origin:k,actor_id:ha.profile_id,client_token:ia});}else this.$PubcontentFeedChainingControllerX28(ha.target,{origin:ha.origin,actor_id:ha.profile_id,trigger:c('PageContextualRecommendationsTrigger').FANNING,chaining_type:'contextual_recommendations'});};ea.prototype.$PubcontentFeedChainingControllerX14=function(ga,ha){'use strict';if(!ha.ft_id||!ha.target||!ha.reaction_type)return;if(!this.$PubcontentFeedChainingControllerX29(this.findStory(ha.target))||this.$PubcontentFeedChainingControllerX30(this.findStory(ha.target)))return;c('UFIFeedbackTargets').getFeedbackTarget(ha.ft_id,function(ia,ja){var ka=this.findAdClientToken(ia);if(ka&&ja.isshare){this.$PubcontentFeedChainingControllerX27(ia,{actor_id:ja.actorid,origin:l,ft_id:ja.entidentifier,client_token:ka});}else if(ja.isownerpage){var la=ja.isshare?s:m;this.$PubcontentFeedChainingControllerX28(ia,{actor_id:ja.actorid,content_id:ja.entidentifier,ft_id:ja.entidentifier,origin:la,trigger:c('PageContextualRecommendationsTrigger').UFI,chaining_type:'contextual_recommendations'});}else if(ja.grouporeventid){if(this.shouldPuntGroupChaining(ia))return;this.$PubcontentFeedChainingControllerX31(ia,{post_id:ja.entidentifier,origin:u});}else if(ja.isshare){this.$PubcontentFeedChainingControllerX28(ia,{actor_id:ja.actorid,content_id:ja.entidentifier,ft_id:ja.entidentifier,origin:s,trigger:c('PageContextualRecommendationsTrigger').UFI,chaining_type:'contextual_recommendations'});}else if(ja.isplacecheckin){this.$PubcontentFeedChainingControllerX32(ia,{ft_id:ja.entidentifier,origin:y},c('LEDExperimentEntryPoint').LIKE);}else{var ma=this.$PubcontentFeedChainingControllerX33(ia,{origin:v,ft_id:ja.entidentifier});if(!ma)this.$PubcontentFeedChainingControllerX34(ia,{origin:t,ft_id:ja.entidentifier});}}.bind(this,ha.target));};ea.prototype.$PubcontentFeedChainingControllerX15=function(ga,ha){'use strict';if(!ha.ft_id||!ha.target)return;if(!this.$PubcontentFeedChainingControllerX29(this.findStory(ha.target))||this.$PubcontentFeedChainingControllerX30(this.findStory(ha.target)))return;c('UFIFeedbackTargets').getFeedbackTarget(ha.ft_id,function(ia,ja){this.$PubcontentFeedChainingControllerX35(ha.target,{origin:o,action_trigger:'COMMENT',ft_id:ja.entidentifier});}.bind(this,ha.target));};ea.prototype.$PubcontentFeedChainingControllerX33=function(ga,ha){'use strict';var ia=this.$PubcontentFeedChainingControllerX36(ga,ha);if(!ia)return false;var ja=c('XPubcontentInlineStoryPivotChainingController').getURIBuilder().setString('origin',ha.origin);if(ha.story_id)ja.setString('storyid',String(ha.story_id));if(ha.ft_id)ja.setString('ftid',String(ha.ft_id));new (c('AsyncRequest'))().setErrorHandler(this.$PubcontentFeedChainingControllerX37.bind(this,ia.story.id)).setRelativeTo(ia.chainingWrapper).setURI(ja.getURI()).setAllowCrossPageTransition(true).send();return true;};ea.prototype.$PubcontentFeedChainingControllerX34=function(ga,ha){'use strict';var ia=this.$PubcontentFeedChainingControllerX36(ga,ha);if(!ia||!this.$PubcontentFeedChainingControllerX38())return;var ja=c('XPubcontentTopicChainingController').getURIBuilder().setString('ft_id',ha.ft_id);new (c('AsyncRequest'))().setErrorHandler(this.$PubcontentFeedChainingControllerX37.bind(this,ia.story.id)).setRelativeTo(ia.chainingWrapper).setURI(ja.getURI()).setAllowCrossPageTransition(true).send();return;};ea.prototype.$PubcontentFeedChainingControllerX39=function(ga,ha,ia){'use strict';var ja=this.$PubcontentFeedChainingControllerX36(ga,ha);if(!ja){ia&&ia();return;}var ka=c('XPubcontentPoliticalIssueChainingController').getURIBuilder().setString('ft_id',ha.ft_id);new (c('AsyncRequest'))().setErrorHandler(function(){this.$PubcontentFeedChainingControllerX37(ja.story.id);ia&&ia();}.bind(this)).setRelativeTo(ja.chainingWrapper).setURI(ka.getURI()).setAllowCrossPageTransition(true).setHandler(function(la){if(!la.payload.is_chained){this.$PubcontentFeedChainingControllerX37(ja.story.id);ia&&ia();}}.bind(this)).send();return;};ea.prototype.$PubcontentFeedChainingControllerX22=function(ga,ha){'use strict';var ia=this;ia.$PubcontentFeedChainingControllerX33(ha.attachment,{origin:u,story_id:ha.storyid});};ea.prototype.$PubcontentFeedChainingControllerX17=function(ga,ha){'use strict';if(c('AggregatedLinkComposerConfig').no_chained_related_stories==='true')return;var ia=this,ja=this.findStory(ha.attachment),ka=c('DOMQuery').scry(c('DOMQuery').getRootElement(),'#initial_browse_result').length>0;if(ka)return;var la;if(ha.is_right_click){la=0;}else la=c('AttachmentRelatedShareConstants').EVENT_DELAY;setTimeout(function(){if(ja){var ma=ia.findAttachment(ja);if(ma)ha.attachment=ma;}ha.ft_id=ia.findFeedbackTargetId(ja);ia.$PubcontentFeedChainingControllerX39(ha.attachment,{origin:n,ft_id:ha.ft_id},function(){ha.origin=o;ia.$PubcontentFeedChainingControllerX40(ha.attachment,ha);});},la);};ea.prototype.$PubcontentFeedChainingControllerX19=function(ga,ha){'use strict';if(!this.$PubcontentFeedChainingControllerX38())return;ha.origin=q;var ia=this,ja=this.findStory(ha.attachment);setTimeout(function(){if(ja){var ka=ia.findAttachment(ja);if(ka)ha.attachment=ka;}ia.$PubcontentFeedChainingControllerX40(ha.attachment,ha);},c('AttachmentRelatedShareConstants').EVENT_DELAY);};ea.prototype.$PubcontentFeedChainingControllerX20=function(ga,ha){'use strict';if(!this.$PubcontentFeedChainingControllerX38())return;ha.origin=ga.indexOf(c('AttachmentRelatedShareConstants').FBVIDEO_VIEW)===-1?q:r;var ia=this,ja=this.findStory(ha.attachment);setTimeout(function(){if(ja){var ka=ia.findAttachment(ja);if(ka)ha.attachment=ka;}ia.$PubcontentFeedChainingControllerX40(ha.attachment,ha);},c('AttachmentRelatedShareConstants').EVENT_DELAY);};ea.prototype.$PubcontentFeedChainingControllerX21=function(ga,ha){'use strict';var ia=this,ja=this.findStory(ha.attachment);setTimeout(function(){if(ja)var ka=ia.findContainer(ja);ia.$PubcontentFeedChainingControllerX41(ja,ha.global_share_id,c('getOrCreateDOMID')(ka));},c('AttachmentRelatedShareConstants').EVENT_DELAY);};ea.prototype.$PubcontentFeedChainingControllerX23=function(ga,ha){'use strict';var ia=this.findStory(ha.attachment);if(ia){var ja=this.findAttachment(ia);if(ja)ha.attachment=ja;}this.$PubcontentFeedChainingControllerX42(ha.attachment,{origin:w,event_id:ha.event_id});};ea.prototype.$PubcontentFeedChainingControllerX24=function(ga,ha){'use strict';ha.origin=p;var ia=this.findStory(ha.attachment);if(ia){var ja=this.findAttachment(ia);if(ja)ha.attachment=ja;}this.$PubcontentFeedChainingControllerX43(ha.attachment,ha);};ea.prototype.$PubcontentFeedChainingControllerX25=function(ga,ha){'use strict';this.$PubcontentFeedChainingControllerX32(ha.attachment,{place_id:ha.place_id,story_id:ha.story_id,origin:y},c('LEDExperimentEntryPoint').ATTACHMENT);};ea.prototype.$PubcontentFeedChainingControllerX26=function(ga,ha){'use strict';var ia=this.findStory(ha.button);if(!ia)return;this.$PubcontentFeedChainingControllerX32(ia,{place_id:ha.place_id,origin:y},c('LEDExperimentEntryPoint').ATTACHMENT);};ea.prototype.$PubcontentFeedChainingControllerX16=function(ga,ha){'use strict';var ia=this;setTimeout(function(){ia.$PubcontentFeedChainingControllerX44(ha.markup.firstChild,{origin:x,content_id:ha.content_id});},this.$PubcontentFeedChainingControllerX9.composer_publish_action);};ea.prototype.$PubcontentFeedChainingControllerX45=function(ga){'use strict';return !!(ga&&ga.id&&!c('CSS').matchesSelector(ga,"._sf6")&&!(ga.id in this.$PubcontentFeedChainingControllerX10));};ea.prototype.$PubcontentFeedChainingControllerX46=function(ga){'use strict';if(!ga)return false;if(ga.origin in this.$PubcontentFeedChainingControllerX1||ga.origin in this.$PubcontentFeedChainingControllerX2||ga.origin in this.$PubcontentFeedChainingControllerX4||ga.origin in this.$PubcontentFeedChainingControllerX3||ga.origin in this.$PubcontentFeedChainingControllerX7||ga.origin in this.$PubcontentFeedChainingControllerX8||ga.origin in this.$PubcontentFeedChainingControllerX9||ga.origin in this.$PubcontentFeedChainingControllerX5||ga.origin in this.$PubcontentFeedChainingControllerX6||ga.origin===p||ga.origin===r||ga.origin===y)return true;return false;};ea.prototype.$PubcontentFeedChainingControllerX47=function(ga){'use strict';this.$PubcontentFeedChainingControllerX10[ga]=true;};ea.prototype.$PubcontentFeedChainingControllerX37=function(ga){'use strict';delete this.$PubcontentFeedChainingControllerX10[ga];};ea.prototype.$PubcontentFeedChainingControllerX29=function(ga){'use strict';if(!ga)return false;var ha="_3lkn",ia=ga.nextSibling,ja=true;if(ia&&ia.firstChild){var ka=ia.firstChild;ja=!(ka.hasChildNodes()&&c('CSS').hasClass(ka,ha));}if(!ja)return false;var la=ga.children[0],ma=ga.children[1],na="_4_ck";if(la&&c('CSS').hasClass(la,na)||ma&&c('CSS').hasClass(ma,na))return false;return true;};ea.prototype.$PubcontentFeedChainingControllerX30=function(ga){'use strict';if(!ga)return true;var ha=c('DOM').scry(ga,"._1xwr");if(ha.length)return true;return false;};ea.prototype.$PubcontentFeedChainingControllerX36=function(ga,ha){'use strict';var ia=this.findStory(ga);if(!this.$PubcontentFeedChainingControllerX45(ia))return null;if(!this.$PubcontentFeedChainingControllerX46(ha))return null;this.$PubcontentFeedChainingControllerX47(ia.id);if(fa(ia)&&ha.chaining_type!=='contextual_recommendations')return null;var ja;if(!ha.continued_chaining){ja=this.findContainer(ia);if(!ja)return null;var ka=c('DOM').create('div'),la=c('DOM').appendContent(ja,ka);if(la.length!==1)return null;}else{ja=ia;ka=c('DOM').create('div');la=c('DOM').insertAfter(ja,ka);c('DOM').remove(ja);if(la.length!==1)return null;}if(ha.is_auto_expand){return {chainingWrapper:la[0],story:ia,is_auto_expand:ha.is_auto_expand};}else return {chainingWrapper:la[0],story:ia};};ea.prototype.$PubcontentFeedChainingControllerX27=function(ga,ha){'use strict';var ia=this.$PubcontentFeedChainingControllerX36(ga,ha);if(!ia)return false;var ja=this.findStreamRoot(ia.story);if(!ja)return false;var ka=ja.getAttribute('id'),la=c('XFeedAdsChainingController').getURIBuilder().setString('actor_id',ha.actor_id).setString('origin',ha.origin).setString('ei',ha.client_token).setString('data_ownerid',ka);if(ha.ft_id)la.setString('ft_id',ha.ft_id);new (c('AsyncRequest'))().setErrorHandler(this.$PubcontentFeedChainingControllerX37.bind(this,ia.story.id)).setRelativeTo(ia.chainingWrapper).setURI(la.getURI()).setAllowCrossPageTransition(true).send();return true;};ea.prototype.$PubcontentFeedChainingControllerX40=function(ga,ha){'use strict';if(!this.$PubcontentFeedChainingControllerX29(this.findStory(ga)))return false;var ia=this.$PubcontentFeedChainingControllerX36(ga,ha);if(!ia)return false;c('CSS').addClass(ia.chainingWrapper,"_3lkn");var ja=null;if(ha.fbvideo_id){ja=c('XPubcontentRelatedVideoChainingController').getURIBuilder();ja.setInt('fbvideo_id',ha.fbvideo_id);}else{ja=c('XPubcontentRelatedShareChainingController').getURIBuilder();ja.setInt('global_share_id',ha.global_share_id);}ja.setString('attachment_div_id',c('getOrCreateDOMID')(ha.attachment));if(ha.link_url)ja.setString('link_url',ha.link_url);if(ha.video_div_id)ja.setString('video_div_id',ha.video_div_id);if(ha.share_id)ja.setString('share_id',ha.share_id);var ka=JSON.parse(c('DataAttributeUtils').getDataFt(ia.story))||{};if('qid' in ka&&'mf_story_key' in ka){ja.setString('qid',ka.qid);ja.setString('mf_story_key',ka.mf_story_key);}if(ha.is_auto_expand){this.$PubcontentFeedChainingControllerX37(ia.story.id);ja.setBool('is_auto_expand',ha.is_auto_expand);}var la=new (c('AsyncRequest'))().setErrorHandler(this.$PubcontentFeedChainingControllerX37.bind(this,ia.story.id)).setRelativeTo(ia.chainingWrapper).setAllowCrossPageTransition(true).setURI(ja.getURI());ka&&la.setData(ka);la.send();return true;};ea.prototype.$PubcontentFeedChainingControllerX41=function(ga,ha,ia){'use strict';if(!this.$PubcontentFeedChainingControllerX45(ga))return null;this.$PubcontentFeedChainingControllerX47(ga.id);var ja=c('XRelatedGamesChainingController').getURIBuilder().setInt('app_id',ha).setString('attachment_div_id',ia);new (c('AsyncRequest'))().setErrorHandler(this.$PubcontentFeedChainingControllerX37.bind(this,ga.id)).setURI(ja.getURI()).setAllowCrossPageTransition(true).send();return true;};ea.prototype.$PubcontentFeedChainingControllerX28=function(ga,ha){'use strict';var ia=this.$PubcontentFeedChainingControllerX36(ga,ha);if(!ia)return false;var ja=this.findStory(ga),ka=c('XPubcontentFeedChainingController').getURIBuilder().setString('actor_id',ha.actor_id).setString('origin',ha.origin).setString('referrer',ha.referrer).setString('trigger',ha.trigger).setBool('is_home_request',this.$PubcontentFeedChainingControllerX38()).setBool('is_sponsored',fa(ja));if(ha.ft_id)ka.setString('ft_id',ha.ft_id);if(ha.content_id)ka.setString('content_id',ha.content_id);new (c('AsyncRequest'))().setErrorHandler(this.$PubcontentFeedChainingControllerX37.bind(this,ia.story.id)).setRelativeTo(ia.chainingWrapper).setURI(ka.getURI()).setAllowCrossPageTransition(true).send();return true;};ea.prototype.$PubcontentFeedChainingControllerX42=function(ga,ha){'use strict';var ia=this.$PubcontentFeedChainingControllerX36(ga,ha);if(!ia)return false;var ja=c('XEventRelatedEventsPivotController').getURIBuilder().setInt('event_id',ha.event_id).setString('attachment_id',c('getOrCreateDOMID')(ga)).getURI();new (c('AsyncRequest'))().setErrorHandler(this.$PubcontentFeedChainingControllerX37.bind(this,ia.story.id)).setRelativeTo(ia.chainingWrapper).setURI(ja).setAllowCrossPageTransition(true).send();return true;};ea.prototype.$PubcontentFeedChainingControllerX18=function(ga,ha){'use strict';return function(ia,ja){var ka={origin:y};if(ja.storyid){ka.story_id=ja.storyid;}else{var la=this.findStory(ja.attachment);if(!la)return ga;ka.ft_id=this.findFeedbackTargetId(la);}return this.$PubcontentFeedChainingControllerX32(ja.attachment,ka,ha,function(){return ga(ia,ja);});}.bind(this);};ea.prototype.$PubcontentFeedChainingControllerX32=function(ga,ha,ia,ja){'use strict';var ka=c('XLEDFollowUpFeedUnitController').getURIBuilder().setEnum('entry_point',ia);if(ha.ft_id)ka=ka.setString('ft_id',ha.ft_id);if(ha.story_id)ka=ka.setString('story_id',ha.story_id);if(ha.place_id)ka=ka.setString('place_id',String(ha.place_id));var la=this.$PubcontentFeedChainingControllerX36(ga,ha);if(!la){ja&&ja();return;}new (c('AsyncRequest'))().setErrorHandler(function(){this.$PubcontentFeedChainingControllerX37(la.story.id);ja&&ja();}.bind(this)).setHandler(function(ma){if(!ma.payload.is_chained){this.$PubcontentFeedChainingControllerX37(la.story.id);ja&&ja();}}.bind(this)).setRelativeTo(la.chainingWrapper).setURI(ka.getURI()).setAllowCrossPageTransition(true).send();};ea.prototype.$PubcontentFeedChainingControllerX43=function(ga,ha){'use strict';var ia=this.$PubcontentFeedChainingControllerX36(ga,ha);if(!ia)return false;var ja=c('XPubcontentCommerceProductChainingController').getURIBuilder().setString('attachment_id',c('getOrCreateDOMID')(ga)).setInt('product_id',ha.product_id).getURI();new (c('AsyncRequest'))().setErrorHandler(this.$PubcontentFeedChainingControllerX37.bind(this,ia.story.id)).setRelativeTo(ia.chainingWrapper).setURI(ja).setAllowCrossPageTransition(true).send();return true;};ea.prototype.$PubcontentFeedChainingControllerX44=function(ga,ha){'use strict';var ia=this.$PubcontentFeedChainingControllerX36(ga,ha);if(!ia)return false;var ja=c('XSearchRelatedPostsPivotController').getURIBuilder().setString('origin',ha.origin).setString('content_id',String(ha.content_id));new (c('AsyncRequest'))().setErrorHandler(this.$PubcontentFeedChainingControllerX37.bind(this,ia.story.id)).setRelativeTo(ia.chainingWrapper).setURI(ja.getURI()).setAllowCrossPageTransition(true).send();return true;};ea.prototype.$PubcontentFeedChainingControllerX35=function(ga,ha){'use strict';var ia=this.$PubcontentFeedChainingControllerX36(ga,ha);if(!ia)return false;var ja=c('XPubcontentFeedCommentChainingController').getURIBuilder().setString('action_trigger',String(ha.action_trigger));if(ha.ft_id)ja.setString('ft_id',ha.ft_id);new (c('AsyncRequest'))().setErrorHandler(this.$PubcontentFeedChainingControllerX37.bind(this,ia.story.id)).setRelativeTo(ia.chainingWrapper).setURI(ja.getURI()).setAllowCrossPageTransition(true).send();return true;};ea.prototype.$PubcontentFeedChainingControllerX31=function(ga,ha){'use strict';var ia=this.$PubcontentFeedChainingControllerX36(ga,ha);if(!ia)return false;var ja=c('XPubcontentGroupRelatedStoriesChainingController').getURIBuilder().setInt('post_id',ha.post_id).setBool('is_home_request',this.$PubcontentFeedChainingControllerX38()).getURI();new (c('AsyncRequest'))().setErrorHandler(this.$PubcontentFeedChainingControllerX37.bind(this,ia.story.id)).setRelativeTo(ia.chainingWrapper).setURI(ja).setAllowCrossPageTransition(true).send();return true;};ea.prototype.findStory=function(ga){'use strict';var ha="^div._4-u2",ia=c('DOM').scry(ga,ha);return ia.length===1?ia[0]:null;};ea.prototype.findFeedbackTargetId=function(ga){'use strict';if(z){var ha=c('DOMQuery').scry(ga,"input[name='ft_ent_identifier']");if(!ha)return null;return ha[0].value;}else{var ia=c('DOMQuery').find(ga,"input[name='ft_ent_identifier']");if(!ia)return null;return ia.value;}};ea.prototype.findAttachment=function(ga){'use strict';var ha="div._6m2",ia="div.iframeEmbed",ja=c('DOM').scry(ga,ha)[0]||c('DOM').scry(ga,ia)[0];return ja;};ea.prototype.findContainer=function(ga){'use strict';var ha=c('DOM').create('div'),ia=c('DOM').insertAfter(ga,ha);c('ContextualThing').register(ha,ga);return ia.length>=1?ia[0]:null;};ea.prototype.findStreamRoot=function(ga){'use strict';var ha="^div._4ikz";return c('DOM').scry(ga,ha)[0];};ea.prototype.findAdClientToken=function(ga){'use strict';var ha=this.findStory(ga);if(!ha)return null;var ia=c('DataAttributeUtils').getDataFt(ha);if(!ia)return null;var ja=JSON.parse(ia);return ja[ea.getAdClientTokenIndex()];};ea.prototype.shouldPuntGroupChaining=function(ga){'use strict';var ha="^._4ruh";return c('DOM').scry(ga,ha).length>=1;};ea.prototype.$PubcontentFeedChainingControllerX38=function(){'use strict';var ga=c('URI').getRequestURI(false);return ga.getPath()==='/'||ga.getPath()==='/home.php';};function fa(ga){if(ca&&da){return (c('DOM').scry(ga,ca).length>0&&c('DOM').scry(ga,da).length===0);}else return (c('DOM').scry(ga,"._5paw").length>0&&c('DOM').scry(ga,"._14zs").length===0);}f.exports=ea;}),null);