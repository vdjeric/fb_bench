if (self.CavalryLogger) { CavalryLogger.start_js(["37zVd"]); }

__d("LiveVideoBroadcastStatusUpdateWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"1528668480484478",queryID:"213402205795051"});}),null);
__d('LiveVideoBroadcastStatusUpdateSubscription',['BaseGraphQLSubscription','LiveVideoBroadcastStatusUpdateWebGraphQLSubscription','uuid'],(function a(b,c,d,e,f,g){var h=babelHelpers['extends']({},c('BaseGraphQLSubscription'),{_getTopic:function i(j){return 'gqls/live_video_broadcast_status_update_subscribe/video_id_'+j;},_getQueryID:function i(){return c('LiveVideoBroadcastStatusUpdateWebGraphQLSubscription').getLegacyQueryID();},_getQueryParameters:function i(j){return {input:JSON.stringify({client_subscription_id:c('uuid')(),video_id:j})};},_getSubscriptionCallName:function i(){return 'live_video_broadcast_status_update_subscribe';}});f.exports=h;}),null);
__d('LiveVideoBroadcastStatusUpdateSubscriptionHack',['LiveVideoBroadcastStatusUpdateSubscription','Map'],(function a(b,c,d,e,f,g){var h=new (c('Map'))(),i=new (c('Map'))(),j={subscribe:function k(l,m){var n;if(!h.has(l))(function(){var p=[];h.set(l,p);var q=c('LiveVideoBroadcastStatusUpdateSubscription').subscribe(l,function(r){for(var s=p,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var v;if(t){if(u>=s.length)break;v=s[u++];}else{u=s.next();if(u.done)break;v=u.value;}var w=v;w(r);}});i.set(l,q);})();var o=h.get(l);if(o)o.push(m);return {unsubscribe:function p(){var q=h.get(l);if(q){q=q.filter(function(s){return s!==m;});h.set(l,q);if(q.length===0){var r=i.get(l);if(r&&r.unsubscribe)r.unsubscribe();h['delete'](l);i['delete'](l);}}}};}};f.exports=j;}),null);
__d('ReactComposerCustomConfigActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({SET_IS_FEED_ONLY_POST:null},'ReactComposerCustomConfigActionType');}),null);
__d('ReactComposerCustomConfigStore',['ReactComposerStoreBase','ReactComposerCustomConfigActionType'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {isFeedOnlyPost:false};},function(l){switch(l.type){case c('ReactComposerCustomConfigActionType').SET_IS_FEED_ONLY_POST:k&&k.$ReactComposerCustomConfigStore1(l);break;}});k=this;}j.prototype.isFeedOnlyPost=function(k){'use strict';return this.getComposerData(k).isFeedOnlyPost;};j.prototype.$ReactComposerCustomConfigStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','isFeedOnlyPost']),m=l[0],n=l[1],o=this.getComposerData(m);o.isFeedOnlyPost=n;this.emitChange(m);};f.exports=new j();}),null);
__d('LiveVideoBroadcastDispatcher',['ExplicitRegistrationReactDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('ExplicitRegistrationReactDispatcher'));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this);}f.exports=new j({strict:true});}),null);
__d('LiveVideoBroadcastUIStore',['ReactComposerActions','FluxMapStore','immutable','LiveVideoBroadcastConstants','LiveVideoBroadcastDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('LiveVideoBroadcastConstants').ACTIONS,k=c('LiveVideoBroadcastConstants').BROADCAST_STATE,l=c('LiveVideoBroadcastConstants').CAMERA_STATE,m=c('LiveVideoBroadcastConstants').SPEED_TEST_STATUS;h=babelHelpers.inherits(n,c('FluxMapStore'));i=h&&h.prototype;n.prototype.getInitialState=function(){return c('immutable').Map({broadcastCouldNotStart:false,broadcastCouldNotPublish:false,broadcastState:k.PREVIEW,cameraState:l.CHECK_CAMERA_ACCESS,countdownTime:null,connectionBroken:false,connectionFailed:false,dialog:null,dialogContainerID:null,composerConfig:null,isOnline:true,showNUX:false,showReplay:false,startTime:0,wasEverOffline:false,ufiMarkup:null,ufiScrollArea:null,webcamDimension:null,isDescriptionExpanded:false,speedTestStatus:m.PENDING,warnOnExit:true});};n.prototype.reduce=function(o,p){switch(p.type){case j.SHOW_REPLAY:o=o.set('showReplay',true);break;case j.UPDATE_CAMERA_STATE:o=o.set('cameraState',p.value);break;case j.UPDATE_COUNTDOWN:o=o.set('countdownTime',p.value);break;case j.FINISH_COUNT_DOWN:o=o.set('startTime',Date.now());o=o.set('broadcastState',k.READY_TO_LIVE);o=o.set('countdownTime',null);break;case j.START_BROADCAST_SUCCESS:o=o.set('broadcastState',k.LIVE);o=o.set('countdownTime',null);break;case j.START_LIVE_COUNTDOWN:o=o.set('countdownTime',c('LiveVideoBroadcastConstants').COUNTDOWN_START_TIME);break;case j.CANCEL_LIVE_COUNTDOWN:o=o.set('countdownTime',null);break;case j.FINISH_BROADCAST_REQUEST:o=o.set('broadcastState',k.FINISHING);break;case j.FINISH_BROADCAST_SUCCESS:o=o.set('broadcastState',k.FINISHED);o=o.set('showReplay',true);break;case j.SET_WEBCAM_DIMENSION:o=o.set('webcamDimension',p.value);break;case j.ERROR_CONNECTION_BROKEN:o=o.set('connectionBroken',true);break;case j.ERROR_CONNECTION_FAILED:o=o.set('connectionFailed',true);break;case j.WEBRTC_CONNECTION_ESTABLISHED:o=o.set('connectionBroken',false);break;case j.ERROR_BROADCAST_COULD_NOT_START:o=o.set('broadcastCouldNotStart',true);break;case j.ERROR_BROADCAST_PUBLISH_FAIL:o=o.set('broadcastCouldNotPublish',true);o=o.set('broadcastState',k.FINISHED);break;case j.ACCEPT_ERROR_BROADCAST_COULD_NOT_START:o=o.set('broadcastCouldNotStart',false);break;case j.NETWORK_OFFLINE:o=o.set('isOnline',false);o=o.set('wasEverOffline',true);break;case j.NETWORK_ONLINE:o=o.set('isOnline',true);break;case j.SET_SHOW_NUX:o=o.set('showNUX',p.value);break;case j.SET_UFI_MARKUP:o=o.set('ufiMarkup',p.value);break;case j.SET_DIALOG:o=o.set('dialog',p.value);break;case j.SET_DIALOG_CONTAINER_ID:o=o.set('dialogContainerID',p.value);break;case j.SET_COMPOSER_CONFIG:o=o.set('composerConfig',p.value);break;case j.SET_UFI_SCROLL_AREA:o=o.set('ufiScrollArea',p.value);break;case j.SET_DESCRIPTION_EXPANDED:o=o.set('isDescriptionExpanded',p.value);break;case j.SET_SPEED_TEST_STATUS:o=o.set('speedTestStatus',p.value);break;case j.CLEANUP:o=o.set('warnOnExit',false);this.$LiveVideoBroadcastUIStore1();break;case j.INITIALIZE:o=this.getInitialState();o=o.set('dialog',this.get('dialog'));o=o.set('composerConfig',this.get('composerConfig'));o=o.set('description',p.value.description);o=o.set('shortDescription',p.value.shortDescription);break;case j.SET_DESCRIPTION:o=o.set('description',p.value.description);o=o.set('shortDescription',p.value.shortDescription);break;default:break;}return o;};n.prototype.$LiveVideoBroadcastUIStore1=function(){var o=this.get('composerConfig'),p=o&&o.composerID;if(p)c('ReactComposerActions').reset(p);var q=this.get('dialog');if(q){q.destroy();}else window.close();};function n(){h.apply(this,arguments);}f.exports=new n(c('LiveVideoBroadcastDispatcher'));}),null);
__d('ReactComposerLiveVideoActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({BROADCAST_CREATED:null,PREVIEW_ERROR:null,PREVIEW_STARTED:null,SET_USE_DIALOG:null,SET_PREVIOUS_ATTACHMENT:null,SET_TAGGERS_CONFIG:null,SET_SHOW_NUX:null,SET_FUNNEL_TAGS:null},'ReactComposerLiveVideoActionType');}),null);
__d("XLiveVideoBroadcastCreateUIController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live\/broadcast\/dialog\/",{target_id:{type:"Int"},broadcast_id:{type:"Int"},container_id:{type:"String"}});}),null);
__d("XLiveVideoCreateBroadcastController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/create_broadcast\/create\/",{target_id:{type:"FBID",required:true}});}),null);
__d("XLiveVideoCreateBroadcastErrorController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live\/broadcast\/error\/",{});}),null);
__d("XLiveVideoViewSessionController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live\/broadcast\/",{target_id:{type:"Int",required:true},broadcast_id:{type:"Int",required:true}});}),null);
__d('ReactComposerLiveVideoActionStore',['ActorURI','AsyncRequest','LiveVideoBroadcastFunnelLogger','LiveVideoBroadcastUtils','LiveVideoBroadcastUIStore','ReactComposerActionStore','ReactComposerAttachmentType','ReactComposerActions','ReactComposerLiveVideoActionType','ReactComposerLiveVideoActions','XLiveVideoBroadcastCreateUIController','XLiveVideoCreateBroadcastController','XLiveVideoCreateBroadcastErrorController','XLiveVideoViewSessionController'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerActionStore'));i=h&&h.prototype;function j(){'use strict';var k=void 0;i.constructor.call(this,function(){return {};},function(l){switch(l.type){case c('ReactComposerLiveVideoActionType').PREVIEW_STARTED:k&&k.$ReactComposerLiveVideoActionStore1(l);break;case c('ReactComposerLiveVideoActionType').PREVIEW_ERROR:k&&k.$ReactComposerLiveVideoActionStore2(l);break;case c('ReactComposerLiveVideoActionType').BROADCAST_CREATED:k&&k.$ReactComposerLiveVideoActionStore3(l);break;}});k=this;}j.prototype.$ReactComposerLiveVideoActionStore3=function(k){'use strict';var l=this.validateAction(k,['actorID','broadcastID','targetID']),m=l[0],n=l[1],o=l[2];if(c('LiveVideoBroadcastUIStore').get('dialog')){var p=c('LiveVideoBroadcastUIStore').get('dialogContainerID'),q=c('XLiveVideoBroadcastCreateUIController').getURIBuilder(),r=c('ActorURI').create(q.getURI(),m);new (c('AsyncRequest'))().setURI(r).setData({target_id:o,broadcast_id:n,container_id:p}).setMethod('POST').send();}else{var s=c('XLiveVideoViewSessionController').getURIBuilder().setInt('target_id',o).setInt('broadcast_id',n).getURI();s=c('ActorURI').create(s,m);k.windowObjectReference.document.location.replace(s);}c('LiveVideoBroadcastFunnelLogger').fetchedBroadcastID(n);};j.prototype.$ReactComposerLiveVideoActionStore2=function(k){'use strict';var l=c('XLiveVideoCreateBroadcastErrorController').getURIBuilder().getURI();k.windowObjectReference.document.location.replace(l);c('LiveVideoBroadcastFunnelLogger').endWithFailedBroadcastID();};j.prototype.$ReactComposerLiveVideoActionStore1=function(k){'use strict';var l=this.validateAction(k,['actorID','composerID','config','targetID']),m=l[0],n=l[1],o=l[2],p=l[3],q=o.attachmentsConfig[c('ReactComposerAttachmentType').LIVE_VIDEO].composerDialog,r=c('LiveVideoBroadcastUtils').getComposerFormData(n,p,o.contextInfo),s=c('XLiveVideoCreateBroadcastController').getURIBuilder().setFBID('target_id',p).getURI();s=c('ActorURI').create(s,m);new (c('AsyncRequest'))(s).setData(r).setHandler(function(t){c('ReactComposerLiveVideoActions').broadcastCreated(n,k.windowObjectReference,{actorID:m,broadcastID:t.payload.id,targetID:p});if(!q)c('ReactComposerActions').reset(n);}).setErrorHandler(function(){c('ReactComposerLiveVideoActions').previewError(n,k.windowObjectReference);if(!q)c('ReactComposerActions').reset(n);}).send();};f.exports=new j();}),null);
__d('ReactComposerLiveVideoAttachmentStore',['ReactComposerLiveVideoActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k=void 0;i.constructor.call(this,function(){return {liveVideoTaggersConfig:{},isPreviewStarted:false,showLivePreviewButtonNUX:false,funnelTags:[]};},function(l){switch(l.type){case c('ReactComposerLiveVideoActionType').SET_PREVIOUS_ATTACHMENT:k&&k.$ReactComposerLiveVideoAttachmentStore1(l);break;case c('ReactComposerLiveVideoActionType').SET_TAGGERS_CONFIG:k&&k.$ReactComposerLiveVideoAttachmentStore2(l);break;case c('ReactComposerLiveVideoActionType').PREVIEW_ERROR:k&&k.$ReactComposerLiveVideoAttachmentStore3(l);break;case c('ReactComposerLiveVideoActionType').PREVIEW_STARTED:k&&k.$ReactComposerLiveVideoAttachmentStore4(l);break;case c('ReactComposerLiveVideoActionType').SET_SHOW_NUX:k&&k.$ReactComposerLiveVideoAttachmentStore5(l);break;case c('ReactComposerLiveVideoActionType').SET_USE_DIALOG:k&&k.$ReactComposerLiveVideoAttachmentStore6(l);break;case c('ReactComposerLiveVideoActionType').SET_FUNNEL_TAGS:k&&k.$ReactComposerLiveVideoAttachmentStore7(l);break;}});k=this;}j.prototype.getPreviousAttachment=function(k){'use strict';return this.getComposerData(k).liveVideoPreviousAttachment;};j.prototype.getTaggersConfig=function(k){'use strict';return this.getComposerData(k).liveVideoTaggersConfig;};j.prototype.isPreviewStarted=function(k){'use strict';return this.getComposerData(k).isPreviewStarted;};j.prototype.getShowNUX=function(k){'use strict';return this.getComposerData(k).showLivePreviewButtonNUX;};j.prototype.getUseDialog=function(k){'use strict';return this.getComposerData(k).useDialog;};j.prototype.getFunnelTags=function(k){'use strict';return this.getComposerData(k).funnelTags;};j.prototype.$ReactComposerLiveVideoAttachmentStore1=function(k){'use strict';var l=this.getComposerData(k.composerID);l.liveVideoPreviousAttachment=k.previousAttachment;this.emitChange(k.composerID);};j.prototype.$ReactComposerLiveVideoAttachmentStore2=function(k){'use strict';var l=this.getComposerData(k.composerID);l.liveVideoTaggersConfig=k.taggersConfig;this.emitChange(k.composerID);};j.prototype.$ReactComposerLiveVideoAttachmentStore4=function(k){'use strict';var l=this.getComposerData(k.composerID);l.isPreviewStarted=true;this.emitChange(k.composerID);};j.prototype.$ReactComposerLiveVideoAttachmentStore3=function(k){'use strict';var l=this.getComposerData(k.composerID);l.isPreviewStarted=false;this.emitChange(k.composerID);};j.prototype.$ReactComposerLiveVideoAttachmentStore5=function(k){'use strict';var l=this.getComposerData(k.composerID);l.showLivePreviewButtonNUX=k.showNUX;this.emitChange(k.composerID);};j.prototype.$ReactComposerLiveVideoAttachmentStore6=function(k){'use strict';var l=this.getComposerData(k.composerID);l.useDialog=k.useDialog;this.emitChange(k.composerID);};j.prototype.$ReactComposerLiveVideoAttachmentStore7=function(k){'use strict';var l=this.getComposerData(k.composerID);l.funnelTags=k.funnelTags;this.emitChange(k.composerID);};f.exports=new j();}),null);
__d('ReactComposerLiveVideoActions',['ReactComposerLiveVideoActionType','ReactComposerDispatcher','ReactComposerLiveVideoActionStore','ReactComposerLiveVideoAttachmentStore'],(function a(b,c,d,e,f,g){c('ReactComposerLiveVideoActionStore');c('ReactComposerLiveVideoAttachmentStore');var h={broadcastCreated:function i(j,k,l){setTimeout(function(){return c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerLiveVideoActionType').BROADCAST_CREATED,actorID:l.actorID,broadcastID:l.broadcastID,targetID:l.targetID,windowObjectReference:k});},0);},previewError:function i(j,k){var l={composerID:j,type:c('ReactComposerLiveVideoActionType').PREVIEW_ERROR,windowObjectReference:k};c('ReactComposerDispatcher').dispatch(l);},previewStarted:function i(j,k){setTimeout(function(){return c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerLiveVideoActionType').PREVIEW_STARTED,actorID:k.actorID,config:k.config,targetID:k.targetID,windowObjectReference:k.windowObjectReference});},0);},setPreviousAttachment:function i(j,k){var l={composerID:j,type:c('ReactComposerLiveVideoActionType').SET_PREVIOUS_ATTACHMENT,previousAttachment:k};c('ReactComposerDispatcher').dispatch(l);},setTaggersConfig:function i(j,k){var l={composerID:j,type:c('ReactComposerLiveVideoActionType').SET_TAGGERS_CONFIG,taggersConfig:k};c('ReactComposerDispatcher').dispatch(l);},setShowNUX:function i(j,k){var l={composerID:j,type:c('ReactComposerLiveVideoActionType').SET_SHOW_NUX,showNUX:k};c('ReactComposerDispatcher').dispatch(l);},setUseDialog:function i(j,k){var l={composerID:j,type:c('ReactComposerLiveVideoActionType').SET_USE_DIALOG,useDialog:k};c('ReactComposerDispatcher').dispatch(l);},setFunnelTags:function i(j,k){var l={composerID:j,type:c('ReactComposerLiveVideoActionType').SET_FUNNEL_TAGS,funnelTags:k};c('ReactComposerDispatcher').dispatch(l);}};f.exports=h;}),null);
__d('LiveVideoBroadcastActions',['LiveVideoBroadcastDispatcher'],(function a(b,c,d,e,f,g){var h={initialize:function i(j){var k={type:'INITIALIZE',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},updateCameraState:function i(j){var k={type:'UPDATE_CAMERA_STATE',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},startLiveBroadcastRequest:function i(j){var k={type:'START_BROADCAST_REQUEST',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},startLiveCountdown:function i(){var j={type:'START_LIVE_COUNTDOWN'};c('LiveVideoBroadcastDispatcher').dispatch(j);},startLiveBroadcastSuccess:function i(){var j={type:'START_BROADCAST_SUCCESS'};c('LiveVideoBroadcastDispatcher').dispatch(j);},finishBroadcastRequest:function i(){var j={type:'FINISH_BROADCAST_REQUEST'};c('LiveVideoBroadcastDispatcher').dispatch(j);},finishBroadcastSuccess:function i(){var j={type:'FINISH_BROADCAST_SUCCESS'};c('LiveVideoBroadcastDispatcher').dispatch(j);},cancelLiveCountdown:function i(){var j={type:'CANCEL_LIVE_COUNTDOWN'};c('LiveVideoBroadcastDispatcher').dispatch(j);},updateCountdown:function i(j){var k={type:'UPDATE_COUNTDOWN',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},showReplay:function i(){var j={type:'SHOW_REPLAY'};c('LiveVideoBroadcastDispatcher').dispatch(j);},hideCommentPlaceholder:function i(){var j={type:'HIDE_COMMENT_PLACEHOLDER'};c('LiveVideoBroadcastDispatcher').dispatch(j);},setWebcamDimension:function i(j){var k={type:'SET_WEBCAM_DIMENSION',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},getWebcamStreamUrlRequest:function i(){var j={type:'GET_WEBCAM_STREAM_URL_REQUEST'};c('LiveVideoBroadcastDispatcher').dispatch(j);},getWebcamStreamUrlSuccess:function i(j){var k={type:'GET_WEBCAM_STREAM_URL_SUCCESS',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},actionButtonClick:function i(){var j={type:'ACTION_BUTTON_CLICK'};c('LiveVideoBroadcastDispatcher').dispatch(j);},setReplayShouldUploadHigherQualityVideo:function i(j){var k={type:'SET_REPLAY_SHOULD_UPLOAD_HIGHER_QUALITY_VIDEO',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},errorConnectionBroken:function i(){var j={type:'ERROR_CONNECTION_BROKEN'};c('LiveVideoBroadcastDispatcher').dispatch(j);},errorConnectionFailed:function i(){var j={type:'ERROR_CONNECTION_FAILED'};c('LiveVideoBroadcastDispatcher').dispatch(j);},errorMediaValidation:function i(j){var k={type:'ERROR_MEDIA_VALIDATION',errorMessage:j.message};c('LiveVideoBroadcastDispatcher').dispatch(k);},attemptReconnection:function i(){var j={type:'ATTEMPT_RECONNECTION'};c('LiveVideoBroadcastDispatcher').dispatch(j);},webRTCConnectionEstablished:function i(){var j={type:'WEBRTC_CONNECTION_ESTABLISHED'};c('LiveVideoBroadcastDispatcher').dispatch(j);},iceConnectionStateChanged:function i(j){var k={type:'ICE_CONNECTION_STATE_CHANGED',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},errorBroadcastCouldNotStart:function i(){var j={type:'ERROR_BROADCAST_COULD_NOT_START'};c('LiveVideoBroadcastDispatcher').dispatch(j);},errorBroadcastCouldNotStartAccepted:function i(){var j={type:'ACCEPT_ERROR_BROADCAST_COULD_NOT_START'};c('LiveVideoBroadcastDispatcher').dispatch(j);},deleteReplayVideo:function i(){var j={type:'DELETE_REPLAY_VIDEO'};c('LiveVideoBroadcastDispatcher').dispatch(j);},errorBroadcastPublishFail:function i(){var j={type:'ERROR_BROADCAST_PUBLISH_FAIL'};c('LiveVideoBroadcastDispatcher').dispatch(j);},handleNetworkOffline:function i(){var j={type:'NETWORK_OFFLINE'};c('LiveVideoBroadcastDispatcher').dispatch(j);},handleNetworkOnline:function i(){var j={type:'NETWORK_ONLINE'};c('LiveVideoBroadcastDispatcher').dispatch(j);},prepareThumbnailUri:function i(){var j={type:'PREPARE_THUMBNAIL_URI'};c('LiveVideoBroadcastDispatcher').dispatch(j);},setThumbnailUri:function i(j){var k={type:'SET_THUMBNAIL_URI',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},setCopyrightTriggered:function i(j){var k={type:'SET_COPYRIGHT_TRIGGERED',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},setVodReady:function i(){var j={type:'SET_VOD_READY'};c('LiveVideoBroadcastDispatcher').dispatch(j);},handleCopyrightEvent:function i(j){var k={type:'HANDLE_COPYRIGHT_EVENT',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},setBroadcastEndedWithCopyrightViolation:function i(){var j={type:'SET_BROADCAST_ENDED_WITH_COPYRIGHT_VIOLATION'};c('LiveVideoBroadcastDispatcher').dispatch(j);},finishCountdown:function i(){var j={type:'FINISH_COUNT_DOWN'};c('LiveVideoBroadcastDispatcher').dispatch(j);},setShowNUX:function i(j){var k={type:'SET_SHOW_NUX',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},requestUFI:function i(){var j={type:'REQUEST_UFI'};c('LiveVideoBroadcastDispatcher').dispatch(j);},setUfiMarkup:function i(j){var k={type:'SET_UFI_MARKUP',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},setDialog:function i(j){var k={type:'SET_DIALOG',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},setDialogContainerID:function i(j){var k={type:'SET_DIALOG_CONTAINER_ID',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},setComposerConfig:function i(j){var k={type:'SET_COMPOSER_CONFIG',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},setUfiScrollArea:function i(j){var k={type:'SET_UFI_SCROLL_AREA',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},logWebRTCStats:function i(j){var k={type:'LOG_WEBRTC_STATS',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},setDescriptionExpanded:function i(j){var k={type:'SET_DESCRIPTION_EXPANDED',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},setSpeedTestStatus:function i(j){var k={type:'SET_SPEED_TEST_STATUS',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},logSpeedTestResult:function i(j){var k={type:'LOG_SPEED_TEST_RESULT',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},logStreamLinkClick:function i(){var j={type:'LOG_STREAM_LINK_CLICK'};c('LiveVideoBroadcastDispatcher').dispatch(j);},cleanup:function i(){var j={type:'CLEANUP'};c('LiveVideoBroadcastDispatcher').dispatch(j);},setDescription:function i(j){var k={type:'SET_DESCRIPTION',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);}};f.exports=h;}),null);
__d("XLiveVideoSessionLoadingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live\/broadcast\/loading\/",{});}),null);
__d('LiveVideoBroadcastUtils',['cx','LiveVideoBroadcastActions','CenteredContainer.react','ReactComposerAttachmentType','ReactComposerCustomConfigStore','ReactComposerLiveVideoActions','ReactComposerLiveVideoAttachmentStore','ReactComposerPostDataUtils','CSS','DialogX','DOM','LayerDestroyOnHide','LayerHideOnTransition','LiveVideoBroadcastDispatcher','LiveVideoBroadcastFunnelLogger','PopupWindow','React','ReactDOM','StorySurfaces','Style','XLiveVideoSessionLoadingController','XUISpinner.react','uniqueID','LiveVideoBroadcastUIStore'],(function a(b,c,d,e,f,g,h){'use strict';var i=660,j=1440;function k(q){var r={};for(var s=Object.values(q),t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var v;if(t){if(u>=s.length)break;v=s[u++];}else{u=s.next();if(u.done)break;v=u.value;}var w=v;if(w.type==='ssrc'){var x=w.packetsLost||0;if(w.mediaType==='audio'){r.audio_packets_lost=x;}else r.video_packets_lost=x;if('bytesSent' in w){var y=w.bytesSent,z=w.packetsSent;if(w.mediaType==='audio'){r.audio_bytes_sent=y;r.audio_packets_sent=z;}else{r.video_bytes_sent=y;r.video_packets_sent=z;}}else{var aa=w.bytesReceived,ba=w.packetsReceived;if(w.mediaType==='audio'){r.audio_bytes_received=aa;r.audio_packets_sent=ba;}else{r.video_bytes_received=aa;r.video_packets_received=ba;}}}else if(w.type==='VideoBwe'){r.send_bandwidth=w.googAvailableSendBandwidth;r.transmit_bitrate=w.googTransmitBitrate;r.encoding_bitrate=w.googActualEncBitrate;}else if(w.type==='googCandidatePair'&&w.googActiveConnection==='true')r.transport_type=w.googTransportType;}return r;}function l(q,r){var s=c('ReactComposerLiveVideoAttachmentStore').getFunnelTags(q.composerID),t=c('ReactComposerLiveVideoAttachmentStore').getUseDialog(q.composerID),u=r.attachmentsConfig[c('ReactComposerAttachmentType').LIVE_VIDEO].composerDialog,v=t||u;c('LiveVideoBroadcastFunnelLogger').maybeStartAndLaunchLiveComposer(q.composerID);if(s)c('LiveVideoBroadcastFunnelLogger').addFunnelTags(s);var w=null;if(v){m(q,r);}else w=c('PopupWindow').open(c('XLiveVideoSessionLoadingController').getURIBuilder().getURI(),i,j);c('ReactComposerLiveVideoActions').previewStarted(q.composerID,{actorID:q.actorID,config:r,targetID:q.targetID,windowObjectReference:w});}function m(q,r){var s={fixedTopPosition:42,width:500,xui:true,addedBehaviors:[c('LayerDestroyOnHide'),c('LayerHideOnTransition')]},t=c('uniqueID')(),u=c('DOM').create('div');c('ReactDOM').render(c('React').createElement('div',null,c('React').createElement('div',{id:t},c('React').createElement(c('CenteredContainer.react'),{horizontal:true,vertical:true},c('React').createElement(c('XUISpinner.react'),{background:'dark',size:'large'})))),u);var v=new (c('DialogX'))(s,u);c('CSS').addClass(v.getRoot(),"_2k_g");c('Style').set(v.getContentRoot(),'width','100%');v.show();c('LiveVideoBroadcastDispatcher').explicitlyRegisterStores([c('LiveVideoBroadcastUIStore')]);c('LiveVideoBroadcastActions').setDialog(v);c('LiveVideoBroadcastActions').setDialogContainerID(t);c('LiveVideoBroadcastActions').setComposerConfig({config:r,contextConfig:q,composerID:q.composerID});}function n(q,r,s){var t=c('ReactComposerPostDataUtils').getPostData({composerID:q,targetID:r,composerConfig:{contextInfo:s}}),u=c('ReactComposerCustomConfigStore').isFeedOnlyPost(q)?[c('StorySurfaces').TIMELINE]:null,v={};Object.assign(v,{description:t.xhpc_message,is_explicit_place:t.is_explicit_place,place:t.composertags_place,post_surfaces_blacklist:u});if(t.object_id.length>0){v.og_object_id=t.object_id[0];}else if(t.object_str.length>0)v.og_object_str=t.object_str[0];if(t.action_type_id.length>0)v.og_action_type_id=t.action_type_id[0];if(t.privacyx)v.privacyx=t.privacyx;if(t.composertags_with.length>0)v.with_tags=t.composertags_with;return v;}function o(q,r){c('LiveVideoBroadcastActions').setDescription({description:q,shortDescription:r});}var p={reduceWebRTCStats:k,startPreviewUI:l,getComposerFormData:n,updateBroadcastUIState:o};f.exports=p;}),null);