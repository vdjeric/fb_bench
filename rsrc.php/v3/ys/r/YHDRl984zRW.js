if (self.CavalryLogger) { CavalryLogger.start_js(["Djx\/P"]); }

__d('PopoverAsyncMenu.react',['cx','CSS','InlineBlock.react','MenuTheme','Popover','PopoverAsyncMenu','PopoverLoadingMenu','PopoverMenu.react','React','ReactDOM','URI','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.getPopoverMenu=function(){return this.$ReactPopoverAsyncMenu2;}.bind(this),this.$ReactPopoverAsyncMenu3=function(){var r=c('ReactDOM').findDOMNode(this.refs.root),s=r.firstChild;return new (c('PopoverAsyncMenu'))(this.$ReactPopoverAsyncMenu1,s,this.props.loadingMenu,this.props.endpoint,this.props.behaviors,this.props.endpointData);}.bind(this),this.getMenu=function(){return this.$ReactPopoverAsyncMenu2.getMenu();}.bind(this),this.showPopover=function(r){this.$ReactPopoverAsyncMenu1.showLayer();if(r){var s=this.$ReactPopoverAsyncMenu2.getMenu();s.blur();s.focusAnItem(r);}}.bind(this),this.hidePopover=function(){var r=this.$ReactPopoverAsyncMenu1;if(r&&r.isShown())r.hideLayer();}.bind(this),this.getFocusedItem=function(){var r=this.$ReactPopoverAsyncMenu2.getMenu();return r.getFocusedItem();}.bind(this),n;}l.prototype.componentDidMount=function(){'use strict';var m=c('ReactDOM').findDOMNode(this.refs.root),n=m.firstChild;c('CSS').addClass(n,"_p");this.$ReactPopoverAsyncMenu1=new (c('Popover'))(m,n,this.props.layerBehaviors,{alignh:this.props.alignh,position:this.props.position,disabled:this.props.disabled});if(this.props.onShow)this.$ReactPopoverAsyncMenu1.subscribe('show',this.props.onShow);if(this.props.onHide)this.$ReactPopoverAsyncMenu1.subscribe('hide',this.props.onHide);this.$ReactPopoverAsyncMenu2=this.$ReactPopoverAsyncMenu3();};l.prototype.componentDidUpdate=function(m){'use strict';if(this.props.alignh!==m.alignh)this.$ReactPopoverAsyncMenu2.getPopover().getLayer().setAlignment(this.props.alignh);if(this.props.disabled!==m.disabled)if(this.props.disabled){this.$ReactPopoverAsyncMenu2.disable();}else this.$ReactPopoverAsyncMenu2.enable();if(this.props.endpoint.toString()!==m.endpoint.toString()){this.hidePopover();this.$ReactPopoverAsyncMenu2=this.$ReactPopoverAsyncMenu3();}};l.prototype.render=function(){'use strict';var m=c('React').Children.map(this.props.children,function(n,o){if(o===0){return c('React').cloneElement(n,{className:c('joinClasses')(n.props.className,"_p")});}else return n;});return c('React').createElement(c('InlineBlock.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"uiPopover"),ref:'root',disabled:null}),m);};l.prototype.componentWillUnmount=function(){'use strict';this.hidePopover();};l.getButtonSize=c('PopoverMenu.react').getButtonSize;l.propTypes={alignh:k.oneOf(['left','center','right']),alignv:k.oneOf(['baseline','bottom','middle','top']),position:k.oneOf(['above','below','left','right']),layerBehaviors:k.array,loadingMenu:k.instanceOf(c('PopoverLoadingMenu')),disabled:k.bool,endpoint:k.oneOfType([k.string.isRequired,k.instanceOf(c('URI')).isRequired]),endpointData:k.object,onShow:k.func,onHide:k.func};l.defaultProps={alignv:'middle',loadingMenu:new (c('PopoverLoadingMenu'))({theme:c('MenuTheme')})};f.exports=l;}),null);
__d('UFIShareNowMenu.react',['ContextualDialogArrow','ContextualLayerAsyncRelative','ContextualLayerAutoFlip','PopoverAsyncMenu.react','React','ShareNowController','UFIShareLink.react'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$UFIShareNowMenu1=function(q){if(!q)return;var r=q.getPopoverMenu();c('ShareNowController').initMenu(r);if(this.props.focusOnInit)r.getTriggerElem().focus();if(this.props.openOnInit)r.getTriggerElem().click();}.bind(this),m;}k.prototype.render=function(){var l=this.props,m=l.endpoint,n=l.endpointData,o=l.onShow,p=l.onHide;return (c('React').createElement(c('PopoverAsyncMenu.react'),{alignv:'baseline',endpoint:m,endpointData:n,onShow:o,onHide:p,layerBehaviors:[c('ContextualLayerAutoFlip'),c('ContextualDialogArrow'),c('ContextualLayerAsyncRelative')],ref:this.$UFIShareNowMenu1},c('React').createElement(c('UFIShareLink.react'),{href:'#','data-testid':this.props.testID})));};k.propTypes={focusOnInit:j.bool,openOnInit:j.bool,testID:j.string};f.exports=k;}),null);