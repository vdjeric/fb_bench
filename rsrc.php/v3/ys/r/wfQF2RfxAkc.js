if (self.CavalryLogger) { CavalryLogger.start_js(["mXOKr"]); }

__d("XPlaceClaimLogEntryPointController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pages\/place_claim\/log_entry_point\/",{});}),null);
__d('PlaceClaimLogEntryPoint',['AsyncRequest','Event','XPlaceClaimLogEntryPointController'],(function a(b,c,d,e,f,g){var h={init:function i(j,k,l){c('Event').listen(j,'click',function(){this.sendLoggingRequest(k,l);}.bind(this));},initMenu:function i(j,k,l,m){j.subscribe('itemclick',function(n,o){if(o.item.getValue()==k)this.sendLoggingRequest(l,m);}.bind(this));},sendLoggingRequest:function i(j,k){var l=c('XPlaceClaimLogEntryPointController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(l).setData({pageid:j,pageevent:k}).setMethod('POST').send();}};f.exports=h;}),null);
__d('SaveState',[],(function a(b,c,d,e,f,g){var h={SAVING:'saving',SAVED:'saved',UNSAVING:'unsaving',UNSAVED:'unsaved'};f.exports=h;}),null);
__d('SaveStateHandler',['Run','SaveState'],(function a(b,c,d,e,f,g){var h=null;function i(){'use strict';this.$SaveStateHandler1={};this.$SaveStateHandler2={};c('Run').onLeave(function(){h=null;});}i.prototype.addListener=function(j,k){'use strict';if(!this.$SaveStateHandler1[j])this.$SaveStateHandler1[j]=[];this.$SaveStateHandler1[j].push(k);};i.prototype.setState=function(j,k){'use strict';j.forEach(function(l){this.$SaveStateHandler2[l]=k;if(!this.$SaveStateHandler1[l])return;var m=this.$SaveStateHandler1[l];m.forEach(function(n){try{n.call(window,k);}catch(o){}});},this);};i.prototype.getState=function(j){'use strict';return this.$SaveStateHandler2[j];};i.$SaveStateHandler3=function(){'use strict';if(!h)h=new i();return h;};i.listen=function(j,k){'use strict';this.$SaveStateHandler3().addListener(j,k);};i.getState=function(j){'use strict';this.$SaveStateHandler3().getState(j);};i.saving=function(j){'use strict';this.$SaveStateHandler3().setState(j,c('SaveState').SAVING);};i.saved=function(j){'use strict';this.$SaveStateHandler3().setState(j,c('SaveState').SAVED);};i.unsaving=function(j){'use strict';this.$SaveStateHandler3().setState(j,c('SaveState').UNSAVING);};i.unsaved=function(j){'use strict';this.$SaveStateHandler3().setState(j,c('SaveState').UNSAVED);};i.isSaveAction=function(j){'use strict';var k=this.$SaveStateHandler3().getState(j);return k==c('SaveState').UNSAVED||k==c('SaveState').UNSAVING;};f.exports=i;}),null);
__d('CurationToggleButton',['cx','CSS','Event','SaveState','SaveStateHandler','tidyEvent'],(function a(b,c,d,e,f,g,h){var i="_vu",j="_vv";function k(l,m,n,o,p){'use strict';this.$CurationToggleButton1=false;this.$CurationToggleButton2=p;c('tidyEvent')([c('Event').listen(m,'click',this.setSaving.bind(this)),c('Event').listen(m,'error',this.setUnsaved.bind(this)),c('Event').listen(n,'click',this.setUnsaving.bind(this)),c('Event').listen(n,'error',this.setSaved.bind(this))]);c('SaveStateHandler').listen(o,function(q){switch(q){case c('SaveState').SAVING:c('CSS').addClass(l,i);c('CSS').addClass(l,j);n.setAttribute('rel','');this.$CurationToggleButton1=true;break;case c('SaveState').SAVED:c('CSS').addClass(l,i);c('CSS').removeClass(l,j);n.setAttribute('rel','async-post');this.$CurationToggleButton1=false;break;case c('SaveState').UNSAVING:c('CSS').removeClass(l,i);c('CSS').addClass(l,j);m.setAttribute('rel','');this.$CurationToggleButton1=true;break;case c('SaveState').UNSAVED:c('CSS').removeClass(l,i);c('CSS').removeClass(l,j);m.setAttribute('rel','async-post');this.$CurationToggleButton1=false;break;}}.bind(this));}k.prototype.setSaving=function(){'use strict';if(!this.$CurationToggleButton1)c('SaveStateHandler').saving(this.$CurationToggleButton2);};k.prototype.setUnsaving=function(){'use strict';if(!this.$CurationToggleButton1)c('SaveStateHandler').unsaving(this.$CurationToggleButton2);};k.prototype.setSaved=function(){'use strict';c('SaveStateHandler').saved(this.$CurationToggleButton2);};k.prototype.setUnsaved=function(){'use strict';c('SaveStateHandler').unsaved(this.$CurationToggleButton2);};f.exports=k;}),null);