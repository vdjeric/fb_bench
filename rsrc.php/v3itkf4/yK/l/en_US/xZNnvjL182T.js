if (self.CavalryLogger) { CavalryLogger.start_js(["RrQPb"]); }

__d("ReactComposerSproutType",[],(function a(b,c,d,e,f,g){f.exports={ACTIVITY:"ACTIVITY",ALBUM:" ALBUM",LOCATION:"LOCATION",MEDIA:"MEDIA",PEOPLE:"PEOPLE",NOTE:"NOTE",LIVE_VIDEO:"LIVE_VIDEO",MARKDOWN:"MARKDOWN",FORMATTED_TEXT:"FORMATTED_TEXT",SPONSOR:"SPONSOR",ELLIPSIS:"ELLIPSIS"};}),null);
__d("WorkFeedComposerLoggerEvent",[],(function a(b,c,d,e,f,g){f.exports={SHOW_COMPOSER:"SHOW_COMPOSER",OPEN_GROUP_SEARCH:"OPEN_GROUP_SEARCH",TYPING_GROUP_QUERY:"TYPING_GROUP_QUERY",SELECT_GROUP:"SELECT_GROUP",CREATE_POST:"CREATE_POST"};}),null);
__d('CampfireCharacters',[],(function a(b,c,d,e,f,g){'use strict';var h={EMBED:'\ud83d\uddbc',PHOTO:'\ud83d\udcf7',VIDEO:'\ud83d\udcf9'};f.exports=h;}),null);
__d('CampfireCommands',[],(function a(b,c,d,e,f,g){var h={TOGGLE_LINK:'TOGGLE_LINK',SAVE_DRAFT:'SAVE_DRAFT'};f.exports=h;}),null);
__d('calculateMenuTop',['DOMVector','Style'],(function a(b,c,d,e,f,g){function h(i,j){var k=b.getSelection(),l=k.anchorNode,m=k.focusNode;if(l===null||m===null)return null;var n=i.getIsBackward()?m:l;while(n&&(!n.getAttribute||!n.getAttribute('data-block')))n=n.parentNode;if(!n)return null;var o=c('DOMVector').getElementPosition(n,'viewport').y,p=c('DOMVector').getElementPosition(j,'viewport').y,q=c('Style').getFloat(n,'paddingTop'),r=c('Style').getFloat(n,'lineHeight'),s=o+q+r/2;return Math.floor(s-p);}f.exports=h;}),null);
__d('WorkFeedComposerTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:WorkFeedComposerLoggerConfig',this.$WorkFeedComposerTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:WorkFeedComposerLoggerConfig',this.$WorkFeedComposerTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$WorkFeedComposerTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$WorkFeedComposerTypedLogger1=babelHelpers['extends']({},this.$WorkFeedComposerTypedLogger1,j);return this;};h.prototype.setEvent=function(j){this.$WorkFeedComposerTypedLogger1.event=j;return this;};h.prototype.setVC=function(j){this.$WorkFeedComposerTypedLogger1.vc=j;return this;};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$WorkFeedComposerTypedLogger1=babelHelpers['extends']({},this.$WorkFeedComposerTypedLogger1,j);return this;};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l);};var i={event:true,vc:true};f.exports=h;}),null);
__d("XNotesUserEmbedsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/notes\/composer\/embeds\/",{original_src:{type:"String",required:true}});}),null);
__d('NotesEmbed.react',['cx','fbt','ActorURI','AsyncRequest','Keys','React','XNotesUserEmbedsController','XUIButton.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIText.react','XUITextInput.react'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={error:null,loading:false,src:''},this.$NotesEmbed1=function(){this.refs.src.focusInput();}.bind(this),this.$NotesEmbed2=function(){if(this.state.loading)return;if(this.state.src.trim()===''){this.setState({error:'Please enter a URL.'},this.$NotesEmbed1);return;}var s=function(){var t=c('XNotesUserEmbedsController').getURIBuilder().setString('original_src',this.state.src).getURI();t=c('ActorURI').create(t,this.props.ownerID);new (c('AsyncRequest'))(t).setHandler(function(u){var v=u.getPayload(),w=v.embedData;this.props.onEmbed(w);this.props.onClose();}.bind(this)).setErrorHandler(function(u){var v=u.errorDescription;this.setState({error:v,loading:false},this.$NotesEmbed1);}.bind(this)).send();}.bind(this);this.setState({loading:true},s);}.bind(this),this.$NotesEmbed3=function(s){this.setState({error:null,src:s.target.value});}.bind(this),this.$NotesEmbed4=function(s){switch(s.which){case c('Keys').RETURN:s.preventDefault();this.$NotesEmbed2();}}.bind(this),o;}m.prototype.componentDidMount=function(){'use strict';setTimeout(this.$NotesEmbed1,0);};m.prototype.render=function(){'use strict';var n=i._("Paste in the URL for the media you want to insert into your note...");return (c('React').createElement('div',null,c('React').createElement(c('XUIDialogTitle.react'),null,i._("Embed photos, videos, and more")),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement(c('XUITextInput.react'),{className:"_ipd",onChange:this.$NotesEmbed3,onKeyDown:this.$NotesEmbed4,placeholder:n,ref:'src',xuiError:this.state.error}),c('React').createElement(c('XUIText.react'),{className:"_ipe",display:'block'},i._("We currently support embedding from Facebook, Giphy, Instagram, SoundCloud, Twitter, Vimeo, Vine, and YouTube."))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIButton.react'),{disabled:this.state.loading,label:i._("Insert"),onClick:this.$NotesEmbed2,use:'confirm'}))));};m.propTypes={onClose:l.func.isRequired,onEmbed:l.func.isRequired,ownerID:l.string.isRequired};f.exports=m;}),null);
__d('NotesEmbedDialog',['DialogX','NotesEmbed.react','React','emptyFunction'],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$NotesEmbedDialog2=i.onEmbed;this.$NotesEmbedDialog3=i.onEmbedCancel||c('emptyFunction');this.$NotesEmbedDialog4=i.ownerID;this.$NotesEmbedDialog1=new (c('DialogX'))({width:500},c('React').createElement(c('NotesEmbed.react'),{onClose:function(){return this.hide();}.bind(this),onEmbed:this.$NotesEmbedDialog2,ownerID:this.$NotesEmbedDialog4}));this.$NotesEmbedDialog1.subscribe('cancel',function(){return this.$NotesEmbedDialog3();}.bind(this));}h.prototype.hide=function(){'use strict';this.$NotesEmbedDialog1.hide();};h.prototype.show=function(){'use strict';this.$NotesEmbedDialog1.show();};f.exports=h;}),null);
__d("XNotesUserPhotosController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/notes\/composer\/photos\/",{thumb_height:{type:"Int",required:true},thumb_width:{type:"Int",required:true}});}),null);
__d('NotesPhotoPicker.react',['ix','cx','fbt','glyph','ActorURI','AsyncRequest','CssBackgroundImage.react','FileInput.react','Grid.react','Image.react','React','ScrollableArea.react','XNotesUserPhotosController','XUIButton.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react','XUISpinner.react','cssURL','getObjectValues'],(function a(b,c,d,e,f,g,h,i,j,k){var l,m,n=c('Grid.react').GridItem,o=c('React').PropTypes,p=338,q=116,r=149;l=babelHelpers.inherits(s,c('React').Component);m=l&&l.prototype;function s(){var t,u;'use strict';for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=m.constructor).call.apply(t,[this].concat(w)),this.state={photoData:null},this.renderThumbnailGrid=function(){if(!this.state.photoData)return (c('React').createElement('div',{className:"_5tki",style:{height:p+'px'}},c('React').createElement(c('XUISpinner.react'),{className:"_5tkj",size:'large'})));var y=c('getObjectValues')(this.state.photoData).map(function(z){var aa=function(){this.props.onPhotoPicked(z);this.props.onClose();}.bind(this);return (c('React').createElement(n,{key:'thumbnail_'+z.originalPhotoData.id,onClick:aa},c('React').createElement('div',{className:"_5tkk"},c('React').createElement(c('CssBackgroundImage.react'),{imageURI:z.thumbnailSrc,className:"_5tkl",height:q+'px',width:r+'px'}))));}.bind(this));return (c('React').createElement(c('Grid.react'),{cols:4,spacing:"_2phz"},y));}.bind(this),this.onFileInputChange=function(event){this.props.onPhotoUpload(event.target);this.props.onClose();}.bind(this),u;}s.prototype.componentWillMount=function(){'use strict';var t=c('XNotesUserPhotosController').getURIBuilder().setInt('thumb_height',q).setInt('thumb_width',r).getURI();t=c('ActorURI').create(t,this.props.ownerID);new (c('AsyncRequest'))(t).setHandler(function(u){var v=u.payload.photoData;if(v)this.setState({photoData:v});}.bind(this)).send();};s.prototype.render=function(){'use strict';var t=j._("Add Photo To Note");if(this.props.isDoc)t=j._("Add Photo To Doc");return c('React').createElement('div',null,c('React').createElement(c('XUIDialogTitle.react'),null,t),c('React').createElement(c('XUIDialogBody.react'),{className:"_5tkf"},c('React').createElement(c('ScrollableArea.react'),{height:p,shadow:false},this.renderThumbnailGrid())),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('FileInput.react'),{name:'file',onChange:this.onFileInputChange,accept:'image/*'},c('React').createElement(c('XUIButton.react'),{image:c('React').createElement(c('Image.react'),{src:h("101456")}),href:{url:'#'},label:j._("Upload New Photo")})),c('React').createElement(c('XUIButton.react'),{className:"_5tkg layerCancel",label:j._("Close"),use:'confirm'})));};s.propTypes={onClose:o.func.isRequired,onPhotoPicked:o.func.isRequired,onPhotoUpload:o.func.isRequired,isDoc:o.bool};f.exports=s;}),null);
__d('NotesPhotoPickerDialog',['DialogX','NotesPhotoPicker.react','React','emptyFunction'],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$NotesPhotoPickerDialog1=null;this.$NotesPhotoPickerDialog2=i.onPhotoPicked;this.$NotesPhotoPickerDialog3=i.onPhotoUpload;this.$NotesPhotoPickerDialog4=i.onPhotoCancel||c('emptyFunction');this.$NotesPhotoPickerDialog5=i.ownerID;this.$NotesPhotoPickerDialog6=i.isDoc;}h.prototype.hide=function(){'use strict';if(this.$NotesPhotoPickerDialog1)this.$NotesPhotoPickerDialog1.hide();};h.prototype.show=function(){'use strict';if(!this.$NotesPhotoPickerDialog1){this.$NotesPhotoPickerDialog1=new (c('DialogX'))({width:690},c('React').createElement(c('NotesPhotoPicker.react'),{onClose:function(){return this.hide();}.bind(this),onPhotoPicked:this.$NotesPhotoPickerDialog2,onPhotoUpload:this.$NotesPhotoPickerDialog3,ownerID:this.$NotesPhotoPickerDialog5,isDoc:this.$NotesPhotoPickerDialog6}));this.$NotesPhotoPickerDialog1.subscribe('cancel',function(){return this.$NotesPhotoPickerDialog4();}.bind(this));}this.$NotesPhotoPickerDialog1.show();};f.exports=h;}),null);
__d("XNotesUserVideosController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/notes\/composer\/videos\/",{is_from_cover:{type:"Bool",defaultValue:false}});}),null);
__d('NotesVideoPicker.react',['cx','fbt','ActorURI','AsyncRequest','Grid.react','ScrollableArea.react','React','XNotesUserVideosController','XUIDialogBody.react','XUIDialogTitle.react','XUISpinner.react','cssURL'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('Grid.react').GridItem,m=c('React').PropTypes,n=400;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={videoData:null},this.renderThumbnailGrid=function(){if(!this.state.videoData)return (c('React').createElement('div',{className:"_29vm"},c('React').createElement(c('XUISpinner.react'),{className:"_29vo",size:'large'})));var u=Object.keys(this.state.videoData).map(function(v,w){var x=this.state.videoData[v],y=function(){this.props.onVideoPicked(x);this.props.onClose();}.bind(this);return (c('React').createElement(l,{key:'thumbnail_'+x.id,onClick:y},c('React').createElement('div',{className:"_29vp"},c('React').createElement('div',{className:"_29vq",style:{backgroundImage:c('cssURL')(x.posterSrc)}})),c('React').createElement('div',{className:"_29vr"},x.title)));}.bind(this));return (c('React').createElement(c('Grid.react'),{cols:2,spacing:"_2phz"},u));}.bind(this),q;}o.prototype.componentWillMount=function(){'use strict';var p=c('XNotesUserVideosController').getURIBuilder().getURI();p=c('ActorURI').create(p,this.props.ownerID);new (c('AsyncRequest'))(p).setHandler(function(q){var r=q.getPayload().videoData;r&&this.setState({videoData:r});}.bind(this)).send();};o.prototype.render=function(){'use strict';return c('React').createElement('div',null,c('React').createElement(c('XUIDialogTitle.react'),null,i._("Add Video")),c('React').createElement(c('XUIDialogBody.react'),{className:"_29vl"},c('React').createElement(c('ScrollableArea.react'),{height:n,shadow:false},this.renderThumbnailGrid())));};o.propTypes={onClose:m.func.isRequired,onVideoPicked:m.func.isRequired};f.exports=o;}),null);
__d('NotesVideoPickerDialog',['DialogX','NotesVideoPicker.react','React','emptyFunction'],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$NotesVideoPickerDialog1=null;this.$NotesVideoPickerDialog2=i.onVideoPicked;this.$NotesVideoPickerDialog3=i.onVideoCancel||c('emptyFunction');this.$NotesVideoPickerDialog4=i.ownerID;}h.prototype.hide=function(){'use strict';if(this.$NotesVideoPickerDialog1)this.$NotesVideoPickerDialog1.hide();};h.prototype.show=function(){'use strict';if(!this.$NotesVideoPickerDialog1){this.$NotesVideoPickerDialog1=new (c('DialogX'))({width:690},c('React').createElement(c('NotesVideoPicker.react'),{onClose:function(){return this.hide();}.bind(this),onVideoPicked:this.$NotesVideoPickerDialog2,ownerID:this.$NotesVideoPickerDialog4}));this.$NotesVideoPickerDialog1.subscribe('cancel',function(){return this.$NotesVideoPickerDialog3();}.bind(this));}this.$NotesVideoPickerDialog1.show();};f.exports=h;}),null);
__d('ReactComposerMarkdownPreviewActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({SET_PREVIEW:null,UPDATE_PREVIEW:null},'ReactComposerMarkdownPreviewActionType');}),null);
__d("XReactComposerMarkdownPreviewController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/status\/markdown_preview\/",{});}),null);
__d('ReactComposerMarkdownPreviewStore',['AsyncRequest','ReactComposerMarkdownPreviewActionType','ReactComposerStoreBase','getMentionsTextForContentState','XReactComposerMarkdownPreviewController'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {renderedContent:null};},function(l){switch(l.type){case c('ReactComposerMarkdownPreviewActionType').UPDATE_PREVIEW:k&&k.$ReactComposerMarkdownPreviewStore1(l);break;case c('ReactComposerMarkdownPreviewActionType').SET_PREVIEW:k&&k.$ReactComposerMarkdownPreviewStore2(l);break;}});k=this;}j.prototype.getRenderedContent=function(k){'use strict';return this.getComposerData(k).renderedContent;};j.prototype.$ReactComposerMarkdownPreviewStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','contentState','targetID']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m),q=c('getMentionsTextForContentState')(n),r=c('XReactComposerMarkdownPreviewController').getURIBuilder().getURI();new (c('AsyncRequest'))(r).setData({xc_message:q,composer_id:m,target_id:o}).send();this.emitChange(m);};j.prototype.$ReactComposerMarkdownPreviewStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','renderedContent']),m=l[0],n=l[1],o=this.getComposerData(m);o.renderedContent=n;this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerMarkdownPreviewActions',['ReactComposerMarkdownPreviewActionType','ReactComposerDispatcher','throttle','ReactComposerMarkdownPreviewStore'],(function a(b,c,d,e,f,g){c('ReactComposerMarkdownPreviewStore');var h=700;function i(){'use strict';this.updatePreview=c('throttle')(this.$ReactComposerMarkdownPreviewActions1,h,this);}i.prototype.$ReactComposerMarkdownPreviewActions1=function(j,k,l){'use strict';c('ReactComposerDispatcher').dispatch({composerID:j,contentState:l,targetID:k,type:c('ReactComposerMarkdownPreviewActionType').UPDATE_PREVIEW});};i.prototype.setPreview=function(j,k){'use strict';c('ReactComposerDispatcher').dispatch({composerID:j,renderedContent:k,type:c('ReactComposerMarkdownPreviewActionType').SET_PREVIEW});};f.exports=new i();}),null);
__d('ReactComposerMarkdownPreviewSyntaxHelpDialog.react',['cx','fbt','CurrentUser','React','XUIDialog.react','XUIDialogBody.react','XUIDialogTitle.react','XUIGrayText.react','XUIText.react'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.componentDidUpdate=function(){'use strict';this.props.prettify.init();};m.prototype.render=function(){'use strict';if(!this.props.show)return null;return (c('React').createElement(c('XUIDialog.react'),{layerHideOnBlur:true,shown:true,onToggle:this.props.onToggle,width:450},c('React').createElement(c('XUIDialogTitle.react'),null,c('React').createElement(c('XUIText.react'),null,i._("Text Formatting Help"))),this.$ReactComposerMarkdownPreviewSyntaxHelpDialog1()));};m.prototype.$ReactComposerMarkdownPreviewSyntaxHelpDialog1=function(){'use strict';return (c('React').createElement(c('XUIDialogBody.react'),{className:(c('CurrentUser').isEmployee()?"_2pi2":'')+(!c('CurrentUser').isEmployee()?' '+"_2pi3":'')+(' '+"_3w8y")},c('React').createElement('table',{className:"_11_e"},c('React').createElement('thead',null,c('React').createElement('tr',null,c('React').createElement('td',null,i._("Result")),c('React').createElement('td',null,i._("Formatting")))),c('React').createElement('tbody',null,c('React').createElement('tr',null,c('React').createElement('td',null,c('React').createElement('strong',null,i._("Bold"))),c('React').createElement('td',null,'**',i._("text"),'**')),c('React').createElement('tr',null,c('React').createElement('td',null,c('React').createElement('em',null,i._("Emphasize"))),c('React').createElement('td',null,'*',i._("text"),'*')),c('React').createElement('tr',null,c('React').createElement('td',null,c('React').createElement('p',null,c('React').createElement('a',{href:'https://facebook.com',target:'_blank'},i._("Link")))),c('React').createElement('td',null,'[',i._("title"),'](https://facebook.com)')),c('React').createElement('tr',null,c('React').createElement('td',null,c('React').createElement('code',null,i._("Inline code"))),c('React').createElement('td',null,'`',i._("code"),'`')),c('React').createElement('tr',null,c('React').createElement('td',null,c('React').createElement('pre',{className:'prettyprint'},c('React').createElement('code',null,'console.log("Code block!");'))),c('React').createElement('td',null,'```',c('React').createElement('br',null),'// ',' ',i._("your code here"),';',c('React').createElement('br',null),'```')),c('React').createElement('tr',null,c('React').createElement('td',null,i._("List")),c('React').createElement('td',null,'-',' ',i._("item"))),c('React').createElement('tr',null,c('React').createElement('td',null,i._("Numbered List")),c('React').createElement('td',null,'1.',' ',i._("first item"))),c('React').createElement('tr',null,c('React').createElement('td',null,i._("Quote")),c('React').createElement('td',null,'>',' ',i._("quote"))),c('React').createElement('tr',null,c('React').createElement('td',null,'H1'),c('React').createElement('td',null,'#',' ',i._("Heading"))),c('React').createElement('tr',null,c('React').createElement('td',null,'H2'),c('React').createElement('td',null,'##',' ',i._("Heading"))),c('CurrentUser').isEmployee()?[c('React').createElement('tr',{key:'tasks'},c('React').createElement('td',null,'Tasks'),c('React').createElement('td',null,'T123456 or #123456')),c('React').createElement('tr',{key:'diffs'},c('React').createElement('td',null,'Diffs'),c('React').createElement('td',null,'D123456')),c('React').createElement('tr',{key:'paste'},c('React').createElement('td',null,'Paste'),c('React').createElement('td',null,'P123456')),c('React').createElement('tr',{key:'sev'},c('React').createElement('td',null,'SEV'),c('React').createElement('td',null,'S123456')),c('React').createElement('tr',{key:'Bunny'},c('React').createElement('td',null,'Bunny'),c('React').createElement('td',null,'$onavo snapchat$'))]:null)),c('CurrentUser').isEmployee()?c('React').createElement('div',{className:"_2pi3 _11_f"},c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'small'},i._("For further Markdown reference see {Link to markdown dex}.",[i.param('Link to markdown dex',c('React').createElement('a',{href:'http://fburl.com/markdown',target:'_blank'},'Markdown Dex'))]))):null));};function m(){'use strict';j.apply(this,arguments);}m.propTypes={show:l.bool.isRequired,onToggle:l.func.isRequired,prettify:l.object.isRequired};f.exports=m;}),null);
__d('ReactComposerMarkdownPreview.react',['cx','fbt','ReactComposerContextMixin','ReactComposerMarkdownPreviewActions','ReactComposerStatusStore','DOMContainer.react','ReactComponentWithPureRenderMixin','React','ReactComposerMarkdownPreviewSyntaxHelpDialog.react'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerMarkdownPreview',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],getInitialState:function l(){return {showSyntaxHelpDialog:false};},propTypes:{prettify:j.object.isRequired,shouldShow:j.bool.isRequired,renderedContent:j.object},componentDidUpdate:function l(){this.props.prettify.init();},componentWillReceiveProps:function l(m){if(!this.props.shouldShow&&m.shouldShow){var n=c('ReactComposerStatusStore').getEditorState(this.context.composerID);c('ReactComposerMarkdownPreviewActions').updatePreview(this.context.composerID,this.context.targetID,n&&n.getCurrentContent());}},render:function l(){if(!this.props.shouldShow)return null;return (c('React').createElement('div',{className:"_371c"},c('React').createElement(c('ReactComposerMarkdownPreviewSyntaxHelpDialog.react'),{show:this.state.showSyntaxHelpDialog,onToggle:this._onDialogToggle,prettify:this.props.prettify}),c('React').createElement('span',{className:"_371d"},i._("Here's what your post will look like -"),' '),c('React').createElement('a',{onClick:this._onHintClick,tabIndex:'0'},i._("Formatting help")),c('React').createElement('br',null),this.props.renderedContent?c('React').createElement(c('DOMContainer.react'),{className:"_3-8y",display:'block'},this.props.renderedContent):null));},_onHintClick:function l(){this.setState({showSyntaxHelpDialog:true});},_onDialogToggle:function l(){this.setState({showSyntaxHelpDialog:false});}});f.exports=k;}),null);
__d('ReactComposerMarkdownPreviewContainer.react',['ReactComposerContextMixin','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerMarkdownPreviewStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComponentWithPureRenderMixin','React','ReactComposerMarkdownPreview.react'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerMarkdownPreviewContainer',mixins:[c('ReactComposerContextMixin'),c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerMarkdownPreviewStore'),c('ReactComposerTaggerStore'))],propTypes:{prettify:h.object.isRequired},statics:{calculateState:function j(k,l){var m=!!c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').MARKDOWN).isMarkdown;return {shouldShow:m,renderedContent:c('ReactComposerMarkdownPreviewStore').getRenderedContent(k)};}},render:function j(){return (c('React').createElement(c('ReactComposerMarkdownPreview.react'),{prettify:this.props.prettify,shouldShow:this.state.shouldShow,renderedContent:this.state.renderedContent}));}});f.exports=i;}),null);
__d('ReactComposerSproutUIConfig',['React'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes;f.exports=h.shape({label:h.string.isRequired,icon:h.object.isRequired,className:h.string,loggingName:h.string.isRequired});}),null);
__d('ReactComposerSproutItem.react',['cx','ReactComposerSproutUIConfig','Image.react','Link.react','React','TooltipData','XUISpinner.react','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=this.props.loading?c('React').createElement(c('XUISpinner.react'),{className:"_20j1",background:'dark',size:'small'}):null;return (c('React').createElement(c('Link.react'),null,c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')("_m_1"+(this.props.loading?' '+"_20jn":'')+(this.props.highlighted?' '+"_3x6w":''),this.props.uiConfig.className),role:'tab','aria-selected':this.props.highlighted,'data-tooltip-delay':'500',onClick:this.props.onClick,'data-testid':this.props.uiConfig.webDriverTestID},c('TooltipData').propsFor(this.props.uiConfig.label)),c('React').createElement(c('Image.react'),{className:"_4a0a",src:this.props.uiConfig.icon}),c('React').createElement('div',{className:"_2aha"},this.props.uiConfig.label),m)));};function l(){i.apply(this,arguments);}l.propTypes={uiConfig:c('ReactComposerSproutUIConfig').isRequired,loading:k.bool,highlighted:k.bool,onClick:k.func};l.defaultProps={highlighted:false};f.exports=l;}),null);
__d('ReactComposerEllipsisSproutContainer.react',['cx','fbt','ReactComposerLoggingActions','ReactComposerLoggingName','ReactComposerSproutItem.react','ReactComposerSproutsDefaultUIConfig','ReactComposerSproutType','Link.react','React','ReactComposerContextMixin'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('ReactComposerContextMixin').contextTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$ReactComposerEllipsisSproutContainer1=function(event){c('ReactComposerLoggingActions').composerEntry(this.context.composerID,c('ReactComposerLoggingName').ELLIPSIS_SPROUT);}.bind(this),o;}m.prototype.render=function(){return c('React').createElement(c('ReactComposerSproutItem.react'),{uiConfig:c('ReactComposerSproutsDefaultUIConfig')[c('ReactComposerSproutType').ELLIPSIS],onClick:this.$ReactComposerEllipsisSproutContainer1});};m.contextTypes=l;f.exports=m;}),null);
__d('ReactComposerLazySproutContainer.react',['ReactComposerSproutItem.react','ReactComposerSproutUIConfig','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={loading:false},this.$ReactComposerLazySproutContainer1=function(){this.setState({loading:true});}.bind(this),m;}k.prototype.render=function(){return c('React').createElement(c('ReactComposerSproutItem.react'),{uiConfig:this.props.uiConfig,onClick:this.$ReactComposerLazySproutContainer1,loading:this.state.loading});};k.propTypes={uiConfig:c('ReactComposerSproutUIConfig').isRequired};f.exports=k;}),null);
__d('ReactComposerSproutsListRenderer.react',['cx','invariant','ReactComposerConfig','ReactComposerEllipsisSproutContainer.react','ReactComposerSproutsDisplayState','ReactComposerSproutType','Grid.react','React','joinClasses','ReactComposerContextMixin'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=c('Grid.react').GridItem,n=c('ReactComposerContextMixin').contextTypes;j=babelHelpers.inherits(o,c('React').PureComponent);k=j&&j.prototype;o.prototype.render=function(){var p=this.props.sproutsDisplayState===c('ReactComposerSproutsDisplayState').EXPANDED?this.$ReactComposerSproutsListRenderer1():this.$ReactComposerSproutsListRenderer2(),q=c('React').createElement('div',{className:"_16vf"});return (c('React').createElement('div',{className:"_16ve"},q,p));};o.prototype.$ReactComposerSproutsListRenderer2=function(){var p=[],q=this.props.config.sproutsConfig,r=function u(v,w){return (c('React').createElement('div',{className:"_5xmp",key:w},v));};if(q)for(var s in q){if(!this.$ReactComposerSproutsListRenderer3(q[s])||!this.$ReactComposerSproutsListRenderer4(q[s]))continue;this.props.sprouts[s]||i(0);var t=r(this.props.sprouts[s],s);p.push(t);if(p.length>=3)break;}p.length<=3||i(0);return (c('React').createElement('div',{className:"_16vg"+(p.length===3?' '+"_1oxv":'')},p,r(c('React').createElement(c('ReactComposerEllipsisSproutContainer.react'),null),c('ReactComposerSproutType').ELLIPSIS)));};o.prototype.$ReactComposerSproutsListRenderer1=function(){var p=[],q=this.props.config.sproutsConfig;if(q)for(var r in q){if(!this.$ReactComposerSproutsListRenderer3(q[r]))continue;this.props.sprouts[r]||i(0);p.push(c('React').createElement(m,{key:r},this.props.sprouts[r]));}return (c('React').createElement('div',{className:"_16vl"},c('React').createElement(c('Grid.react'),{cols:2,fixed:true,spacing:c('joinClasses')('pas',"_1fng")},p)));};o.prototype.$ReactComposerSproutsListRenderer3=function(p){return !!p&&p.enabled;};o.prototype.$ReactComposerSproutsListRenderer4=function(p){return this.$ReactComposerSproutsListRenderer3(p)&&!!p&&p.inline;};function o(){j.apply(this,arguments);}o.contextTypes=n;o.propTypes={config:c('ReactComposerConfig').isRequired,sproutsDisplayState:l.string.isRequired,sprouts:l.object.isRequired};f.exports=o;}),null);
__d('ReactComposerSproutsList.react',['ReactComposerActions','ReactComposerConfig','ReactComposerLazySproutContainer.react','ReactComposerSproutItem.react','ReactComposerSproutsDefaultUIConfig','ReactComposerSproutsListRenderer.react','React','ReactComposerContextMixin'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes,k=c('ReactComposerContextMixin').contextTypes;h=babelHelpers.inherits(l,c('React').PureComponent);i=h&&h.prototype;l.prototype.render=function(){var m=c('React').createElement(c('ReactComposerSproutsListRenderer.react'),babelHelpers['extends']({},this.props,{sprouts:this.$ReactComposerSproutsList1()}));return m;};l.prototype.$ReactComposerSproutsList1=function(){var m=this.props.config.sproutsConfig,n={};if(m)for(var o in m){if(!m[o].enabled)continue;var p=c('ReactComposerSproutsDefaultUIConfig')[o],q=!this.props.fakeSprouts?this.props.sproutModules[o]||c('ReactComposerLazySproutContainer.react'):c('ReactComposerSproutItem.react');n[o]=c('React').createElement(q,{uiConfig:p,config:this.props.config});}return n;};l.prototype.$ReactComposerSproutsList2=function(m){c('ReactComposerActions').expandSprouts(this.context.composerID);};function l(){h.apply(this,arguments);}l.contextTypes=k;l.propTypes={config:c('ReactComposerConfig').isRequired,sproutsDisplayState:j.string.isRequired,sproutModules:j.object.isRequired,fakeSprouts:j.bool};f.exports=l;}),null);
__d('ReactComposerSproutsListContainer.react',['invariant','ReactComposerConfig','ReactComposerContextMixin','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerSproutsDisplayState','ReactComposerSproutsList.react','ReactComposerStore','JSResourceReference','ReactComponentWithPureRenderMixin','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerSproutsListContainer',mixins:[c('ReactComposerContextMixin'),c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerStore'))],propTypes:{config:c('ReactComposerConfig').isRequired,fakeSprouts:i.bool},getDefaultState:function k(){return {additionalSproutModules:{},bootloading:false};},statics:{calculateState:function k(l,m){return {sproutsDisplayState:c('ReactComposerStore').getSproutsDisplayState(l)};}},componentDidMount:function k(){if(this.state.sproutsDisplayState===c('ReactComposerSproutsDisplayState').EXPANDED)this._bootload();},componentDidUpdate:function k(){if(this.state.sproutsDisplayState===c('ReactComposerSproutsDisplayState').EXPANDED)this._bootload();},render:function k(){var l=Object.assign(this.context.jsModules.sprouts,this.state.additionalSproutModules);return (c('React').createElement(c('ReactComposerSproutsList.react'),{config:this.props.config,sproutsDisplayState:this.state.sproutsDisplayState,sproutModules:l,fakeSprouts:this.props.fakeSprouts}));},_bootload:function k(){if(this.state.bootloading)return;var l=this.props.config.sproutsConfig,m=[],n=[];for(var o in l){if(!l[o].enabled||!l[o].lazyLoad)continue;this.context.jsResources.sprouts[o]||h(0);m.push(this.context.jsResources.sprouts[o]);n.push(o);}c('JSResourceReference').loadAll(m,function(){var p={};for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];for(var t=0;t<n.length;t++)p[n[t]]=r[t];this.isMounted()&&this.setState({additionalSproutModules:p});}.bind(this));this.setState({bootloading:true});}});f.exports=j;}),null);
__d('ReactComposerWithSprouts.react',['cx','ReactComposer.react','ReactComposerActions','ReactComposerAttachmentActions','ReactComposerContextMixin','ReactComposerEvents','ReactComposerLoggingName','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerSproutsDisplayState','ReactComposerStore','Arbiter','ReactComponentWithPureRenderMixin','React','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerWithSprouts',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerStore'))],propTypes:{defaultAttachmentOnExpand:i.string.isRequired,innerProps:i.shape(c('ReactComposer.react').propTypes).isRequired,expandOnInit:i.bool},getDefaultProps:function k(){return {expandOnInit:false};},statics:{beforeCalculateInitialState:function k(l,m){if(m.expandOnInit){c('ReactComposerActions').expandSprouts(l);c('ReactComposerAttachmentActions').initializeAttachment(l,m.defaultAttachmentOnExpand,true,c('ReactComposerLoggingName').OTHERS);}},calculateState:function k(l,m){return {displayState:c('ReactComposerStore').getSproutsDisplayState(l)};}},_subscriptions:c('SubscriptionsHandler'),componentWillMount:function k(){this._subscriptions=new (c('SubscriptionsHandler'))();this._subscriptions.addSubscriptions(c('Arbiter').subscribeOnce('ReactFeedComposerXBootloader/selectcomposer/'+this.context.composerID,function(){return this._expandComposer(c('ReactComposerLoggingName').PROMPT);}.bind(this)));},render:function k(){return (c('React').createElement('div',{className:"_1cx1"+(this.state.displayState===c('ReactComposerSproutsDisplayState').EXPANDED?' '+"_4qr4":'')+(this.state.displayState===c('ReactComposerSproutsDisplayState').INLINE?' '+"_4a8c":'')+(this.context.gks&&this.context.gks.hideInlineSprouts?' '+"_5jj2":'')+(this.context.gks&&this.context.gks.hidePostBar?' '+"_2qct":'')+(this.context.gks&&this.context.gks.albumTab?' '+"_4aay":'')+(this.context.gks&&this.context.gks.albumTab?' '+"_4ab3":'')+(this.context.gks&&!this.context.gks.addAnyPostToAlbum?' '+"_2qma":''),onClick:function(l){return (this._expandComposer(c('ReactComposerLoggingName').INLINE_COMPOSER));}.bind(this),role:'presentation'},c('React').createElement(c('ReactComposer.react'),this.props.innerProps,this.props.children)));},_expandComposer:function k(l){if(this.state.displayState===c('ReactComposerSproutsDisplayState').INLINE){c('ReactComposerActions').expandSprouts(this.context.composerID);c('ReactComposerAttachmentActions').initializeAttachment(this.context.composerID,this.props.defaultAttachmentOnExpand,true,l);setTimeout(function(){return c('Arbiter').inform(c('ReactComposerEvents').ACTIVATE_ATTACHMENT+this.context.composerID);}.bind(this),0);}}});f.exports=j;}),null);
__d('ReactComposerWorkBodyPlaceholder.react',['fbt','ReactComposerAttachmentType','ReactComposerContextMixin','ReactComposerFooter.react','ReactComposerFooterActions.react','ReactComposerProfilePhotoBlock.react','ReactComposerStatusLazyAttachmentTextareaContainer.react','LeftRight.react','ReactComponentWithPureRenderMixin','React','XUIButton.react'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerWorkBodyPlaceholder',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{config:i.object.isRequired,onInteract:i.func.isRequired},render:function k(){var l=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],m=h._("Post to a group..."),n=c('React').createElement(c('ReactComposerStatusLazyAttachmentTextareaContainer.react'),{expanded:true,hasProfilePic:l.showProfilePic,onFocus:function r(){},placeholder:m,ref:'placeholder'}),o=l.showProfilePic?c('React').createElement(c('ReactComposerProfilePhotoBlock.react'),{profilePicSrc:l.profilePicSrc,profileURI:l.profileURI,profilePhotoBadge:l.customProfilePhoto,currentProfileBadgeURI:l.currentProfileBadgeURI},n):n,p=this.context.jsModules&&this.context.jsModules.ComposerSproutsListContainer,q=c('React').createElement(p,{config:this.props.config,fakeSprouts:true});return (c('React').createElement('div',{onClick:this.props.onInteract,onFocus:this.props.onInteract,role:'presentation'},o,q,c('React').createElement(c('ReactComposerFooter.react'),{background:'light-wash'},c('React').createElement(c('LeftRight.react'),null,c('React').createElement('div',null),c('React').createElement(c('ReactComposerFooterActions.react'),null,c('React').createElement(c('XUIButton.react'),{label:h._("Post"),use:'confirm'}))))));}});f.exports=j;}),null);
__d('ReactComposerWorkSpinner.react',['cx','React','XUISpinner.react'],(function a(b,c,d,e,f,g,h){var i=c('React').createClass({displayName:'ReactComposerWorkSpinner',render:function j(){return (c('React').createElement('div',{className:"_47pt"},c('React').createElement(c('XUISpinner.react'),{size:'large',background:'light'})));}});f.exports=i;}),null);
__d('ReactComposerWorkGroupRow.react',['cx','fbt','Badge.react','Image.react','ImageBlock.react','InlineBlock.react','React','TypeaheadViewItem','XUIGrayText.react','XUIText.react'],(function a(b,c,d,e,f,g,h,i){var j=c('React').createClass({displayName:'ReactComposerWorkGroupRow',mixins:[c('TypeaheadViewItem').Mixin],propTypes:babelHelpers['extends']({},c('TypeaheadViewItem').propTypes),render:function k(){var l=i._({"*":"{number} members","268435456":"1 member"},[i.plural(this.props.entry.getAuxiliaryData().member_count,'number')]),m=this.props.entry.getAuxiliaryData().is_mcg?c('React').createElement(c('Badge.react'),{type:'work_non_coworker'}):null;return (c('React').createElement('li',{'aria-selected':this.props.highlighted,className:(this.props.highlighted?"_4yhq":'')+(' '+"_2pi8")+(' '+"_2pi2"),onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role},c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{className:"_4s59",src:this.props.entry.getAuxiliaryData().cover_photo}),c('React').createElement(c('InlineBlock.react'),{alignv:'middle',height:36,fullWidth:true},c('React').createElement('div',{className:"ellipsis"},c('React').createElement(c('XUIText.react'),{size:'medium',weight:'bold'},this.props.entry.getTitle()),m),c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'small'},this.props.entry.getAuxiliaryData().privacy_title?c('React').createElement('span',null,this.props.entry.getAuxiliaryData().privacy_title,' ','\u00B7',' '):null,l)))));}});f.exports=j;}),null);
__d('ReactComposerWorkGroupTypeaheadView.react',['cx','fbt','ReactComposerWorkGroupRow.react','React','SearchableEntry','TypeaheadViewPropTypes','XUIGrayText.react'],(function a(b,c,d,e,f,g,h,i){var j=c('React').createClass({displayName:'ReactComposerWorkGroupTypeaheadView',propTypes:c('TypeaheadViewPropTypes'),defaultProps:{role:'listbox'},_renderItem:function k(l){var m=l===this.props.highlightedEntry;return (c('React').createElement(c('ReactComposerWorkGroupRow.react'),{key:l.getUniqueID(),entry:l,highlighted:m,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight}));},render:function k(){var l=[],m=[],n=[];this.props.entries.map(function(r){if(r.getAuxiliaryData().top_group){l.push(r);}else if(r.getAuxiliaryData().is_member){m.push(r);}else n.push(r);});var o=this._renderSection(l,i._("YOUR TOP GROUPS")),p=this._renderSection(m,i._("GROUPS YOU'RE IN")),q=this._renderSection(n,i._("OTHER GROUPS YOU CAN POST TO"));return (c('React').createElement('ul',{id:this.props.ariaOwneeID,role:this.props.role},o,p,q));},_renderSection:function k(l,m){if(l.length==0)return null;return (c('React').createElement('div',null,c('React').createElement(c('XUIGrayText.react'),{className:"_1gf0 _1gf1 _2ph-",shade:'light',weight:'bold'},m),l.map(this._renderItem)));}});f.exports=j;}),null);
__d("XWorkFeedComposerGroupsBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/composer\/group_typeahead_bootstrap\/",{});}),null);
__d("XWorkFeedComposerGroupsTypeaheadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/composer\/group_typeahead\/",{value:{type:"String",defaultValue:""}});}),null);
__d('WorkComposerGroupsSearchSource',['AbstractSearchSource','immutable','SearchableEntry','WebAsyncSearchSource','WorkComposerGroupsBootstrap','XWorkFeedComposerGroupsBootstrapController','XWorkFeedComposerGroupsTypeaheadController'],(function a(b,c,d,e,f,g){var h,i,j=c('immutable').OrderedSet(c('WorkComposerGroupsBootstrap').top_groups);h=babelHelpers.inherits(k,c('AbstractSearchSource'));i=h&&h.prototype;function k(){'use strict';i.constructor.call(this);var l={uri:c('XWorkFeedComposerGroupsTypeaheadController').getURIBuilder().getURI()},m={uri:c('XWorkFeedComposerGroupsBootstrapController').getURIBuilder().getURI()};this.$WorkComposerGroupsSearchSource1=new (c('WebAsyncSearchSource'))({queryRequests:[l],bootstrapRequests:[m]});}k.prototype.bootstrapImpl=function(l){'use strict';l();this.$WorkComposerGroupsSearchSource1.bootstrap();};k.prototype.searchImpl=function(l,m){'use strict';if(l.length){this.$WorkComposerGroupsSearchSource1.search(l,m);}else{var n=j.map(function(o){return new (c('SearchableEntry'))({uniqueID:o.id,title:o.name,auxiliaryData:{cover_photo:o.photo,member_count:o.member_count,privacy_icon:o.privacy_icon,privacy_title:o.privacy_title,privacy_description:o.privacy_description,top_group:o.top_group,is_member:o.is_member,is_mcg:o.is_mcg}});}).toArray();m(n,l);}};f.exports=new k();}),null);
__d('ReactComposerWorkGroupSearch.react',['ix','cx','fbt','ReactComposerWorkGroupTypeaheadView.react','AbstractTypeahead.react','Image.react','ReactComponentWithPureRenderMixin','React','ReactComposerContextMixin','SearchableEntry','WorkComposerGroupsSearchSource','WorkFeedComposerLoggerEvent','WorkFeedComposerTypedLogger','XUICardSection.react','XUIText.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){var k=c('React').PropTypes,l=c('React').createClass({displayName:'ReactComposerWorkGroupSearch',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{onTargetChange:k.func.isRequired},getInitialState:function m(){return {search:'',typing:false};},render:function m(){return (c('React').createElement(c('XUICardSection.react'),null,c('React').createElement('div',null,c('React').createElement(c('AbstractTypeahead.react'),{inputClassName:"_1gf2 _2pi9 _2pi4",hideViewWithEntries:false,focusedOnInit:true,queryString:this.state.search,onSelectAttempt:this._onSelect,onChange:this._onTypeaheadChange,presenter:{ViewRenderer:c('ReactComposerWorkGroupTypeaheadView.react'),useLayer:false,maxEntries:8,sortEntries:this._sortEntries},ref:'searchInput',searchSource:c('WorkComposerGroupsSearchSource'),showEntriesOnFocus:true}),c('React').createElement(c('Image.react'),{className:"_3f2l",src:h("126436")}),this.state.search?null:c('React').createElement(c('XUIText.react'),{className:"_3daz",size:'medium'},j._("Search for a group to post to")))));},_onTypeaheadChange:function m(event){if(!this.state.typing)new (c('WorkFeedComposerTypedLogger'))().setEvent(c('WorkFeedComposerLoggerEvent').TYPING_GROUP_QUERY).log();this.setState({search:event.target.value,typing:this.state.typing||!!event.target.value});},_onSelect:function m(n){this.props.onTargetChange(n);},_sortEntries:function m(n){var o=[],p=[],q=[];n.map(function(r){if(r.getAuxiliaryData().top_group){o.push(r);}else if(r.getAuxiliaryData().is_member){p.push(r);}else q.push(r);});return o.concat(p).concat(q);}});f.exports=l;}),null);
__d('ReactComposerWorkHeader.react',['cx','fbt','Image.react','InlineBlock.react','Link.react','ReactComponentWithPureRenderMixin','React','Tooltip.react','XUIGrayText.react','XUIText.react'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerWorkHeader',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{target:j.object.isRequired},render:function l(){return (c('React').createElement(c('InlineBlock.react'),{alignv:'middle',className:"_3-8t",height:64},c('React').createElement(c('XUIGrayText.react'),{className:"_1gf0 _3-94",shade:'light',weight:'bold'},i._("POSTING TO")),c('React').createElement('span',{className:"_33bt"},c('React').createElement(c('Link.react'),{className:"_4s55",href:this.props.target.getURI()},c('React').createElement(c('XUIGrayText.react'),{shade:'medium',size:'medium'},this.props.target.getTitle())),c('React').createElement(c('XUIGrayText.react'),{shade:'medium',size:'medium'},' ','\u00B7',' ',i._({"*":"{number} members","268435456":"1 member"},[i.plural(this.props.target.getAuxiliaryData().member_count,'number')])),c('React').createElement('span',{className:"_33bu _3-99"},c('React').createElement('div',{className:"_33bw"},c('React').createElement(c('Tooltip.react'),{tooltip:c('React').createElement('div',{className:"_33bx"},c('React').createElement(c('XUIText.react'),{className:"_3-94",display:'block',weight:'bold'},this.props.target.getAuxiliaryData().privacy_title),c('React').createElement(c('XUIText.react'),{display:'block'},this.props.target.getAuxiliaryData().privacy_description))},c('React').createElement(c('Image.react'),{src:this.props.target.getAuxiliaryData().privacy_icon})))))));}});f.exports=k;}),null);
__d('ReactComposerWorkFeedActionTypes',['keyMirror'],(function a(b,c,d,e,f,g){f.exports=c('keyMirror')({SET_DISPLAY_STATE:null,SET_TARGET:null,SET_WORK_PROPS:null});}),null);
__d('ReactComposerWorkFeedDisplayState',['keyMirror'],(function a(b,c,d,e,f,g){f.exports=c('keyMirror')({DEFAULT:null,SEARCH:null,COMPOSER:null});}),null);
__d('ReactComposerWorkFeedActions',['ReactComposerWorkFeedActionTypes','ReactComposerDispatcher','ReactComposerWorkFeedDisplayState'],(function a(b,c,d,e,f,g){var h={setDisplayState:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerWorkFeedActionTypes').SET_DISPLAY_STATE,state:k});},setTarget:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerWorkFeedActionTypes').SET_TARGET,target:k});},setWorkProps:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerWorkFeedActionTypes').SET_WORK_PROPS,props:k});}};f.exports=h;}),null);
__d('ReactComposerWorkFeedStore',['ReactComposerActionStore','ReactComposerWorkFeedActionTypes','ReactComposerInit','ReactComposerWorkFeedDisplayState','FeedComposerIDStore','WorkFeedComposerLoggerEvent','WorkFeedComposerTypedLogger','update'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('ReactComposerActionStore'));i=h&&h.prototype;function j(){var k=void 0;i.constructor.call(this,function(){return {target:null,props:null,state:c('ReactComposerWorkFeedDisplayState').DEFAULT};},function(l){switch(l.type){case c('ReactComposerWorkFeedActionTypes').SET_DISPLAY_STATE:k&&k.$ReactComposerWorkFeedStore1(l);break;case c('ReactComposerWorkFeedActionTypes').SET_TARGET:k&&k.$ReactComposerWorkFeedStore2(l);break;case c('ReactComposerWorkFeedActionTypes').SET_WORK_PROPS:k&&k.$ReactComposerWorkFeedStore3(l);break;}});k=this;}j.prototype.getDisplayState=function(k){return this.getComposerData(k).state;};j.prototype.getTarget=function(k){return this.getComposerData(k).target;};j.prototype.getProps=function(k){return this.getComposerData(k).props;};j.prototype.showGroupTypeahead=function(k){return this.getComposerData(k).showGroupTypeahead;};j.prototype.$ReactComposerWorkFeedStore1=function(k){var l=this.validateAction(k,'composerID'),m=this.validateAction(k,'state'),n=this.getComposerData(l);if(m!==n.state){var event=void 0;switch(m){case c('ReactComposerWorkFeedDisplayState').SEARCH:event=c('WorkFeedComposerLoggerEvent').OPEN_GROUP_SEARCH;break;case c('ReactComposerWorkFeedDisplayState').COMPOSER:event=c('WorkFeedComposerLoggerEvent').SELECT_GROUP;break;}if(event)new (c('WorkFeedComposerTypedLogger'))().setEvent(event).log();}n.state=m;this.emitChange(l);};j.prototype.$ReactComposerWorkFeedStore2=function(k){var l=this.validateAction(k,'composerID'),m=this.validateAction(k,'target'),n=this.getComposerData(l);n.target=m;this.emitChange(l);};j.prototype.$ReactComposerWorkFeedStore3=function(k){var l=this.validateAction(k,'composerID'),m=this.validateAction(k,'props'),n=this.getComposerData(l);n.props=m;n.target=m.target;if(m.target){n.state=c('ReactComposerWorkFeedDisplayState').COMPOSER;}else n.state=c('ReactComposerWorkFeedDisplayState').DEFAULT;this.emitChange(l);};j.prototype.__onPostSucceeded=function(k){new (c('WorkFeedComposerTypedLogger'))().setEvent(c('WorkFeedComposerLoggerEvent').CREATE_POST).log();};j.prototype.__cleanup=function(k){var l=this.validateAction(k,'composerID'),m=this.getComposerData(l),n=c('update')(m.props,{workTarget:{$set:null}});setTimeout(function(){c('ReactComposerInit').changeProps(c('FeedComposerIDStore').get(),n);},0);};f.exports=new j();}),null);
__d('ReactComposerWorkFeedBodyContainer.react',['ReactComposerContextMixin','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerWorkBodyPlaceholder.react','ReactComposerWorkSpinner.react','ReactComposerWorkFeedActions','ReactComposerWorkFeedDisplayState','ReactComposerWorkFeedStore','AsyncRequest','ReactComponentWithPureRenderMixin','React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerWorkFeedBodyContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerWorkFeedStore')),c('ReactComposerContextMixin')],propTypes:{target:h.object,config:h.object.isRequired},statics:{calculateState:function j(k,l,m){var n=c('ReactComposerWorkFeedStore').getDisplayState(k);return {showPlaceholder:n===c('ReactComposerWorkFeedDisplayState').DEFAULT&&!l.target,showSpinner:n===c('ReactComposerWorkFeedDisplayState').COMPOSER&&!l.target,showComposer:l.target};}},render:function j(){if(this.state.showPlaceholder)return (c('React').createElement(c('ReactComposerWorkBodyPlaceholder.react'),{config:this.props.config,onInteract:this._onPlaceholderInteract}));if(this.state.showSpinner)return c('React').createElement(c('ReactComposerWorkSpinner.react'),null);if(this.state.showComposer)return (c('React').createElement('div',null,this.props.children));return c('React').createElement('div',null);},_onPlaceholderInteract:function j(){c('ReactComposerWorkFeedActions').setDisplayState(this.context.composerID,c('ReactComposerWorkFeedDisplayState').SEARCH);}});f.exports=i;}),null);
__d('ReactComposerWorkFeedBootloader',['Bootloader'],(function a(b,c,d,e,f,g){'use strict';var h={statusAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerStatusAttachmentContainer.react","ReactComposerWorkFeedPostButtonContainer.react"],j,'ReactComposerWorkFeedBootloader');},mediaAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerMediaAttachmentContainer.react","ReactComposerWorkFeedPostButtonContainer.react"],j,'ReactComposerWorkFeedBootloader');}};f.exports=h;}),null);
__d("XReactComposerTargetChangeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/target\/change\/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"String"}});}),null);
__d('ReactComposerWorkHeaderContainer.react',['cx','ReactComposerContextMixin','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerWorkFeedActions','ReactComposerWorkFeedDisplayState','ReactComposerWorkFeedStore','ReactComposerWorkGroupSearch.react','ReactComposerWorkHeader.react','AsyncRequest','ReactComponentWithPureRenderMixin','React','SearchableEntry','XReactComposerTargetChangeController','XUICardSection.react','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerWorkHeaderContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerWorkFeedStore')),c('ReactComposerContextMixin')],propTypes:{config:i.object.isRequired,target:i.object},statics:{calculateState:function k(l,m){var n=c('ReactComposerWorkFeedStore').getDisplayState(l),o=m.target||c('ReactComposerWorkFeedStore').getTarget(l);return {showHeader:n!==c('ReactComposerWorkFeedDisplayState').DEFAULT||o,showSearch:n===c('ReactComposerWorkFeedDisplayState').SEARCH,target:o};}},render:function k(){if(!this.state.showHeader)return c('React').createElement('div',null);return (c('React').createElement(c('XUICardSection.react'),{className:c('joinClasses')(this.props.className,!this.state.showSearch?"_1dzv":'')},this.state.showSearch?c('React').createElement(c('ReactComposerWorkGroupSearch.react'),{onTargetChange:this._onTargetChange}):c('React').createElement(c('ReactComposerWorkHeader.react'),{target:this.state.target})));},_onTargetChange:function k(l){c('ReactComposerWorkFeedActions').setTarget(this.context.composerID,l);c('ReactComposerWorkFeedActions').setDisplayState(this.context.composerID,c('ReactComposerWorkFeedDisplayState').COMPOSER);var m=c('XReactComposerTargetChangeController').getURIBuilder().setString('composer_id',this.context.composerID).setEnum('composer_type',this.context.composerType).setString('target_id',l.getUniqueID());new (c('AsyncRequest'))().setURI(m.getURI()).send();}});f.exports=j;}),null);
__d('ReactWorkFeedComposer.react',['cx','fbt','ReactComposerAttachmentActions','ReactComposerAttachmentType','ReactComposerBodyContainer.react','ReactComposerConfig','ReactComposerContextConfig','ReactComposerContextProviderMixin','ReactComposerInit','ReactComposerMediaLazyAttachment.react','ReactComposerStatusLazyAttachment.react','ReactComposerWithSprouts.react','ReactComposerWorkFeedActions','ReactComposerWorkFeedBodyContainer.react','ReactComposerWorkFeedBootloader','ReactComposerWorkFeedStore','ReactComposerWorkHeaderContainer.react','Arbiter','FeedComposerIDStore','LitestandComposer','React','update'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactWorkFeedComposer',_resetSubscription:undefined,mixins:[c('ReactComposerContextProviderMixin')],propTypes:{contextConfig:c('ReactComposerContextConfig').isRequired,config:c('ReactComposerConfig').isRequired,workTarget:j.object},componentWillMount:function l(){c('FeedComposerIDStore').set(this.props.contextConfig.composerID);},componentDidMount:function l(){var m=this.props.contextConfig.composerID;c('ReactComposerWorkFeedStore').registerComposerID(m);c('ReactComposerWorkFeedActions').setWorkProps(m,this.props);if(this.props.workTarget)c('ReactComposerAttachmentActions').selectAttachment(m,c('ReactComposerAttachmentType').STATUS,true);this._resetSubscription=c('Arbiter').subscribe('ReactComposerFocus/reset/'+m,this._resetTarget);c('LitestandComposer').initComposer(m);},componentWillUnmount:function l(){this._resetSubscription&&this._resetSubscription.unsubscribe();},render:function l(){return (c('React').createElement(c('ReactComposerWithSprouts.react'),{defaultAttachmentOnExpand:c('ReactComposerAttachmentType').STATUS,innerProps:{className:"_5n2b",loggingConfig:this.props.config.loggingConfig}},c('React').createElement(c('ReactComposerWorkHeaderContainer.react'),{config:this.props.config,target:this.props.workTarget}),c('React').createElement(c('ReactComposerWorkFeedBodyContainer.react'),{target:this.props.workTarget,config:this.props.config},c('React').createElement(c('ReactComposerBodyContainer.react'),{expanded:this.props.config.showExpandedComposer},c('React').createElement(c('ReactComposerStatusLazyAttachment.react'),{bootloader:c('ReactComposerWorkFeedBootloader'),config:this.props.config,selected:true,expanded:this.props.config.showExpandedComposer,placeholder:i._("What are you working on?")}),c('React').createElement(c('ReactComposerMediaLazyAttachment.react'),{bootloader:c('ReactComposerWorkFeedBootloader'),key:'media',config:this.props.config})))));},_resetTarget:function l(){var m=c('update')(this.props,{workTarget:{$set:null}});c('ReactComposerInit').changeProps(this.props.contextConfig.composerID,m);}});f.exports=k;}),null);
__d('AtomicBlockUtils',['BlockMapBuilder','CharacterMetadata','ContentBlock','DraftModifier','EditorState','immutable','generateRandomKey'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').List,i=c('immutable').Repeat,j={insertAtomicBlock:function k(l,m,n){var o=l.getCurrentContent(),p=l.getSelection(),q=c('DraftModifier').removeRange(o,p,'backward'),r=q.getSelectionAfter(),s=c('DraftModifier').splitBlock(q,r),t=s.getSelectionAfter(),u=c('DraftModifier').setBlockType(s,t,'atomic'),v=c('CharacterMetadata').create({entity:m}),w=[new (c('ContentBlock'))({key:c('generateRandomKey')(),type:'atomic',text:n,characterList:h(i(v,n.length))}),new (c('ContentBlock'))({key:c('generateRandomKey')(),type:'unstyled',text:'',characterList:h()})],x=c('BlockMapBuilder').createFromArray(w),y=c('DraftModifier').replaceWithFragment(u,t,x),z=y.merge({selectionBefore:p,selectionAfter:y.getSelectionAfter().set('hasFocus',true)});return c('EditorState').push(l,z,'insert-fragment');}};f.exports=j;}),null);
__d('RichComposedTextEditorBlock.react',['DraftEditorBlock.react','React'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){'use strict';return (c('React').createElement(c('DraftEditorBlock.react'),babelHelpers['extends']({contentEditable:'inherit'},this.props.blockProps,this.props),this.props.children));};function j(){'use strict';h.apply(this,arguments);}f.exports=j;}),null);
__d('RichComposedTextEditorInlineStyleMenu.react',['cx','fbt','invariant','ComposedLinkEntityProperties','ContextualLayerAutoFlip','DraftEntity','EditorState','immutable','Keys','LeftRight.react','React','ReactDOM','ReactFragment','Rect','TooltipData','URI','UserAgent','XUICloseButton.react','XUIContextualDialog.react','getVisibleSelectionRect'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=c('immutable').OrderedSet,l=c('React').PropTypes,m={ContextualLayerAutoFlip:c('ContextualLayerAutoFlip')},n={bold:i._("Bold"),italic:i._("Italic"),link:i._("Link"),mono:i._("Mono"),linkPlaceholder:i._("Paste or type a link...")},o=c('React').createClass({displayName:'RichComposedTextEditorInlineStyleMenu',propTypes:{editorState:l.instanceOf(c('EditorState')).isRequired,onRemoveLink:l.func.isRequired,onAddLink:l.func.isRequired,onCancelLink:l.func.isRequired,onToggle:l.func.isRequired},getInitialState:function r(){return {addingLink:false,flyoutState:'style',bounds:null,targetSelection:null,linkText:''};},componentDidUpdate:function r(){if(this.state.addingLink)setTimeout(function(){return this.refs.linkInput.focus();}.bind(this),0);},_toggleBold:function r(s){s.preventDefault();this.props.onToggle('BOLD');},_toggleItalic:function r(s){s.preventDefault();this.props.onToggle('ITALIC');},_toggleMono:function r(s){s.preventDefault();this.props.onToggle('CODE');},_toggleLink:function r(s){s.preventDefault();this._toggleLinkImpl();},_toggleLinkImpl:function r(){if(this._alreadyContainsLink()){this.props.onRemoveLink();return;}this.setState({addingLink:true,flyoutState:'link',bounds:p(),targetSelection:this.props.editorState.getSelection(),linkText:''});},toggleLink:function r(){if(!this._canAddLink())return false;this._toggleLinkImpl();return true;},_onLinkValueChange:function r(s){var t=s.target;t instanceof HTMLInputElement||j(0);this.setState({linkText:t.value});},_onLinkValueKeydown:function r(s){switch(s.which){case c('Keys').RETURN:s.preventDefault();if(this.state.linkText){var t=new (c('URI'))(this.state.linkText);if(!c('URI').isValidURI(t))return;var u=t.getProtocol();if(!u){t.setProtocol('http');}else if(u!=='http'&&u!=='https')return;var v=c('DraftEntity').create('LINK','MUTABLE',q(t));this.props.onAddLink(this.state.targetSelection,v);this.setState(this.getInitialState());}return;case c('Keys').ESC:s.preventDefault();this._cancelLink();}},reset:function r(s){this.setState(this.getInitialState(),s);},resetToStyles:function r(s){this.setState(Object.assign(this.getInitialState(),{targetSelection:this.props.editorState.getSelection(),bounds:this.state.bounds}),s);},_cancelLink:function r(){var s=this.state.targetSelection;this.props.onCancelLink(s);setTimeout(function(){return this.resetToStyles();}.bind(this),0);},_renderBold:function r(s){var t="_4q5h"+(s.has('BOLD')?' '+"_u4r":'');return (c('React').createElement('li',babelHelpers['extends']({className:t,onMouseDown:this._toggleBold},c('TooltipData').propsFor(n.bold))));},_renderItalic:function r(s){var t="_4q5j"+(s.has('ITALIC')?' '+"_u4r":'');return (c('React').createElement('li',babelHelpers['extends']({className:t,onMouseDown:this._toggleItalic},c('TooltipData').propsFor(n.italic))));},_renderMono:function r(s){var t="_4q5k"+(s.has('CODE')?' '+"_u4r":'');return (c('React').createElement('li',babelHelpers['extends']({className:t,onMouseDown:this._toggleMono},c('TooltipData').propsFor(n.mono))));},_canAddLink:function r(){var s=this.props.editorState,t=s.getSelection();return (!t.isCollapsed()&&t.getAnchorKey()===t.getFocusKey());},_alreadyContainsLink:function r(){var s=this.props.editorState,t=s.getSelection();return s.getCurrentContent().getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some(function(u){var v=u.getEntity();return v&&c('DraftEntity').get(v).getType()==='LINK';});},_renderLink:function r(){if(!this._canAddLink())return null;var s=this._alreadyContainsLink(),t="_4q5l"+(s?' '+"_u4r":'');return (c('React').createElement('li',babelHelpers['extends']({className:t,onMouseDown:this._toggleLink},c('TooltipData').propsFor(n.link))));},_renderStyleBody:function r(s){return (c('React').createElement('ul',{className:"_u4s clearfix"},this._renderBold(s),this._renderItalic(s),this._renderMono(s),this._renderLink()));},_renderLinkBody:function r(){return (c('React').createElement(c('LeftRight.react'),{className:"_u4u"},c('React').createElement('input',{className:"_u4v",type:'text',ref:'linkInput',placeholder:n.linkPlaceholder,value:this.state.linkText,onChange:this._onLinkValueChange,onKeyDown:this._onLinkValueKeydown}),c('React').createElement(c('XUICloseButton.react'),{className:"_u4w",size:'medium',shade:'dark',onClick:this._cancelLink})));},renderLayers:function r(){var s=false,t=false,u=null;if(this.state.flyoutState==='link'){s=true;u=this.state.bounds;}else{var v=this.props.editorState,w=!v.getSelection().isCollapsed();u=w?p():null;t=!!(w&&u);}var x=t?v.getCurrentInlineStyle():k();return c('ReactFragment').create({style:c('React').createElement(c('XUIContextualDialog.react'),{autoFocus:false,shown:t,alignment:'center',contextBounds:u,behaviors:m,contextRef:function(){return this.refs.inlineStyle;}.bind(this)},this._renderStyleBody(x)),link:c('React').createElement(c('XUIContextualDialog.react'),{hideOnEscape:false,autoFocus:false,shown:s,alignment:'center',contextBounds:u,behaviors:m,contextRef:function(){return this.refs.inlineStyle;}.bind(this)},this._renderLinkBody())});},render:function r(){return (c('React').createElement('span',null,c('React').createElement('div',{ref:'inlineStyle'}),this.renderLayers()));}});function p(){var r=c('getVisibleSelectionRect')(b);if(r==null)return null;var s=r.top,t=r.right,u=r.bottom,v=r.left;return new (c('Rect'))(s,t,u,v,'viewport').convertTo('document');}function q(r){var s={};s[c('ComposedLinkEntityProperties').URL]=r.toString();return s;}f.exports=o;}),null);
__d('RichComposedTextEditorMenu.react',['cx','fbt','ContextualLayerAutoFlip','DraftEntity','EditorState','NotesEmbedDialog','NotesPhotoPickerDialog','NotesVideoPickerDialog','React','ReactDOM','ReactFragment','XUIContextualDialog.react','XUIContextualDialogBody.react','calculateMenuTop','clearImmediate','keyMirror','setImmediate'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=c('keyMirror')({STYLE:null,ATTACH:null}),n={ContextualLayerAutoFlip:c('ContextualLayerAutoFlip')},o={embed:i._("Embed"),photo:i._("Photo"),video:i._("Video")};j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;function p(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=k.constructor).call.apply(t,[this].concat(w)),this.state={top:null,visibleMenu:null},this.$RichComposedTextEditorMenu1=function(){if(this.$RichComposedTextEditorMenu2)c('clearImmediate')(this.$RichComposedTextEditorMenu2);this.$RichComposedTextEditorMenu2=null;}.bind(this),this.$RichComposedTextEditorMenu3=function(){var y=this.props.editorState.getCurrentContent(),z=this.props.editorState.getSelection(),aa=c('calculateMenuTop')(z,c('ReactDOM').findDOMNode(this.refs.container));if(this.state.top!==aa)this.setState({top:aa,visibleMenu:null});}.bind(this),this.$RichComposedTextEditorMenu4=function(y){y.preventDefault();if(this.state.visibleMenu===m.ATTACH){this.setState({visibleMenu:null});}else this.setState({visibleMenu:m.ATTACH});}.bind(this),this.$RichComposedTextEditorMenu5=function(y){y.preventDefault();if(this.state.visibleMenu===m.STYLE){this.setState({visibleMenu:null});}else this.setState({visibleMenu:m.STYLE});}.bind(this),this.$RichComposedTextEditorMenu6=function(){var y=this.props.editorState,z=y.getSelection();return y.getCurrentContent().getBlockForKey(z.getStartKey()).getType();}.bind(this),this.$RichComposedTextEditorMenu7=function(y){y.preventDefault();},this.$RichComposedTextEditorMenu10=function(){var y=this.props.editorState,z=y.getSelection(),aa=this.$RichComposedTextEditorMenu6();return (this.state.top!==null&&aa!=='atomic'&&z.getHasFocus());}.bind(this),this.$RichComposedTextEditorMenu11=function(y){y.preventDefault();this.props.onToggleBlockType('header-one');}.bind(this),this.$RichComposedTextEditorMenu12=function(y){y.preventDefault();this.props.onToggleBlockType('header-two');}.bind(this),this.$RichComposedTextEditorMenu13=function(y){y.preventDefault();this.props.onToggleBlockType('unordered-list-item');}.bind(this),this.$RichComposedTextEditorMenu14=function(y){y.preventDefault();this.props.onToggleBlockType('ordered-list-item');}.bind(this),this.$RichComposedTextEditorMenu15=function(y){y.preventDefault();this.props.onToggleBlockType('blockquote');}.bind(this),this.$RichComposedTextEditorMenu16=function(y){y.preventDefault();this.props.onToggleBlockType('code-block');}.bind(this),this.$RichComposedTextEditorMenu17=function(y){y.preventDefault();setTimeout(function(){var z=function(aa){this.props.onAddEmbed(q(aa));}.bind(this);new (c('NotesEmbedDialog'))({onEmbed:z,ownerID:this.props.ownerID}).show();}.bind(this),200);}.bind(this),this.$RichComposedTextEditorMenu9=function(y){y.preventDefault();setTimeout(function(){var z=this.props.compositionID,aa=function(da){this.props.onAddPhoto(r(Object.assign(da,{compositionID:z})));}.bind(this),ba=function(da){this.props.onAddPhoto(r({compositionID:z,fileInput:da}));}.bind(this),ca=function(){this.props.onCancelPhoto();}.bind(this);new (c('NotesPhotoPickerDialog'))({onPhotoPicked:aa,onPhotoUpload:ba,onPhotoCancel:ca,ownerID:this.props.ownerID}).show();}.bind(this),200);}.bind(this),this.$RichComposedTextEditorMenu18=function(y){y.preventDefault();setTimeout(function(){var z=this.props.compositionID,aa=function(ba){this.props.onAddVideo(s(Object.assign(ba,{compositionID:z})));}.bind(this);new (c('NotesVideoPickerDialog'))({onVideoPicked:aa,ownerID:this.props.ownerID}).show();}.bind(this),200);}.bind(this),u;}p.prototype.componentDidMount=function(){this.$RichComposedTextEditorMenu1();this.$RichComposedTextEditorMenu2=c('setImmediate')(function(){return this.$RichComposedTextEditorMenu3();}.bind(this));};p.prototype.componentDidUpdate=function(){this.$RichComposedTextEditorMenu1();this.$RichComposedTextEditorMenu2=c('setImmediate')(function(){return this.$RichComposedTextEditorMenu3();}.bind(this));};p.prototype.componentWillUnmount=function(){this.$RichComposedTextEditorMenu1();};p.prototype.$RichComposedTextEditorMenu8=function(){var t=this.$RichComposedTextEditorMenu6(),u={top:this.state.top+'px'},v=void 0;if(this.props.canAttachVideo||this.props.canAttachEmbed){v=c('React').createElement('li',{className:"_15_2",ref:'attach'});}else if(this.props.canAttachPhoto){v=c('React').createElement('li',{className:"_15_4",onClick:this.$RichComposedTextEditorMenu9});}else v=null;var w="_15_5"+(t==='unstyled'?' '+"_15_6":'')+(t==='header-one'?' '+"_15_7":'')+(t==='header-two'?' '+"_15_8":'')+(t==='unordered-list-item'?' '+"_15_9":'')+(t==='ordered-list-item'?' '+"_15_a":'')+(t==='blockquote'?' '+"_15_b":'')+(t==='code-block'?' '+"_15_c":'');return c('React').createElement('ul',{style:u,className:"clearfix _15_d",onMouseDown:this.$RichComposedTextEditorMenu7},v,c('React').createElement('li',{className:w,ref:'style'}));};p.prototype.$RichComposedTextEditorMenu19=function(t){var u="_15_7"+(t==='header-one'?' '+"_15_e":'');return c('React').createElement('li',{className:u,onMouseDown:this.$RichComposedTextEditorMenu11});};p.prototype.$RichComposedTextEditorMenu20=function(t){var u="_15_8"+(t==='header-two'?' '+"_15_e":'');return c('React').createElement('li',{className:u,onMouseDown:this.$RichComposedTextEditorMenu12});};p.prototype.$RichComposedTextEditorMenu21=function(t){var u="_15_9"+(t==='unordered-list-item'?' '+"_15_e":'');return c('React').createElement('li',{className:u,onMouseDown:this.$RichComposedTextEditorMenu13});};p.prototype.$RichComposedTextEditorMenu22=function(t){var u="_15_a"+(t==='ordered-list-item'?' '+"_15_e":'');return c('React').createElement('li',{className:u,onMouseDown:this.$RichComposedTextEditorMenu14});};p.prototype.$RichComposedTextEditorMenu23=function(t){var u="_15_b"+(t==='blockquote'?' '+"_15_e":'');return c('React').createElement('li',{className:u,onMouseDown:this.$RichComposedTextEditorMenu15});};p.prototype.$RichComposedTextEditorMenu24=function(t){var u="_15_c"+(t==='code-block'?' '+"_15_e":'');return c('React').createElement('li',{className:u,onMouseDown:this.$RichComposedTextEditorMenu16});};p.prototype.$RichComposedTextEditorMenu25=function(){if(!this.props.canAttachEmbed)return null;return (c('React').createElement('li',{className:"_15_o",onMouseDown:this.$RichComposedTextEditorMenu17},o.embed));};p.prototype.$RichComposedTextEditorMenu26=function(){var t="_15_r";return (c('React').createElement('li',{className:t,onMouseDown:this.$RichComposedTextEditorMenu9},o.photo));};p.prototype.$RichComposedTextEditorMenu27=function(){if(!this.props.canAttachVideo)return null;var t="_15_s";return (c('React').createElement('li',{className:t,onMouseDown:this.$RichComposedTextEditorMenu18},o.video));};p.prototype.renderLayers=function(){var t=this.$RichComposedTextEditorMenu10(),u=this.$RichComposedTextEditorMenu6();return c('ReactFragment').create({attach:c('React').createElement(c('XUIContextualDialog.react'),{autoFocus:false,contextRef:function(){return this.refs.attach;}.bind(this),hoverContextRef:function(){return this.refs.attach;}.bind(this),hoverHideDelay:0,alignment:'center',offsetY:-2,behaviors:n,shown:t&&this.state.visibleMenu===m.ATTACH},c('React').createElement(c('XUIContextualDialogBody.react'),null,c('React').createElement('ul',{className:"_15_t clearfix"},this.$RichComposedTextEditorMenu26(),this.$RichComposedTextEditorMenu27(),this.$RichComposedTextEditorMenu25()))),style:c('React').createElement(c('XUIContextualDialog.react'),{autoFocus:false,contextRef:function(){return this.refs.style;}.bind(this),hoverContextRef:function(){return this.refs.style;}.bind(this),hoverHideDelay:40,alignment:'center',behaviors:n,shown:t&&this.state.visibleMenu===m.STYLE},c('React').createElement(c('XUIContextualDialogBody.react'),null,c('React').createElement('ul',{className:"_15_u clearfix"},this.$RichComposedTextEditorMenu19(u),this.$RichComposedTextEditorMenu20(u),this.$RichComposedTextEditorMenu21(u),this.$RichComposedTextEditorMenu22(u),this.$RichComposedTextEditorMenu23(u),this.$RichComposedTextEditorMenu24(u))))});};p.prototype.render=function(){var t="_15_v"+(this.$RichComposedTextEditorMenu10()?' '+"_15_w":'');return (c('React').createElement('span',null,c('React').createElement('div',{className:t,ref:'container'},c('React').createElement('div',{className:"_40eu"},this.$RichComposedTextEditorMenu8())),this.renderLayers()));};p.propTypes={editorState:l.instanceOf(c('EditorState')).isRequired,compositionID:l.string.isRequired,onToggleBlockType:l.func.isRequired,onAddPhoto:l.func.isRequired,onAddVideo:l.func.isRequired,onCancelPhoto:l.func.isRequired,ownerID:l.string.isRequired};function q(t){return c('DraftEntity').create('EMBED','IMMUTABLE',t);}function r(t){return c('DraftEntity').create('IMAGE','IMMUTABLE',t);}function s(t){return c('DraftEntity').create('VIDEO','IMMUTABLE',t);}f.exports=p;}),null);
__d('RichComposedTextEditor.react',['cssVar','cx','AbstractMentionsTextEditor.react','AtomicBlockUtils','CampfireCharacters','CampfireCommands','RichComposedTextEditorBlock.react','RichComposedTextEditorInlineStyleMenu.react','RichComposedTextEditorMenu.react','DraftEntity','DraftModifier','EditorState','MentionsLayer.react','React','RichTextEditorUtil','XUITypeaheadView.react','createMentionEntity','isSoftNewlineEvent','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=c('CampfireCharacters').EMBED,n=c('CampfireCharacters').PHOTO,o=c('CampfireCharacters').VIDEO,p=4,q={CODE:{backgroundColor:"#f6f7f9",fontFamily:"Menlo, Consolas, Monaco, monospace",fontSize:'14px',padding:4}};j=babelHelpers.inherits(r,c('React').Component);k=j&&j.prototype;function r(){var w,x;for(var y=arguments.length,z=Array(y),aa=0;aa<y;aa++)z[aa]=arguments[aa];return x=(w=k.constructor).call.apply(w,[this].concat(z)),this.$RichComposedTextEditor1=function(ba){this.props.onChange(c('RichTextEditorUtil').onTab(ba,this.props.editorState,p));}.bind(this),this.$RichComposedTextEditor2=function(ba){if(this.props.handleContentReturn&&this.props.handleContentReturn(ba))return true;var ca=this.props.editorState;if(c('isSoftNewlineEvent')(ba)){this.props.onChange(c('RichTextEditorUtil').insertSoftNewline(ca));return true;}var da=c('RichTextEditorUtil').tryToRemoveBlockStyle(ca);if(da){this.props.onChange(c('EditorState').push(ca,da,'change-block-type'));return true;}var ea=s(ca);if(ea){this.props.onChange(c('EditorState').push(ca,ea,'change-block-type'));return true;}return false;}.bind(this),this.$RichComposedTextEditor3=function(ba){if(ba===c('CampfireCommands').SAVE_DRAFT){this.props.onSave();return true;}else if(ba===c('CampfireCommands').TOGGLE_LINK){var ca=this.refs.inlineStyleMenu;return ca.toggleLink();}var da=c('RichTextEditorUtil').handleKeyCommand(this.props.editorState,ba);if(da){this.props.onChange(da);return true;}return false;}.bind(this),this.$RichComposedTextEditor4=function(ba){this.props.onChange(c('RichTextEditorUtil').toggleBlockType(this.props.editorState,ba));}.bind(this),this.$RichComposedTextEditor5=function(ba){this.props.onChange(c('RichTextEditorUtil').toggleInlineStyle(this.props.editorState,ba));}.bind(this),this.$RichComposedTextEditor6=function(){var ba=this.props.editorState;this.props.onChange(c('RichTextEditorUtil').toggleLink(ba,ba.getSelection(),null));}.bind(this),this.$RichComposedTextEditor7=function(ba,ca){this.props.onChange(c('RichTextEditorUtil').toggleLink(this.props.editorState,ba,ca));}.bind(this),this.$RichComposedTextEditor8=function(ba){this.props.onChange(c('EditorState').forceSelection(this.props.editorState,ba));}.bind(this),this.$RichComposedTextEditor9=function(ba,ca){if(this.props.canAttachPhoto){var da=c('EditorState').forceSelection(this.props.editorState,ba);return this.$RichComposedTextEditor10(da,ca);}else if(this.props.handleDroppedFiles)return this.props.handleDroppedFiles(ba,ca);return false;}.bind(this),this.$RichComposedTextEditor11=function(ba){if(this.props.canAttachPhoto){return this.$RichComposedTextEditor10(this.props.editorState,ba);}else if(this.props.handlePastedFiles)return this.props.handlePastedFiles(ba);return false;}.bind(this),this.$RichComposedTextEditor12=function(ba){this.props.onChange(u(this.props.editorState,ba,n));}.bind(this),this.$RichComposedTextEditor13=function(ba){this.props.onChange(u(this.props.editorState,ba,o));}.bind(this),this.$RichComposedTextEditor14=function(ba){this.props.onChange(u(this.props.editorState,ba,m));}.bind(this),this.$RichComposedTextEditor15=function(){this.props.onChange(c('EditorState').forceSelection(this.props.editorState,this.props.editorState.getSelection()));}.bind(this),this.focus=function(){this.refs.inlineStyleMenu.reset();this.refs.editor.focus();}.bind(this),x;}r.prototype.$RichComposedTextEditor10=function(w,x){var y=x[0];if(!y||y.type!='image/png'&&y.type!='image/jpeg')return false;var z=new FileReader();z.onload=function(aa){var ba=aa.target.result,ca=new Image();ca.src=ba;ca.onload=function(){var da=this.props.compositionID,ea={photo:y},fa={files:ea,compositionID:da},ga=c('DraftEntity').create('IMAGE','IMMUTABLE',fa);this.props.onChange(u(w,ga,n));}.bind(this);}.bind(this);z.readAsDataURL(y);return true;};r.prototype.blur=function(){this.refs.editor.blur();};r.prototype.shouldComponentUpdate=function(w){return (w.editorState!==this.props.editorState||w.readOnly!==this.props.readOnly);};r.prototype.render=function(){var w=this.props.editorState.getCurrentContent(),x=false;if(!w.hasText()){var y=w.getBlockMap().first().getType();x=y!=='unstyled';}var z=c('joinClasses')(this.props.className,"_4u4d"+(x?' '+"_4u4e":'')),aa=null,ba=null;if(!this.props.readOnly){aa=c('React').createElement(c('RichComposedTextEditorMenu.react'),{editorState:this.props.editorState,canAttachVideo:this.props.canAttachVideo,canAttachPhoto:this.props.canAttachPhoto,canAttachEmbed:this.props.canAttachEmbed,compositionID:this.props.compositionID,onToggleBlockType:this.$RichComposedTextEditor4,onAddEmbed:this.$RichComposedTextEditor14,onAddPhoto:this.$RichComposedTextEditor12,onAddVideo:this.$RichComposedTextEditor13,onCancelPhoto:this.$RichComposedTextEditor15,ownerID:this.props.ownerID});ba=c('React').createElement(c('RichComposedTextEditorInlineStyleMenu.react'),{ref:'inlineStyleMenu',editorState:this.props.editorState,onToggle:this.$RichComposedTextEditor5,onRemoveLink:this.$RichComposedTextEditor6,onAddLink:this.$RichComposedTextEditor7,onCancelLink:this.$RichComposedTextEditor8});}return (c('React').createElement('div',{className:z,onClick:this.focus,role:'presentation'},c('React').createElement(c('AbstractMentionsTextEditor.react'),babelHelpers['extends']({},this.props,{ref:'editor',blockRendererFn:this.props.blockRendererFn,customStyleMap:q,mentionResultsComponent:c('MentionsLayer.react'),mentionResultsProps:{typeaheadView:c('XUITypeaheadView.react')},mentionCreationFn:c('createMentionEntity'),blockStyleFn:v,blockComponent:c('RichComposedTextEditorBlock.react'),onTab:this.$RichComposedTextEditor1,handleKeyCommand:this.$RichComposedTextEditor3,handleContentReturn:this.$RichComposedTextEditor2,handleDroppedFiles:this.$RichComposedTextEditor9,handlePastedFiles:this.$RichComposedTextEditor11})),aa,ba));};r.propTypes={editorState:l.instanceOf(c('EditorState')).isRequired,canAttachVideo:l.bool,canAttachPhoto:l.bool,canAttachEmbed:l.bool,blockRendererFn:l.func,onSave:l.func.isRequired,ownerID:l.string.isRequired};function s(w){var x=w.getSelection(),y=x.getAnchorOffset(),z=w.getCurrentContent(),aa=z.getBlockForKey(x.getAnchorKey());if(x.isCollapsed()&&aa.getLength()===y&&t(aa.getType())){var ba=c('DraftModifier').splitBlock(z,x);return c('DraftModifier').setBlockType(ba,ba.getSelectionAfter(),'unstyled');}return null;}function t(w){return (w==='blockquote'||w==='header-one'||w==='header-two');}function u(w,x,y){return c('AtomicBlockUtils').insertAtomicBlock(w,x,y);}function v(w){var x=w.getType();return "_2cuy"+(x==='unstyled'?' '+"_3dgx":'')+(x==='blockquote'?' '+"_509u":'')+(x==='header-one'?' '+"_509y":'')+(x==='header-two'?' '+"_50a1":'')+(x==='code-block'?' '+"_19ii":'')+(x==='unordered-list-item'?' '+"_509q":'')+(x==='ordered-list-item'?' '+"_509s":'')+(x==='atomic'?' '+"_4nuy":'');}f.exports=r;}),null);