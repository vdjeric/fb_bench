if (self.CavalryLogger) { CavalryLogger.start_js(["j5dRZ"]); }

__d("LanguageDialectCategory",[],(function a(b,c,d,e,f,g){f.exports={VIEWER_UNDERSTOOD:"viewer_understood",OTHER:"other"};}),null);
__d("LanguageDialectRenderStyle",[],(function a(b,c,d,e,f,g){f.exports={DEFAULT:"default",INTERNAL:"internal",ULM_CATEGORIES:"ulm_categories"};}),null);
__d("LanguageDialectSetTypes",[],(function a(b,c,d,e,f,g){f.exports={LANGUAGE_DETECTION:"language_detection",MT_SOURCE:"source",MT_TARGET:"target",MLC:"mlc",MT_SOURCE_DARK_TRAFFIC:"source_dark",MT_TARGET_DARK_TRAFFIC:"target_dark"};}),null);
__d("XLtgLanguageDialectTypeaheadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/translation\/dialects\/",{value:{type:"String",defaultValue:""},q:{type:"String",defaultValue:""},dialect_set:{type:"Enum",defaultValue:"language_detection",enumType:1},render:{type:"Enum",defaultValue:"default",enumType:1}});}),null);
__d('LanguageDialectAsyncSearchSource',['WebAsyncSearchSource','XLtgLanguageDialectTypeaheadController'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('WebAsyncSearchSource'));i=h&&h.prototype;function j(k,l){i.constructor.call(this,{bootstrapRequests:[{uri:c('XLtgLanguageDialectTypeaheadController').getURIBuilder().setEnum('dialect_set',k).setEnum('render',l).getURI()}]});}j.prototype.searchImpl=function(k,l,m){if(!k){l(Object.values(this.getAllEntriesMap()),k);}else i.searchImpl.call(this,k,l,m);};f.exports=j;}),null);
__d('LanguageDialectViewRenderer.react',['cx','fbt','LanguageDialectCategory','LanguageDialectRenderStyle','React','SearchableEntry','XUIGrayText.react','XUITypeaheadViewItem.react','groupArray'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.$LanguageDialectViewRenderer1=function(m){'use strict';return (c('React').createElement(c('XUITypeaheadViewItem.react'),{key:m.getUniqueID(),entry:m,highlighted:m===this.props.highlightedEntry,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight}));};l.prototype.$LanguageDialectViewRenderer2=function(m,n){'use strict';var o=null;switch(m){case c('LanguageDialectCategory').VIEWER_UNDERSTOOD:o=i._("Frequently used languages");break;case c('LanguageDialectCategory').OTHER:o=i._("Other languages");break;default:break;}var p=n.map(function(q){return this.$LanguageDialectViewRenderer1(q);}.bind(this));if(o)p.unshift(c('React').createElement(c('XUIGrayText.react'),{key:m,className:"_2pir _2pi2",shade:'light',display:'block'},o));return p;};l.prototype.$LanguageDialectViewRenderer3=function(){var m;'use strict';var n=c('groupArray')(this.props.entries,function(p){return p.getType();}),o=Object.keys(n);if(o.length===1)return this.$LanguageDialectViewRenderer2('',this.props.entries);if(Object.prototype.hasOwnProperty.call(n,c('LanguageDialectCategory').VIEWER_UNDERSTOOD)){o.splice(o.indexOf(c('LanguageDialectCategory').VIEWER_UNDERSTOOD),1);o.unshift(c('LanguageDialectCategory').VIEWER_UNDERSTOOD);}return (m=[]).concat.apply(m,o.map(function(p){return this.$LanguageDialectViewRenderer2(p,n[p]);}.bind(this)));};l.prototype.render=function(){'use strict';var m=this.props.renderStyle===c('LanguageDialectRenderStyle').ULM_CATEGORIES?this.$LanguageDialectViewRenderer3():this.$LanguageDialectViewRenderer2('',this.props.entries);return (c('React').createElement('ul',{className:"_5p0r",role:this.props.role},m));};function l(){'use strict';j.apply(this,arguments);}f.exports=l;}),null);
__d('LanguageDialectInlineTypeahead.react',['cx','AbstractTypeahead.react','React','SearchableEntry','LanguageDialectAsyncSearchSource','LanguageDialectRenderStyle','LanguageDialectViewRenderer.react'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this,l);this.$LanguageDialectInlineTypeahead1=function(m){this.props.onSelect&&this.props.onSelect(m);this.$LanguageDialectInlineTypeahead3();}.bind(this);this.$LanguageDialectInlineTypeahead2=function(event){var m=event.target.value;this.props.onChange&&this.props.onChange(m);this.setState({query:event.target.value});}.bind(this);this.$LanguageDialectInlineTypeahead3=function(){this.setState({query:''});}.bind(this);this.searchSource=new (c('LanguageDialectAsyncSearchSource'))(this.props.dialectType,this.props.renderStyle);this.state={query:''};}k.prototype.componentWillReceiveProps=function(l){'use strict';if(l.dialectType!==this.props.dialectType||l.renderStyle!==this.props.renderStyle)this.searchSource=new (c('LanguageDialectAsyncSearchSource'))(l.dialectType,l.renderStyle);};k.prototype.render=function(){'use strict';var l={};this.props.excludedDialects.forEach(function(m){return l[m]=true;});return c('React').createElement(c('AbstractTypeahead.react'),{autoHighlight:true,inputClassName:"_5p0s",hideViewWithEntries:false,showEntriesOnFocus:true,onSelectAttempt:this.$LanguageDialectInlineTypeahead1,onChange:this.$LanguageDialectInlineTypeahead2,onClear:this.$LanguageDialectInlineTypeahead3,searchSource:this.searchSource,placeholder:this.props.placeholder,excludedEntries:l,queryString:this.state.query,presenter:{ViewRenderer:c('LanguageDialectViewRenderer.react'),maxEntries:200,useLayer:false,extraRendererProps:{renderStyle:this.props.renderStyle}}});};k.defaultProps={excludedDialects:[],renderStyle:c('LanguageDialectRenderStyle').DEFAULT};f.exports=k;}),null);
__d('LanguageDialectSearchableDropdown.react',['cx','fbt','ContextualLayer.react','ContextualLayerAutoFlip','ContextualLayerUpdateOnScroll','LanguageDialectInlineTypeahead.react','LanguageDialectRenderStyle','LayerAutoFocus','LayerHideOnBlur','LayerHideOnEscape','React','SearchableEntry','XUIPopoverButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=' \u25BE',m='xx_XX';j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(o){k.constructor.call(this,o);this.$LanguageDialectSearchableDropdown2=function(p){this.setState({selectedDialect:p.getUniqueID(),selectedDialectName:p.getTitle(),isOpen:false});this.props.onSelect(p.getUniqueID());}.bind(this);this.$LanguageDialectSearchableDropdown4=function(){this.setState({isOpen:!this.state.isOpen});}.bind(this);this.state={selectedDialect:this.props.initialDialect?this.props.initialDialect:m,selectedDialectName:this.props.initialDialectName?this.props.initialDialectName:i._("Select"),isOpen:false};}n.prototype.$LanguageDialectSearchableDropdown3=function(){return i._("Show available languages");};n.prototype.render=function(){var o=this.props.useSelector?c('React').createElement(c('XUIPopoverButton.react'),{hasChevron:true,label:this.state.selectedDialectName,onClick:this.$LanguageDialectSearchableDropdown4,ref:function(p){return this.$LanguageDialectSearchableDropdown1=p;}.bind(this)}):c('React').createElement('a',{onClick:this.$LanguageDialectSearchableDropdown4,ref:function(p){return this.$LanguageDialectSearchableDropdown1=p;}.bind(this),role:'button',tabIndex:'0',title:this.$LanguageDialectSearchableDropdown3()},this.state.selectedDialectName,l);return (c('React').createElement('span',{className:this.props.className},o,c('React').createElement(c('ContextualLayer.react'),{alignment:'left',autofocus:true,behaviors:{ContextualLayerAutoFlip:c('ContextualLayerAutoFlip'),ContextualLayerUpdateOnScroll:c('ContextualLayerUpdateOnScroll'),LayerAutoFocus:c('LayerAutoFocus'),LayerHideOnBlur:c('LayerHideOnBlur'),LayerHideOnEscape:c('LayerHideOnEscape')},contextRef:function(){return this.$LanguageDialectSearchableDropdown1;}.bind(this),position:'below',shown:this.state.isOpen},c('React').createElement('div',{className:"_5ge1"},c('React').createElement(c('LanguageDialectInlineTypeahead.react'),{dialectType:this.props.dialectType,onSelect:this.$LanguageDialectSearchableDropdown2,placeholder:this.props.placeholder,excludedDialects:this.props.excludedDialects,hasCategories:this.props.hasCategories,renderStyle:this.props.renderStyle})))));};n.defaultProps={initialDialect:m,hasCategories:false,renderStyle:c('LanguageDialectRenderStyle').DEFAULT,useSelector:false};f.exports=n;}),null);
__d('ReactComposerMultilingualStatusActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({MOUNTED_MULTILINGUAL_STATUS:null,MULTILINGUAL_PROMPT_CLICK:null,MULTILINGUAL_PROMPT_CLOSE:null,LANGUAGE_CREATED:null,LANGUAGE_CHANGED:null,LANGUAGE_REMOVED:null,SET_LANGUAGE_EDITOR_STATE:null,SET_SPECIFIED_POST_LANGUAGE:null,PREFILL_MULTILINGUAL_DATA:null},'ReactComposerMultilingualStatusActionType');}),null);
__d('MentionsInputUtility',['DraftEntity','UnicodeUtils','createEditorStateWithEntities','sanitizeDraftText'],(function a(b,c,d,e,f,g){var h=new RegExp(/@\[(\d+):((\\\]|[^\]])+)\]/g),i=new RegExp(/@\[(\d+):(\d+):((\\\]|[^\]])+)\]/g),j=function l(m){var n=c('sanitizeDraftText')(m),o=n.replace(i,'@[$1:$3]'),p=[],q;while(q=h.exec(o)){var r=q[2].replace(/\\:/g,':').replace(/\\]/g,']').replace(/\n/g,''),s={uid:q[1],text:r,offset:q.index,length:r.length,weakreference:false,entity:{uid:q[1],weakreference:false}};p.push(s);o=o.substr(0,s.offset)+s.text+o.substr(s.offset+q[0].length);h.lastIndex=s.offset+s.length;}return {text:o,ranges:p};},k=function l(m,n){var o=this.parseTextWithMentions(m),p=o.text,q=o.ranges;q.forEach(function(r){var s=c('UnicodeUtils').substring(p,0,r.offset).length-p.substring(0,r.offset).length;r.offset-=s;});return c('createEditorStateWithEntities')({text:p,ranges:q,decorator:n,entityCreationFn:function r(s){return c('DraftEntity').create('MENTION','IMMUTABLE',{id:s.uid,isWeak:s.weakreference});},splitIntoBlocks:true,allowUndo:true});};f.exports={createFromTextWithMentions:k,parseTextWithMentions:j};}),null);
__d('ReactComposerMultilingualStatusStore',['ReactComposerMultilingualStatusActionType','ReactComposerStoreBase','MentionsInputUtility','getMentionsInputDecorator','getMentionsTextForContentState','immutable'],(function a(b,c,d,e,f,g){var h,i,j=c('immutable').Record({languageDialect:null,editorState:null});h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){'use strict';var l;i.constructor.call(this,function(){return {statuses:c('immutable').List(),specifiedPostLanguage:''};},function(m){switch(m.type){case c('ReactComposerMultilingualStatusActionType').MOUNTED_MULTILINGUAL_STATUS:l&&l.$ReactComposerMultilingualStatusStore1(m);break;case c('ReactComposerMultilingualStatusActionType').LANGUAGE_CREATED:l&&l.$ReactComposerMultilingualStatusStore2(m);break;case c('ReactComposerMultilingualStatusActionType').LANGUAGE_REMOVED:l&&l.$ReactComposerMultilingualStatusStore3(m);break;case c('ReactComposerMultilingualStatusActionType').LANGUAGE_CHANGED:l&&l.$ReactComposerMultilingualStatusStore4(m);break;case c('ReactComposerMultilingualStatusActionType').SET_LANGUAGE_EDITOR_STATE:l&&l.$ReactComposerMultilingualStatusStore5(m);break;case c('ReactComposerMultilingualStatusActionType').SET_SPECIFIED_POST_LANGUAGE:l&&l.$ReactComposerMultilingualStatusStore6(m);break;case c('ReactComposerMultilingualStatusActionType').PREFILL_MULTILINGUAL_DATA:l&&l.$ReactComposerMultilingualStatusStore7(m);break;}});l=this;}k.prototype.getAllPostDialects=function(l){'use strict';var m=this.getLanguageDialects(l);m.push(this.getSpecifiedPostLanguage(l));return m;};k.prototype.getSpecifiedPostLanguage=function(l){'use strict';return this.getComposerData(l).specifiedPostLanguage;};k.prototype.getLanguageDialects=function(l){'use strict';return this.getStatuses(l).map(function(m){return m.languageDialect;}).toArray();};k.prototype.getEditorStates=function(l){'use strict';return this.getStatuses(l).map(function(m){return m.editorState;}).toArray();};k.prototype.getMessages=function(l){'use strict';return this.getStatuses(l).map(function(m){return this.$ReactComposerMultilingualStatusStore8(m);}.bind(this)).toArray();};k.prototype.getMessage=function(l,m){'use strict';var n=this.getStatus(l,m);return this.$ReactComposerMultilingualStatusStore8(n);};k.prototype.getStatuses=function(l){'use strict';return this.getComposerData(l).statuses;};k.prototype.getStatus=function(l,m){'use strict';var n=this.getComposerData(l),o=this.$ReactComposerMultilingualStatusStore9(n.statuses,m);return n.statuses.get(o);};k.prototype.getPostData=function(l){'use strict';var m=this.getMessages(l);if(m.length===0)return {};return {multilingual_specified_lang:this.getSpecifiedPostLanguage(l),multilingual_status_langs:this.getLanguageDialects(l),multilingual_statuses:m};};k.prototype.$ReactComposerMultilingualStatusStore9=function(l,m){'use strict';var n=l.findIndex(function(o){return (o.languageDialect===m);});if(n===-1)throw new Error('Undefined status language dialect: '+m);return n;};k.prototype.$ReactComposerMultilingualStatusStore8=function(l){'use strict';var m=l.editorState.getCurrentContent();return c('getMentionsTextForContentState')(m);};k.prototype.$ReactComposerMultilingualStatusStore2=function(l){'use strict';var m=this.validateAction(l,['composerID','languageDialect','languageConfig']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n),r=new j({languageDialect:o,editorState:p.editorState});q.statuses=q.statuses.push(r);this.emitChange(n);};k.prototype.$ReactComposerMultilingualStatusStore3=function(l){'use strict';var m=this.validateAction(l,['composerID','languageDialect']),n=m[0],o=m[1],p=this.getComposerData(n),q=this.$ReactComposerMultilingualStatusStore9(p.statuses,o);p.statuses=p.statuses.splice(q,1);this.emitChange(n);};k.prototype.$ReactComposerMultilingualStatusStore4=function(l){'use strict';var m=this.validateAction(l,['composerID','oldLanguageDialect','newLanguageDialect']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n),r=this.$ReactComposerMultilingualStatusStore9(q.statuses,o);q.statuses=q.statuses.set(r,new j({languageDialect:p,editorState:q.statuses.get(r).editorState}));this.emitChange(n);};k.prototype.$ReactComposerMultilingualStatusStore5=function(l){'use strict';var m=this.validateAction(l,['composerID','languageDialect','editorState']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n),r=this.$ReactComposerMultilingualStatusStore9(q.statuses,o);q.statuses=q.statuses.set(r,new j({languageDialect:o,editorState:p}));this.emitChange(n);};k.prototype.$ReactComposerMultilingualStatusStore1=function(l){'use strict';this.$ReactComposerMultilingualStatusStore6(l);};k.prototype.$ReactComposerMultilingualStatusStore6=function(l){'use strict';var m=this.validateAction(l,['composerID','languageDialect']),n=m[0],o=m[1],p=this.getComposerData(n);p.specifiedPostLanguage=o;this.emitChange(n);};k.prototype.$ReactComposerMultilingualStatusStore7=function(l){'use strict';var m=this.validateAction(l,['composerID','multilingualData']),n=m[0],o=m[1],p=this.getComposerData(n);p.specifiedPostLanguage=o.specifiedDialect;o.multilingualStatuses.forEach(function(q){p.statuses=p.statuses.push(new j({languageDialect:q.dialect,editorState:c('MentionsInputUtility').createFromTextWithMentions(q.message,c('getMentionsInputDecorator')())}));});this.emitChange(n);};f.exports=new k();}),null);