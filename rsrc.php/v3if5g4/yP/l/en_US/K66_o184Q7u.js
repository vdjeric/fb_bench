if (self.CavalryLogger) { CavalryLogger.start_js(["M8y4L"]); }

__d('TransTaskDisabledLocToken.react',['cx','React','XUITokenizerToken.react'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';return (c('React').createElement(c('XUITokenizerToken.react'),babelHelpers['extends']({},this.props,{highlighted:true,onRemove:null,className:"_1bw9"})));};function k(){'use strict';i.apply(this,arguments);}k.propTypes=c('XUITokenizerToken.react').propTypes;f.exports=k;}),null);
__d('ShareDialogAudienceTypeahead.react',['cx','Grid.react','React','SearchableEntry','XUITypeahead.react','emptyFunction','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('Grid.react').GridItem,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={query:this.props.preselectedID&&this.props.preselectedTitle?this.props.preselectedTitle:null,selectedEntry:this.props.preselectedID&&this.props.preselectedTitle?new (c('SearchableEntry'))({uniqueID:this.props.preselectedID,title:this.props.preselectedTitle}):null},this.$ShareDialogAudienceTypeahead1=function(){if(!this.state.selectedEntry||this.state.selectedEntry.getTitle()!==this.state.query)this.$ShareDialogAudienceTypeahead2();}.bind(this),this.$ShareDialogAudienceTypeahead2=function(){this.setState({query:'',selectedEntry:null});this.props.onClear();}.bind(this),this.$ShareDialogAudienceTypeahead5=function(s){this.setState({query:s.getTitle(),selectedEntry:s});this.props.onChange(s);}.bind(this),this.$ShareDialogAudienceTypeahead3=function(event){var s=event.target.value;if(this.state.selectedEntry&&this.state.selectedEntry.getTitle()!==s){this.setState({query:s,selectedEntry:null});}else this.setState({query:s});}.bind(this),this.$ShareDialogAudienceTypeahead4=function(){this.setState({query:'',selectedEntry:null});this.props.onClear();}.bind(this),o;}m.prototype.render=function(){'use strict';var n=this.props,o=n.className,p=babelHelpers.objectWithoutProperties(n,['className']),q=!!this.state.selectedEntry,r={};if(this.props.userId)r[this.props.userId]=true;var s=this.props.prefix?c('React').createElement('span',{className:"_2qx7"},this.props.prefix):c('React').createElement('noscript',null),t=this.props.prefix?"_2qx6":null;return c('React').createElement(c('Grid.react'),{className:t,cols:2},c('React').createElement(k,{key:'prefix',className:"_1ho1"},s),c('React').createElement(k,{key:'suffix',className:"_1xk6"},c('React').createElement(c('XUITypeahead.react'),babelHelpers['extends']({},p,{className:c('joinClasses')(o,"_39y9"+(q?' '+"_39ya":'')),excludedEntries:r,onChange:this.$ShareDialogAudienceTypeahead3,onClear:this.$ShareDialogAudienceTypeahead4,onBlur:this.$ShareDialogAudienceTypeahead1,onSelectAttempt:this.$ShareDialogAudienceTypeahead5,queryString:this.state.query,searchSource:this.props.searchSource,focusedOnInit:true,showEntriesOnFocus:false,clearable:true,selectedEntry:this.state.selectedEntry,tallInput:true}))));};m.propTypes={searchSource:l.object.isRequired,preselectedID:l.string,userId:l.string,prefix:l.string,onClear:l.func,onChange:l.func};m.defaultProps={onClear:c('emptyFunction'),onChange:c('emptyFunction')};f.exports=m;}),null);
__d('ShareDialogEventAudience.react',['cx','fbt','ReactComposerContextMixin','React','ShareDialogAudienceTypeahead.react'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k=c('React').createClass({displayName:'ShareDialogEventAudience',mixins:[c('ReactComposerContextMixin')],propTypes:{searchSource:j.object.isRequired,onClear:j.func,onChange:j.func.isRequired,onSelect:j.func},getInitialState:function l(){return {query:'',selectedEntry:null};},_onEventChange:function l(m){this.props.onChange([m.getUniqueID()]);},render:function l(){var m=i._("Event:");return (c('React').createElement('div',null,c('React').createElement(c('ShareDialogAudienceTypeahead.react'),babelHelpers['extends']({},this.props,{onChange:this._onEventChange,prefix:m,showPhoto:true,name:'audience_event',inputID:'audience_event',className:"_18sr",placeholder:i._("Event Name")}))));}});f.exports=k;}),null);
__d('ShareDialogGroupAudience.react',['cx','fbt','ReactComposerContextMixin','React','ShareDialogAudienceTypeahead.react'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k=c('React').createClass({displayName:'ShareDialogGroupAudience',mixins:[c('ReactComposerContextMixin')],propTypes:{customModules:j.arrayOf(j.func),searchSource:j.object.isRequired,onClear:j.func,onChange:j.func.isRequired,onSelect:j.func},getInitialState:function l(){return {query:'',selectedEntry:null};},_onGroupChange:function l(m){var n=m.getAuxiliaryData(),o=n.isForSaleGroup;this.setState({isForSaleGroupSelected:o});this.props.onChange([m.getUniqueID()]);},render:function l(){var m=this.props.customModules?this.props.customModules:[],n=i._("Group:");return (c('React').createElement('div',null,c('React').createElement(c('ShareDialogAudienceTypeahead.react'),babelHelpers['extends']({},this.props,{onChange:this._onGroupChange,prefix:n,showPhoto:true,name:'audience_group',inputID:'audience_group',className:"_2n3i",placeholder:i._("Group Name")})),m.map(function(o,p){return (c('React').createElement(o,babelHelpers['extends']({key:p},this.props,this.state)));}.bind(this))));}});f.exports=k;}),null);
__d('ShareDialogTypeaheadViewItem.react',['cx','BackgroundImage.react','CurrentUser','ImageBlock.react','ImmutableObject','MercuryThreadImage.react','React','TypeaheadViewItem','joinClasses'],(function a(b,c,d,e,f,g,h){var i=c('React').createClass({displayName:'ShareDialogTypeaheadViewItem',mixins:[c('TypeaheadViewItem').Mixin],propTypes:c('TypeaheadViewItem').propTypes,render:function j(){var k=this.props.entry,l=this.props.splitSubtext?k.getSubtitle().split(' \u00b7 ')[0]:k.getSubtitle(),m=l?c('React').createElement('div',{className:"_599q"},l):null,n=k.getAuxiliaryData();if(k.getPhoto()){var o=c('React').createElement(c('BackgroundImage.react'),{width:32,height:32,backgroundSize:'cover',src:k.getPhoto()});}else o=c('React').createElement(c('MercuryThreadImage.react'),{size:32,thread:new (c('ImmutableObject'))(n.thread),viewer:c('CurrentUser').getID()});var p="_599m"+(!m?' '+"_5mne":'')+(this.props.highlighted?' '+"_599n":'');p=c('joinClasses')(p,this.props.className);return (c('React').createElement('li',{'aria-selected':this.props.highlighted,className:p,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role},c('React').createElement(c('ImageBlock.react'),{spacing:'medium'},o,c('React').createElement('div',null,c('React').createElement('div',{className:"_599p"},k.getTitle()),m))));}});f.exports=i;}),null);
__d('ShareDialogTypeaheadView.react',['cx','React','ShareDialogTypeaheadViewItem.react','TypeaheadViewPropTypes','XUITypeaheadViewContainer.react'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$ShareDialogTypeaheadView1=function(q){return (c('React').createElement(c('ShareDialogTypeaheadViewItem.react'),{key:q.getUniqueID(),entry:q,highlighted:q===this.props.highlightedEntry,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight}));}.bind(this),m;}k.prototype.render=function(){'use strict';var l=!this.props.entries.length?"_599s":'';return (c('React').createElement(c('XUITypeaheadViewContainer.react'),{className:l,id:this.props.ariaOwneeID,role:this.props.role},this.props.entries.map(this.$ShareDialogTypeaheadView1)));};k.propTypes=c('TypeaheadViewPropTypes');k.defaultProps={role:'listbox'};f.exports=k;}),null);
__d('ShareDialogMessageAudience.react',['cx','fbt','ChatSearchSource','Grid.react','MercuryTypeaheadConstants','MessengerTypeaheadUtils','React','ShareDialogTypeaheadView.react','TransTaskDisabledLocToken.react','XUITokenizer.react','XUITokenizerToken.react'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('Grid.react').GridItem,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={entries:[]},this.$ShareDialogMessageAudience5=function(t){if(this.state.entries.length)return c('MessengerTypeaheadUtils').sortEntriesWithoutGroupsOrViewer(t,this.props.userId);return c('MessengerTypeaheadUtils').sortEntriesWithoutPages(t);}.bind(this),this.$ShareDialogMessageAudience2=function(){if(this.props.lockMessageTargets)return true;var t=this.state.entries;return t.length===1&&t[0].getType()===c('MercuryTypeaheadConstants').THREAD_TYPE;}.bind(this),this.$ShareDialogMessageAudience4=function(t){var u=t.getUniqueID(),v=this.state.entries,w=v.some(function(x){if(x.getUniqueID()===u)return true;});if(w)return;v.push(t);this.props.onChange(v.map(function(x){return x.getUniqueID();}));this.setState({entries:v});}.bind(this),this.$ShareDialogMessageAudience3=function(t){if(this.props.lockMessageTargets)return;var u=t.getUniqueID(),v=this.state.entries,w=v.some(function(x){if(x.getUniqueID()===u)return true;});if(w)v.splice(v.indexOf(t),1);this.props.onChange(v.map(function(x){return x.getUniqueID();}));if(v.length===0)this.props.onClear();this.setState({entries:v});}.bind(this),p;}n.prototype.componentWillMount=function(){'use strict';this.$ShareDialogMessageAudience1=new (c('ChatSearchSource'))({queryRequests:[{uri:'/ajax/mercury/composer_query.php'}]});};n.prototype.render=function(){'use strict';var o=this.$ShareDialogMessageAudience2();return c('React').createElement(c('Grid.react'),{className:"_2qx6",cols:2},c('React').createElement(l,{className:"_1ho1",key:'prefix'},c('React').createElement('span',{className:"_2qx7"},i._("To:"))),c('React').createElement(l,{className:"_1xk6",key:'suffix'},c('React').createElement(c('XUITokenizer.react'),babelHelpers['extends']({},this.props,{className:"_39y9"+(' '+"_42z0")+(o?' '+"_39ya":''),placeholder:i._("Names"),name:'audience_message',inputID:'audience_message',value:this.state.entries,focusedOnInit:true,selectOnTab:true,showEntriesOnFocus:false,entries:this.state.entries,searchSource:this.$ShareDialogMessageAudience1,onRemoveEntryAttempt:this.$ShareDialogMessageAudience3,onAddEntryAttempt:this.$ShareDialogMessageAudience4,disabled:o,presenter:{ViewRenderer:c('ShareDialogTypeaheadView.react'),TokenRenderer:this.props.lockMessageTargets?c('TransTaskDisabledLocToken.react'):c('XUITokenizerToken.react'),useLayer:true,sortEntries:this.$ShareDialogMessageAudience5}}))));};n.prototype.componentDidMount=function(){'use strict';var o=this.props.messageTargets;if(o)for(var p=0;p<o.length;++p)if(o[p])this.$ShareDialogMessageAudience4(o[p]);};n.propTypes={userId:m.string,onClear:m.func,onChange:m.func,messageTargets:m.array,lockMessageTargets:m.bool};f.exports=n;}),null);
__d('ShareDialogPageAudience.react',['cx','fbt','React','Image.react','LeftRight.react','ShareActorSelector.react','XUISelector.react','emptyFunction','getObjectValues'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes,m=c('XUISelector.react').Option;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(o){'use strict';k.constructor.call(this,o);var p=o.defaultPageID?o.defaultPageID:c('getObjectValues')(o.pagesSource)[0].id;this.state={selectedPageID:p,selectedActorID:p,onClear:c('emptyFunction'),onChange:c('emptyFunction')};}n.prototype.render=function(){'use strict';if(!this.props.pagesSource)return c('React').createElement('span',null);var o=c('getObjectValues')(this.props.pagesSource).map(function(p){return (c('React').createElement(m,{key:p.id,value:p.id,icon:c('React').createElement(c('Image.react'),{src:p.pic,height:15,width:15})},p.name));});return (c('React').createElement('div',{className:"_15u8"},c('React').createElement(c('LeftRight.react'),null,c('React').createElement(c('XUISelector.react'),{className:"_15u9",name:'audience_page',inputID:'audience_page',maxheight:150,value:this.state.selectedPageID,defaultValue:this.state.selectedPageID,onChange:function(p){this.setState({selectedPageID:p.value});this.props.onChange([{pageId:p.value,actorId:this.state.selectedActorID}]);}.bind(this)},o),c('React').createElement('span',null,c('React').createElement('strong',{className:"_15ua"},i._("Posting as"),' '),c('React').createElement(c('ShareActorSelector.react'),{name:'audience_page_identity',onChange:function(p){this.setState({selectedActorID:p.value});this.props.onChange([{pageId:this.state.selectedPageID,actorId:p.value}]);}.bind(this),targetID:this.state.selectedPageID})))));};n.propTypes={pagesSource:l.object.isRequired,onClear:l.func,onSelect:l.func,defaultPageID:l.string};f.exports=n;}),null);
__d('ShareDialogPersonAudience.react',['cx','fbt','React','SearchableEntry','ShareDialogAudienceTypeahead.react'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$ShareDialogPersonAudience1=function(s){this.props.onChange([s.getUniqueID()]);}.bind(this),o;}m.prototype.render=function(){'use strict';var n=i._("Friend:");return (c('React').createElement(c('ShareDialogAudienceTypeahead.react'),babelHelpers['extends']({},this.props,{prefix:n,searchSource:this.props.searchSource,className:"_4heg",name:'friendTarget',inputID:'friendTarget',clearable:true,placeholder:i._("Friend's Name"),onChange:this.$ShareDialogPersonAudience1})));};m.propTypes={searchSource:l.object.isRequired,userId:l.string,onClear:l.func,onChange:l.func.isRequired,onSelect:l.func,preselectedID:l.string,preselectedTitle:l.string};f.exports=m;}),null);