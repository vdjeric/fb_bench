if (self.CavalryLogger) { CavalryLogger.start_js(["PYMUG"]); }

__d('AYMTHomepagePanelBaseCarouselAnimator',['cx','StepperAnimation','Ease','Style','Locale'],(function a(b,c,d,e,f,g,h){'use strict';var i=0,j=1;function k(){this.$AYMTHomepagePanelBaseCarouselAnimator1=function(l){return this.$AYMTHomepagePanelBaseCarouselAnimator15(l,i);}.bind(this);this.$AYMTHomepagePanelBaseCarouselAnimator1=this.$AYMTHomepagePanelBaseCarouselAnimator1.bind(this);this.$AYMTHomepagePanelBaseCarouselAnimator2="_9bp";}k.prototype.update=function(l){this.$AYMTHomepagePanelBaseCarouselAnimator3(l);};k.prototype.createAnimation=function(l){var m=l.nextIndex,n=l.items;if(m>=0&&m<n.length)return this.$AYMTHomepagePanelBaseCarouselAnimator4(l);return null;};k.prototype.getCSSClassForRoot=function(){return this.$AYMTHomepagePanelBaseCarouselAnimator2;};k.prototype.getViewportHeight=function(l){var m=l.index;return this.$AYMTHomepagePanelBaseCarouselAnimator5(l,m);};k.prototype.getViewportWidth=function(l){return this.$AYMTHomepagePanelBaseCarouselAnimator6(l);};k.prototype.getContainerHeight=function(l){var m=l.index;return this.$AYMTHomepagePanelBaseCarouselAnimator5(l,m);};k.prototype.getContainerWidth=function(l){return this.$AYMTHomepagePanelBaseCarouselAnimator7(l);};k.prototype.needsNextArrow=function(l,m){return false;};k.prototype.remove=function(l){this.$AYMTHomepagePanelBaseCarouselAnimator8(l);};k.prototype.$AYMTHomepagePanelBaseCarouselAnimator8=function(l){var m='margin-left';c('Style').set(l.container,m,0);};k.prototype.$AYMTHomepagePanelBaseCarouselAnimator3=function(l){var m=l.index,n=l.container;this.$AYMTHomepagePanelBaseCarouselAnimator9(l,m,n);};k.prototype.$AYMTHomepagePanelBaseCarouselAnimator9=function(l,m,n){var o='margin-left',p=this.$AYMTHomepagePanelBaseCarouselAnimator10(l,m);c('Style').set(n,o,p+'px');};k.prototype.$AYMTHomepagePanelBaseCarouselAnimator10=function(l,m){var n=this.$AYMTHomepagePanelBaseCarouselAnimator11(l,i),o=this.$AYMTHomepagePanelBaseCarouselAnimator12(l,m);return -Math.min(n,o);};k.prototype.$AYMTHomepagePanelBaseCarouselAnimator12=function(l,m){var n=l.items,o=n[m],p=0;if(o){var q='marginLeft',r=this.$AYMTHomepagePanelBaseCarouselAnimator1;for(var s=0;s<m;s++)p+=r.call(this,n[s]);p+=parseInt(c('Style').get(o,q),10);}return p;};k.prototype.$AYMTHomepagePanelBaseCarouselAnimator4=function(l){var m=l.container,n=l.nextIndex,o=l.viewport,p=c('Locale').isRTL()?'margin-right':'margin-left',q=this.$AYMTHomepagePanelBaseCarouselAnimator10(l,n),r=c('Style').get(m,'height'),s=this.$AYMTHomepagePanelBaseCarouselAnimator5(l,n),t=new (c('StepperAnimation'))(m);if(l.animate){t.from(p,c('Style').get(m,p)).to(p,q+'px').ease(c('Ease').sineInOut);}else this.$AYMTHomepagePanelBaseCarouselAnimator9(l,n,m);var u=new (c('StepperAnimation'))(o);u.from('height',r).to('height',s).ease(c('Ease').sineInOut).duration(500).go();return t;};k.prototype.$AYMTHomepagePanelBaseCarouselAnimator5=function(l,m){var n=this.$AYMTHomepagePanelBaseCarouselAnimator13(l,j),o=m%n.length;return n[o];};k.prototype.$AYMTHomepagePanelBaseCarouselAnimator6=function(l){return Math.max.apply(null,this.$AYMTHomepagePanelBaseCarouselAnimator13(l,i));};k.prototype.$AYMTHomepagePanelBaseCarouselAnimator14=function(l){return this.$AYMTHomepagePanelBaseCarouselAnimator15(l,j);};k.prototype.$AYMTHomepagePanelBaseCarouselAnimator15=function(l,m){var n=void 0,o=void 0,p=void 0,q=l.style.position;c('Style').set(l,'position','static');if(m===i){n='offsetWidth';o='marginLeft';p='marginRight';}else{n='offsetHeight';o='marginTop';p='marginBottom';}o=parseInt(c('Style').get(l,o),10);p=parseInt(c('Style').get(l,p),10);var r=l[n]+o+p;c('Style').set(l,'position',q);return r;};k.prototype.$AYMTHomepagePanelBaseCarouselAnimator7=function(l){return this.$AYMTHomepagePanelBaseCarouselAnimator16(l,i);};k.prototype.$AYMTHomepagePanelBaseCarouselAnimator13=function(l,m){return l.items.map(function(n){return this.$AYMTHomepagePanelBaseCarouselAnimator15(n,m);}.bind(this));};k.prototype.$AYMTHomepagePanelBaseCarouselAnimator16=function(l,m){var n=this.$AYMTHomepagePanelBaseCarouselAnimator13(l,m);return n.reduce(function(o,p){return o+p;},0);};k.prototype.$AYMTHomepagePanelBaseCarouselAnimator11=function(l,m){var n=l.viewport,o=this.$AYMTHomepagePanelBaseCarouselAnimator16(l,m),p=m===i?n.offsetWidth:n.offsetHeight;return o-p;};f.exports=k;}),null);
__d('AYMTHomepagePanelBaseChannelActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h={CAROUSEL_PREV:'',CAROUSEL_NEXT:'',STORE_INITIALIZED:'',TIP_DELETED:'',TIP_IMPRESSION_LOGGED:''},i=c('keyMirrorRecursive')(h,'AYMT_HPP');f.exports=i;}),null);
__d('AYMTHomepagePanelBaseChannelTipRenderer.react',['cx','fbt','DOMContainer.react','React','XUICloseButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').PureComponent);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$AYMTHomepagePanelBaseChannelTipRenderer2=function(){this.props.onClick(this.props.index);}.bind(this),n;}l.prototype.render=function(){var m=this.props.tip,n=m.body,o=m.cmsTip;if(!o&&!n)return null;var p=this.$AYMTHomepagePanelBaseChannelTipRenderer1(o)||this.$AYMTHomepagePanelBaseChannelTipRenderer1(n);return c('React').createElement('div',null,c('React').createElement(c('XUICloseButton.react'),{className:"_20w4",size:'small',tooltip:i._("Hide This Tip"),onClick:this.$AYMTHomepagePanelBaseChannelTipRenderer2}),p);};l.prototype.$AYMTHomepagePanelBaseChannelTipRenderer1=function(m){if(!m)return null;return c('React').createElement(c('DOMContainer.react'),null,m);};f.exports=l;}),null);
__d('AYMTHomepagePanelBaseDispatcher',['ExplicitRegistrationDispatcher'],(function a(b,c,d,e,f,g){'use strict';f.exports=new (c('ExplicitRegistrationDispatcher'))({strict:false});}),null);
__d('AYMTHomepagePanelChannelTipRendererStore',['AYMTClientSideChannelNames','AYMTClientSideLogging','AYMTClientSideParam','AYMTClientSideRenderingParam','AYMTHomepagePanelBaseChannelActionTypes','AYMTHomepagePanelBaseDispatcher','AYMTTipActionTypes','AYMTTipsLoader','FluxMapStore'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxMapStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('AYMTHomepagePanelBaseDispatcher'));this.$AYMTHomepagePanelChannelTipRendererStore1=0;}j.prototype.reduce=function(k,l){switch(l.type){case c('AYMTTipActionTypes').TIPS_LOADED:var m=l.data,n=m.channelName,o=m.tips,p=m.params;if(this.$AYMTHomepagePanelChannelTipRendererStore2(n)){var q=[];for(var r=0;r<o.length;r++){var s=o[r].client_side_rendering_spec,t={body:s[c('AYMTClientSideRenderingParam').TIP_BODY],cmsTip:s[c('AYMTClientSideRenderingParam').CMS_TIP],haveImpressionsLogged:false,tipID:o[r].tip_id,channelID:o[r].channel_id,aymtData:o[r].aymt_data};q.push(t);}return k.set(p.user_id,{tips:q,showSpinner:false});}return k;case c('AYMTHomepagePanelBaseChannelActionTypes').TIP_DELETED:var u=l.data,v=u.index,w=u.userID,x=k.get(w),y=x.tips,z=x.showSpinner,aa=y[v];c('AYMTClientSideLogging').logXoutNew(aa.aymtData,false);y.splice(v,1);this.$AYMTHomepagePanelChannelTipRendererStore1=v>=y.length?0:v;this.$AYMTHomepagePanelChannelTipRendererStore3(y);return k.set(w,{tips:[].concat(y),showSpinner:z});case c('AYMTTipActionTypes').TIPS_LOADED_ERROR:y=k.get(l.data.userID).tips;return k.set(l.data.userID,{tips:y,showSpinner:false});case c('AYMTHomepagePanelBaseChannelActionTypes').CAROUSEL_PREV:y=k.get(l.data.userID).tips;var ba=y[this.$AYMTHomepagePanelChannelTipRendererStore1];c('AYMTClientSideLogging').logCarouselNavigationNew(ba.aymtData,'prev');this.$AYMTHomepagePanelChannelTipRendererStore1=this.$AYMTHomepagePanelChannelTipRendererStore1-1;this.$AYMTHomepagePanelChannelTipRendererStore3(y);return k;case c('AYMTHomepagePanelBaseChannelActionTypes').CAROUSEL_NEXT:y=k.get(l.data.userID).tips;ba=y[this.$AYMTHomepagePanelChannelTipRendererStore1];c('AYMTClientSideLogging').logCarouselNavigationNew(ba.aymtData,'next');this.$AYMTHomepagePanelChannelTipRendererStore1=this.$AYMTHomepagePanelChannelTipRendererStore1+1;this.$AYMTHomepagePanelChannelTipRendererStore3(y);return k;case c('AYMTHomepagePanelBaseChannelActionTypes').TIP_IMPRESSION_LOGGED:y=k.get(l.data.userID).tips;this.$AYMTHomepagePanelChannelTipRendererStore3(y);return k;case c('AYMTHomepagePanelBaseChannelActionTypes').STORE_INITIALIZED:if(this.$AYMTHomepagePanelChannelTipRendererStore2(l.data.channelName)){this.$AYMTHomepagePanelChannelTipRendererStore1=0;var ca=[];this.load(l.data.userID,l.data.channelName);return k.set(l.data.userID,{tips:ca,showSpinner:true});}return k;default:return k;}};j.prototype.load=function(k,l){var m={};m[c('AYMTClientSideParam').USER_ID]=k;c('AYMTTipsLoader').loadTips(m,l,c('AYMTHomepagePanelBaseDispatcher'));};j.prototype.getCurIndex=function(){return this.$AYMTHomepagePanelChannelTipRendererStore1;};j.prototype.$AYMTHomepagePanelChannelTipRendererStore3=function(k){if(!k||k.length===0)return;var l=k[this.$AYMTHomepagePanelChannelTipRendererStore1];if(l.haveImpressionsLogged)return;c('AYMTClientSideLogging').logImpressionNew(l.aymtData);l.haveImpressionsLogged=true;};j.prototype.$AYMTHomepagePanelChannelTipRendererStore2=function(k){if(k===c('AYMTClientSideChannelNames').AYMT_HOMEPAGE_PANEL_CHANNEL||k===c('AYMTClientSideChannelNames').AYMT_HOMEPAGE_GROUPS_PANEL_CHANNEL||k===c('AYMTClientSideChannelNames').AYMT_HOMEPAGE_APPS_PANEL_CHANNEL)return true;return false;};f.exports=new j(c('AYMTHomepagePanelBaseDispatcher'));}),null);
__d('AYMTHomepagePanelBaseContainer.react',['cx','fbt','ix','AdsFluxContainer','AYMTHomepagePanelBaseCarouselAnimator','AYMTHomepagePanelBaseChannelActionTypes','AYMTHomepagePanelBaseChannelTipRenderer.react','AYMTHomepagePanelBaseDispatcher','AYMTHomepagePanelChannelTipRendererStore','Image.react','React','XUICarousel.react','XUICarouselArrow.react','XUICarouselItem.react','AdsSpinner.react','setImmediate'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=[c('AYMTHomepagePanelChannelTipRendererStore')];k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o);this.$AYMTHomepagePanelBaseContainer1=function(p){c('AYMTHomepagePanelBaseDispatcher').dispatch({data:{index:p,userID:this.props.userID},type:c('AYMTHomepagePanelBaseChannelActionTypes').TIP_DELETED});}.bind(this);this.$AYMTHomepagePanelBaseContainer4=function(){c('AYMTHomepagePanelBaseDispatcher').dispatch({data:{userID:this.props.userID},type:c('AYMTHomepagePanelBaseChannelActionTypes').CAROUSEL_PREV});this.refs.carousel.prev();}.bind(this);this.$AYMTHomepagePanelBaseContainer5=function(){c('AYMTHomepagePanelBaseDispatcher').dispatch({data:{userID:this.props.userID},type:c('AYMTHomepagePanelBaseChannelActionTypes').CAROUSEL_NEXT});this.refs.carousel.next();}.bind(this);c('AYMTHomepagePanelBaseDispatcher').explicitlyRegisterStores(m);c('AYMTHomepagePanelBaseDispatcher').dispatch({data:{userID:o.userID,channelName:o.channelName},type:c('AYMTHomepagePanelBaseChannelActionTypes').STORE_INITIALIZED});}n.prototype.componentDidUpdate=function(o,p){c('setImmediate')(function(){return c('AYMTHomepagePanelBaseDispatcher').dispatch({data:{userID:this.props.userID},type:c('AYMTHomepagePanelBaseChannelActionTypes').TIP_IMPRESSION_LOGGED});}.bind(this));};n.getStores=function(){return m;};n.calculateState=function(o,p){var q=c('AYMTHomepagePanelChannelTipRendererStore').get(p.userID);return {curState:q||{tips:[],showSpinner:true}};};n.prototype.render=function(){if(this.state.curState.showSpinner)return c('React').createElement(c('AdsSpinner.react'),{className:"_4-9u",size:'large'});var o=this.state.curState.tips.length;if(o===0)return null;if(o===1)return c('React').createElement(c('AYMTHomepagePanelBaseChannelTipRenderer.react'),{index:0,tip:this.state.curState.tips[0],onClick:this.$AYMTHomepagePanelBaseContainer1});return c('React').createElement(c('XUICarousel.react'),{animator:new (c('AYMTHomepagePanelBaseCarouselAnimator'))(),arrows:this.$AYMTHomepagePanelBaseContainer2(),initialAutoplay:false,initialIndex:0,ref:'carousel',resetInitialIndex:true,resizeViewport:'dynamic',wrapAround:false},this.$AYMTHomepagePanelBaseContainer3());};n.prototype.$AYMTHomepagePanelBaseContainer3=function(){var o=this.state.curState.tips,p=[];for(var q=0;q<o.length;q++)p.push(c('React').createElement(c('XUICarouselItem.react'),{key:q,style:{width:'280px'}},c('React').createElement(c('AYMTHomepagePanelBaseChannelTipRenderer.react'),{index:q,tip:o[q],onClick:this.$AYMTHomepagePanelBaseContainer1})));return p;};n.prototype.$AYMTHomepagePanelBaseContainer2=function(){return [c('React').createElement(c('XUICarouselArrow.react'),{className:"_23ni",onClick:this.$AYMTHomepagePanelBaseContainer4},c('React').createElement(c('Image.react'),{alt:i._("Prev"),src:j("101565")})),c('React').createElement(c('XUICarouselArrow.react'),{className:"_23ni",onClick:this.$AYMTHomepagePanelBaseContainer5},c('React').createElement(c('Image.react'),{alt:i._("Next"),src:j("101566")}))];};f.exports=c('AdsFluxContainer').create(n,{withProps:true});}),null);