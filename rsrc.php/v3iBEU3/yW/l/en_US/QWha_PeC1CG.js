if (self.CavalryLogger) { CavalryLogger.start_js(["OwPEW"]); }

__d("TilesMapTheme",[],(function a(b,c,d,e,f,g){f.exports={DEFAULT:"default",CROWDSOURCING_OSM:"crowdsourcing_osm",CROWDSOURCING_PPM_DG:"crowdsourcing_ppm_dg",ROAD_MASK_OSM_EDITING:"road_mask_osm_editing",LIVE_MAPS:"live_maps"};}),null);
__d('Facepile.react',['cx','fbt','ix','intlSummarizeNumber','joinClasses','HovercardLink','Image.react','Link.react','List.react','React'],(function a(b,c,d,e,f,g,h,i,j){var k=c('React').PropTypes,l={small:24,medium:32,large:50},m=c('React').createClass({displayName:'Facepile',defaultProps:{moreColor:'blue',moreCount:0,showHovercard:false},propTypes:{className:k.string,moreColor:k.oneOf(['blue','gray']),moreCount:k.number,moreDialogLink:k.string,morePageLink:k.string,numFaces:k.number,onFaceClick:k.func,onComponentDidMount:k.func,profiles:k.arrayOf(k.shape({URL:k.any,name:k.node.isRequired,uniqueID:k.any.isRequired,profilePicURI:k.any.isRequired})).isRequired,showHovercard:k.bool,size:k.oneOf([28,'small','medium','large']).isRequired},_onFaceClick:function n(o,p){if(this.props.onFaceClick)this.props.onFaceClick(o,p);},componentDidMount:function n(){if(this.props.onComponentDidMount)this.props.onComponentDidMount();},getPicSize:function n(){return l[this.props.size]||this.props.size;},renderFace:function n(o,p){var q=this.getPicSize(),r=c('HovercardLink').constructEndpoint({id:o.uniqueID}).toString();return (c('React').createElement('li',{className:"_43q7",key:o.uniqueID,onClick:this._onFaceClick.bind(this,o,p)},c('React').createElement(c('Link.react'),{href:o.URL,'aria-label':o.name,'data-hover':!this.props.showHovercard?'tooltip':null,'data-hovercard':this.props.showHovercard?r:null,'data-tooltip-content':o.name,className:"_2rt_ link",'data-ignoreclass':"_2rt_",'data-tooltip-alignh':'left'},c('React').createElement(c('Image.react'),{src:o.profilePicURI,width:q,height:q,className:'img'}))));},renderMore:function n(){if(!this.props.moreCount)return null;var o=this.props.numFaces!=null&&this.props.numFaces<=this.props.profiles.length?this.props.moreCount+1:this.props.moreCount,p=c('intlSummarizeNumber')(o,0),q=p.length,r;if(o===0||this.props.size==='small'&&q>2||this.props.size===28&&q>3||this.props.size==='medium'&&q>3||this.props.size==='large'&&q>6){r=c('React').createElement(c('Image.react'),{src:j("97502")});}else r='+'+p;var s;if(o===1){s=i._("1 other person");}else s=i._("{num} other people",[i.param('num',o)]);var t=c('joinClasses')("_43q8"+(' '+"_43q7")+(q<2?' '+"_43qa":'')+(q===2?' '+"_43qb":'')+(q===3?' '+"_43qd":'')+(q>3?' '+"_43qe":'')+(this.props.moreColor==='blue'?' '+"_49c8":'')+(this.props.moreColor==='gray'?' '+"_49cb":''));return (c('React').createElement('li',{className:t},c('React').createElement('a',{'data-hover':'tooltip','data-tooltip-position':'right','data-tooltip-content':s,ajaxify:this.props.moreDialogLink,href:this.props.morePageLink,role:'button',rel:'dialog'},r)));},render:function n(){var o=c('joinClasses')(this.props.className,"_43qm"+(this.props.size==28?' '+"_3cxu":'')+(this.props.size=='small'?' '+"_43q9":'')+(this.props.size=='medium'?' '+"_43qc":'')+(this.props.size=='large'?' '+"_43qf":'')),p=this.props.numFaces==undefined?this.props.profiles:this.props.profiles.slice(0,this.props.moreCount?this.props.numFaces-1:this.props.numFaces);return (c('React').createElement('div',{className:o,style:this.props.style},c('React').createElement(c('List.react'),{className:"_4cg3",direction:'horizontal',spacing:'none',border:'none'},p.map(this.renderFace),this.renderMore())));}});f.exports=m;}),null);
__d('FBTilesAttributionLogo.react',['cx','React','TilesMapConfig','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$FBTilesAttributionLogo1=function(){return (c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_3d_k"),style:{backgroundImage:'url('+c('TilesMapConfig').LOGO.url+')',height:c('TilesMapConfig').LOGO.height+'px',width:c('TilesMapConfig').LOGO.width+'px'}}));}.bind(this),n;}l.prototype.render=function(){switch(this.props.mapProvider){case 'HERE':return this.$FBTilesAttributionLogo1();case 'OSM':return this.$FBTilesAttributionLogo2();case 'DG':return this.$FBTilesAttributionLogo3();}};l.prototype.$FBTilesAttributionLogo2=function(){return (c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_wuu")},'\u00A9 OpenStreetMap'));};l.prototype.$FBTilesAttributionLogo3=function(){return (c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_wuu")},'Imagery \u00A9 2016 DigitalGlobe, Inc.'));};l.propTypes={mapProvider:k.oneOf(['HERE','OSM','DG']).isRequired};f.exports=l;}),null);
__d('FBTilesMapZoomOverlay.react',['cx','ix','fbt','Image.react','React','XUIButton.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes,n=c('React').createElement(c('Image.react'),{src:i("22148")}),o=c('React').createElement(c('Image.react'),{src:i("22147")});k=babelHelpers.inherits(p,c('React').PureComponent);l=k&&k.prototype;p.prototype.render=function(){var q=this.props,r=q.onZoomIn,s=q.onZoomOut,t=babelHelpers.objectWithoutProperties(q,['onZoomIn','onZoomOut']);return (c('React').createElement('div',t,c('React').createElement('div',null,c('React').createElement(c('XUIButton.react'),{disabled:r==null,image:n,label:j._("Zoom In"),labelIsHidden:true,onClick:r,type:'button'})),c('React').createElement('div',null,c('React').createElement(c('XUIButton.react'),{className:"_3d8x",disabled:s==null,image:o,label:j._("Zoom Out"),labelIsHidden:true,onClick:s,type:'button'}))));};function p(){k.apply(this,arguments);}p.propTypes={onZoomIn:m.func,onZoomOut:m.func};f.exports=p;}),null);
__d('ElementResizeEmitter',['cx','invariant','DOM','EventListener','SubscriptionList','requestAnimationFrame'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=!!navigator.userAgent.match(/Trident/);j=babelHelpers.inherits(m,c('SubscriptionList'));k=j&&j.prototype;function m(n){getComputedStyle(n).position!=='static'||i(0);k.constructor.call(this,m.__setup,m.__teardown);this.$ElementResizeEmitter1=n;this.$ElementResizeEmitter2=false;}m.__setup=function(){var n=document.createElement('iframe');this.$ElementResizeEmitter3=n;if(l)n.src='javascript:void((function(){document.open();document.domain='+JSON.stringify(document.domain)+';document.close();})())';n.className="_3dtr";n.onload=this.$ElementResizeEmitter4.bind(this);this.$ElementResizeEmitter1.appendChild(n);};m.__teardown=function(){if(this.$ElementResizeEmitter3){if(this.$ElementResizeEmitter5!=undefined&&this.$ElementResizeEmitter3.document!==undefined)this.$ElementResizeEmitter5.remove();c('DOM').remove(this.$ElementResizeEmitter3);this.$ElementResizeEmitter3=undefined;}};m.prototype.$ElementResizeEmitter4=function(){this.$ElementResizeEmitter6();var n=void 0;try{n=this.$ElementResizeEmitter3.contentWindow;n.document;}catch(o){return;}this.$ElementResizeEmitter5=c('EventListener').listen(n,'resize',this.$ElementResizeEmitter6.bind(this));};m.prototype.$ElementResizeEmitter6=function(){if(this.$ElementResizeEmitter2)return;this.$ElementResizeEmitter2=true;c('requestAnimationFrame')(function(){this.fireCallbacks();this.$ElementResizeEmitter2=false;}.bind(this));};f.exports=m;}),null);
__d('forEachDifference',['forEachObject'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k){c('forEachObject')(i,function(l,m){if(Object.prototype.hasOwnProperty.call(j,m)){if(k.onBoth)k.onBoth(l,j[m],m);}else if(k.onLeft)k.onLeft(l,m);});c('forEachObject')(j,function(l,m){if(!Object.prototype.hasOwnProperty.call(i,m)&&k.onRight)k.onRight(l,m);});}f.exports=h;}),null);
__d('partitionObject',['forEachObject'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k){var l={},m={};c('forEachObject')(i,function(n,o){if(j.call(k,n,o,i)){l[o]=n;}else m[o]=n;});return [l,m];}f.exports=h;}),null);
__d('partitionObjectByKey',['partitionObject'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){return c('partitionObject')(i,function(k,l){return j.has(l);});}f.exports=h;}),null);
__d('LeafletLayer.react',['React','Set','areEqual','forEachDifference','forEachObject','partitionObjectByKey'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=i.constructor).call.apply(n,[this].concat(q)),this.$LeafletLayer1=undefined,this.$LeafletLayer2=function(s){this.$LeafletLayer1=this.props.onCreateLayer(s);this.context.onAddLayer(this.$LeafletLayer1);}.bind(this),o;}k.mutateEventHandlers=function(n,o,p){if(!c('areEqual')(o,p))c('forEachDifference')(o||{},p||{},{onLeft:function q(r,s){n.on(s,r);},onRight:function q(r,s){n.off(s,r);},onBoth:function q(r,s,t){if(r!==s){n.off(t,s);n.on(t,r);}}});};k.addEventHandlers=function(n,o){if(o!=null)c('forEachObject')(o,function(p,q){n.on(q,p);});};k.prototype.componentDidMount=function(){this.$LeafletLayer2(m(this.props));};k.prototype.componentDidUpdate=function(n){var o=m(this.props),p=m(n);if(this.props.onUpdateLayer!==n.onUpdateLayer||!this.props.onUpdateLayer(this.$LeafletLayer1,o,p)){this.context.onRemoveLayer(this.$LeafletLayer1);this.$LeafletLayer2(o);}};k.prototype.componentWillUnmount=function(){this.context.onRemoveLayer(this.$LeafletLayer1);this.$LeafletLayer1=null;};k.prototype.render=function(){return null;};k.propTypes={onCreateLayer:j.func.isRequired,onUpdateLayer:j.func.isRequired};k.contextTypes={onAddLayer:j.func.isRequired,onRemoveLayer:j.func.isRequired};var l=new (c('Set'))(Object.keys(k.propTypes));function m(n){return c('partitionObjectByKey')(n,l)[1];}f.exports=k;}),null);
__d('LeafletMapLayer.react',['invariant','LeafletLayer.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$LeafletMapLayer1=function(){var r=c('React').Children.only(this.props.children);this.$LeafletMapLayer3=r;return r.type.toLayer(r.props);}.bind(this),this.$LeafletMapLayer2=function(r,s,t){var u=c('React').Children.only(this.props.children);if(u.type!==this.$LeafletMapLayer3.type)return false;this.$LeafletMapLayer3=u;return u.type.mutate(r,s,t);}.bind(this),n;}l.prototype.componentDidMount=function(){var m=c('React').Children.only(this.props.children);m.type.mutate||h(0);m.type.toLayer||h(0);};l.prototype.render=function(){var m=c('React').Children.only(this.props.children);return c('React').createElement(c('LeafletLayer.react'),babelHelpers['extends']({},m.props,{onAddLayer:this.props.onAddLayer,onRemoveLayer:this.props.onRemoveLayer,onCreateLayer:this.$LeafletMapLayer1,onUpdateLayer:this.$LeafletMapLayer2}));};l.propTypes={onAddLayer:k.func.isRequired,onRemoveLayer:k.func.isRequired};f.exports=l;}),null);
__d('LeafletView',['invariant','GeoCoordinates','ImmutableObject','nearlyEqualNumbers'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('ImmutableObject'));j=i&&i.prototype;function k(l){l||h(0);l.center instanceof c('GeoCoordinates')||h(0);typeof l.zoom==='number'||h(0);j.constructor.call(this,l);}k.prototype.nearlyEquals=function(l){return (this.center.nearlyEquals(l.center)&&c('nearlyEqualNumbers')(this.zoom,l.zoom));};k.prototype.setZoom=function(l){return new k({center:this.center,zoom:l});};k.prototype.setCenter=function(l){return new k({center:l,zoom:this.zoom});};k.DEFAULT=new k({center:new (c('GeoCoordinates'))(0,0),zoom:0});f.exports=k;}),null);
__d('LeafletUtils',['invariant','GeoCoordinates','leaflet','LeafletView','mod'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('leaflet').CRS.EPSG3857,j=360,k=j/2,l=c('leaflet').LatLng.DEG_TO_RAD,m=c('leaflet').LatLng.RAD_TO_DEG,n=c('leaflet').Projection.Mercator.R_MAJOR,o=2*Math.PI*n,p=new (c('leaflet').LatLngBounds)(new (c('leaflet').LatLng)(-j/4,-j/2),new (c('leaflet').LatLng)(j/4,j/2));function q(s){var t=s.zoomRange;Array.isArray(t)&&t.length===2||h(0);return t;}var r={WHOLE_WORLD_BOUNDS:p,FULL_CIRCLE_DEG:j,fromLatLng:function s(t){return new (c('GeoCoordinates'))(t.lat,t.lng);},normalizedBounds:function s(t,u){var v=r.wrapLongitude(t.lng);u=c('leaflet').latLng(u.lat,u.lng+v-t.lng);t=c('leaflet').latLng(t.lat,v);return c('leaflet').latLngBounds(t,u);},fitBounds:function s(t,u,v){var w=v.crs||i,x=q(v),y=r.getBoundsZoom(t,u,{zoomRange:x,crs:w});if(y==null)y=x[0];var z=w.latLngToPoint(t.getSouthWest(),y),aa=w.latLngToPoint(t.getNorthEast(),y),ba=r.fromLatLng(w.pointToLatLng(z.add(aa).divideBy(2),y));return new (c('LeafletView'))({center:ba,zoom:y});},getBoundsZoom:function s(t,u,v){var w=v.crs||i,x=q(v),y=c('leaflet').point(u.width,u.height),z=t.getNorthWest(),aa=t.getSouthEast(),ba=x[0]-1;for(;ba<=x[1];++ba){var ca=w.latLngToPoint(aa,ba+1),da=w.latLngToPoint(z,ba+1),ea=ca.subtract(da).floor();if(!y.contains(ea))break;}if(ba<x[0])return null;if(ba<=x[1])return ba;return ba-1;},getViewBounds:function s(t,u,v){v=v||i;var w=u.width/2,x=u.height/2,y=r.toLatLng(t.center),z=v.latLngToPoint(y,t.zoom),aa=v.pointToLatLng(c('leaflet').point(z.x-w,z.y+x),t.zoom),ba=v.pointToLatLng(c('leaflet').point(z.x+w,z.y-x),t.zoom);return r.normalizedBounds(aa,ba);},isViewInBounds:function s(t,u,v,w){var x=r.getViewBounds(t,u,w),y=r.shiftBoundsLng(x,j);return v.some(function(z){return (z.contains(x)||z.contains(y));});},projectCircle:function s(t,u,v){v=v||i;var w=r.toLatLng(t.center),x=v.projection,y=r.circleBounds(w,t.radius,x),z=v.latLngToPoint(y.getCenter(),u),aa=v.latLngToPoint(y.getSouthWest(),u),ba=v.latLngToPoint(y.getNorthEast(),u),ca=c('leaflet').point(Math.round((ba.x-aa.x)/2),Math.round((aa.y-ba.y)/2));return {center:z,radius:ca};},circleBounds:function s(t,u,v){v=v||i.projection;var w=t.lat,x=t.lng,y=u/n*m,z=v.project(c('leaflet').latLng(w+y,x)),aa=v.project(c('leaflet').latLng(w-y,x)),ba=z.add(aa).divideBy(2),ca=v.unproject(ba).lat,da=w*l,ea=ca*l,fa=Math.acos((Math.cos(y*l)-Math.sin(da)*Math.sin(ea))/(Math.cos(da)*Math.cos(ea)))*m;return c('leaflet').latLngBounds(c('leaflet').latLng(ca-y,x-fa),c('leaflet').latLng(ca+y,x+fa));},shiftBoundsLng:function s(t,u){return c('leaflet').latLngBounds([t.getSouthWest().lat,t.getSouthWest().lng+u],[t.getNorthEast().lat,t.getNorthEast().lng+u]);},toLatLng:function s(t){return new (c('leaflet').LatLng)(t.latitude,t.longitude);},wrapLongitude:function s(t){return c('mod')(t+k,j)-k;},areViewEqual:function s(t,u){if(!t&&!u)return true;if(!t||!u)return false;return (t.zoom===u.zoom&&t.center.latitude===u.center.latitude&&t.center.longitude===u.center.longitude);},metersToPixels:function s(t,u){return t/(o*Math.abs(Math.cos(u.center.latitude*l))/Math.pow(2,u.zoom+8));},distanceFromLatLng:function s(t,u,v){var w=u/n,x=v*l,y=t.lat*l,z=t.lng*l,aa=Math.sin(y),ba=Math.cos(y),ca=Math.sin(w),da=Math.cos(w),ea=Math.sin(x),fa=Math.cos(x),ga=aa*da+ba*ca*fa,ha=Math.asin(ga),ia=ea*ca*ba,ja=da-aa*ga,ka=z+Math.atan2(ia,ja);return new (c('leaflet').LatLng)(ha*m,r.wrapLongitude(ka*m));}};f.exports=r;}),null);
__d('LeafletMap.react',['invariant','ElementResizeEmitter','LeafletMapLayer.react','LeafletUtils','LeafletView','React','ReactDOM','Set','debounceCore','emptyFunction','forEachDifference','leaflet','nullthrows'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=100,m=10,n=new (c('Set'))(['dragging','touchZoom','doubleClickZoom','scrollWheelZoom','boxZoom','keyboard','tab']),o=k.instanceOf(c('LeafletView'));function p(v){var w=v.getCenter();return new (c('LeafletView'))({center:c('LeafletUtils').fromLatLng(w),zoom:v.getZoom()});}function q(v,w){return {center:[v.center.latitude,v.center.longitude],zoom:v.zoom,attributionControl:false,layers:w,trackResize:false};}function r(v,w,x){if(!n.has(w))throw new Error('cannot change Leaflet option `'+w+'` during component lifetime');v[w][x?'enable':'disable']();}function s(v,w,x){if(w===x)return;c('forEachDifference')(w,x,{onLeft:function y(z,aa){return r(v,aa,z);},onRight:function y(z,aa){throw new Error('reverting Leaflet option `'+aa+'` back to default is not supported');},onBoth:function y(z,aa,ba){if(z!==aa)r(v,ba,z);}});}function t(v,w,x){c('forEachDifference')(w,x,{onLeft:function y(z,aa){return void v.on(aa,z);},onRight:function y(z,aa){return void v.off(aa,z);},onBoth:function y(z,aa,ba){if(z!==aa){v.off(ba,aa);v.on(ba,z);}}});}i=babelHelpers.inherits(u,c('React').Component);j=i&&i.prototype;function u(){var v,w;for(var x=arguments.length,y=Array(x),z=0;z<x;z++)y[z]=arguments[z];return w=(v=j.constructor).call.apply(v,[this].concat(y)),this.$LeafletMap4=function(aa){if(this.$LeafletMap3){this.$LeafletMap3.addLayer(aa);return;}this.$LeafletMap11().push(aa);}.bind(this),this.$LeafletMap5=function(aa){this.$LeafletMap3!==undefined||h(0);if(this.$LeafletMap3!==null)this.$LeafletMap3.removeLayer(aa);}.bind(this),w;}u.prototype.getChildContext=function(){return {onAddLayer:this.$LeafletMap4,onRemoveLayer:this.$LeafletMap5};};u.prototype.componentDidMount=function(){var v=Object.assign({},this.props.defaultOptions,this.props.options,q(this.$LeafletMap10(),this.$LeafletMap11())),w=this.$LeafletMap3=c('leaflet').map(c('ReactDOM').findDOMNode(this),v);this.$LeafletMap1=null;this.$LeafletMap8=c('debounceCore')(this.$LeafletMap12.bind(this),l);t(w,this.props.eventHandlers,{});w.on('movestart',this.$LeafletMap13.bind(this));w.on('moveend',this.$LeafletMap14.bind(this));this.$LeafletMap2='still';this.$LeafletMap9=new (c('Set'))();this.$LeafletMap7=c('debounceCore')(function(x,y){if(this.$LeafletMap3)this.$LeafletMap3.setView(x,y);}.bind(this),m);this.$LeafletMap6=new (c('ElementResizeEmitter'))(c('ReactDOM').findDOMNode(this)).add(function(){var x=this.$LeafletMap3;if(x!=null){x.invalidateSize();c('nullthrows')(this.props.onSizeSettled)(x.getSize());}}.bind(this));};u.prototype.componentDidUpdate=function(v){var w=this.$LeafletMap3;if(w==null)return;var x=this.props,y=x.eventHandlers,z=x.options;t(w,y,v.eventHandlers);s(w,z,v.options);this.$LeafletMap16(v.view);};u.prototype.componentWillUnmount=function(){this.$LeafletMap6.remove();if(this.$LeafletMap3!=null)this.$LeafletMap3.remove();this.$LeafletMap3=null;};u.prototype.render=function(){var v=c('React').Children.map(this.props.children,function(w,x){if(!w)return w;if(w.type.toLayer==null)return w;return c('React').createElement(c('LeafletMapLayer.react'),{key:w.key,onAddLayer:this.$LeafletMap4,onRemoveLayer:this.$LeafletMap5},w);}.bind(this));return c('React').createElement('div',{className:this.props.className,style:babelHelpers['extends']({display:'relative'},this.props.style)},v);};u.prototype.$LeafletMap11=function(){if(!this.$LeafletMap1)this.$LeafletMap1=[];return this.$LeafletMap1;};u.prototype.$LeafletMap10=function(){if(this.props.view)return this.props.view;if(this.props.defaultView)return this.props.defaultView;return c('LeafletView').DEFAULT;};u.prototype.$LeafletMap14=function(){if(!this.$LeafletMap3)return;var v=p(this.$LeafletMap3),w=this.$LeafletMap2;this.$LeafletMap2='still';if(this.props.view){if(w==='moving-stale'){this.$LeafletMap12();return;}if(v.nearlyEquals(this.props.view))return;this.$LeafletMap8();}if(!this.props.onViewChange)return;this.props.onViewChange(v);};u.prototype.$LeafletMap13=function(){if(!this.$LeafletMap3)return;if(this.$LeafletMap2==='still')this.$LeafletMap2='moving';};u.prototype.$LeafletMap12=function(){this.$LeafletMap8.reset();if(this.$LeafletMap2==='moving')this.$LeafletMap2='moving-stale';var v=this.props.view,w=this.$LeafletMap3;if(v==null||w==null||v.nearlyEquals(p(w)))return;this.$LeafletMap7([v.center.latitude,v.center.longitude],v.zoom);};u.prototype.$LeafletMap16=function(v){var w=this.props.view;if(!w||!this.$LeafletMap3||w===v||v&&w.nearlyEquals(v))return;this.$LeafletMap12();};u.prototype.$LeafletMap15=function(v,w){if(v[w]!==this.props[w]&&!this.$LeafletMap9.has(w))this.$LeafletMap9.add(w);};u.propTypes={className:k.string,defaultOptions:k.object,defaultView:k.instanceOf(c('LeafletView')),eventHandlers:k.object,onSizeSettled:k.func,onViewChange:k.func,options:k.object,style:k.object,view:function v(w,x,y){for(var z=arguments.length,aa=Array(z>3?z-3:0),ba=3;ba<z;ba++)aa[ba-3]=arguments[ba];var ca=o.apply(undefined,[w,x,y].concat(aa));if(!w[x]||ca)return ca;if(w[x]&&w.defaultView)return new Error('You provided both `view` and `defaultView` props to LeafletMap. '+'`defaultView` will be discarded.');if(w.onViewChange)return null;return new Error('You provided a `view` prop to LeafletMap without an '+'`onViewChange` handler. This will prevent the user to move the '+'view. If the view should be movable use `defaultView`. Otherwise, '+'set `onViewChange`.');}};u.defaultProps={eventHandlers:{},onSizeSettled:c('emptyFunction'),options:{}};u.childContextTypes={onAddLayer:k.func.isRequired,onRemoveLayer:k.func.isRequired};f.exports=u;}),null);
__d('LeafletTileLayer.react',['React','leaflet','LeafletLayer.react','areEqual'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){'use strict';return (c('React').createElement(c('LeafletLayer.react'),babelHelpers['extends']({},this.props,{onCreateLayer:l,onUpdateLayer:m})));};function k(){'use strict';h.apply(this,arguments);}k.propTypes={options:j.object,urlTemplate:j.string.isRequired};function l(n){return c('leaflet').tileLayer(n.urlTemplate,n.options);}function m(n,o,p){var q=p.options||{},r=q.opacity,s=q.zIndex,t=babelHelpers.objectWithoutProperties(q,['opacity','zIndex']),u=o.options||{},v=u.opacity,w=u.zIndex,x=babelHelpers.objectWithoutProperties(u,['opacity','zIndex']);if(!c('areEqual')(x,t))return false;if(v!==r)n.setOpacity(v);if(w!==s)n.setZIndex(w);if(o.urlTemplate!==p.urlTemplate)n.setUrl(o.urlTemplate);return true;}f.exports=k;}),null);
__d('TilesMapUtils',['CurrentLocale','GeoCoordinates','GeoRectangle','leaflet','LeafletUtils','LeafletView','TilesMapConfig','TilesMapTheme','URI'],(function a(b,c,d,e,f,g){'use strict';var h=c('TilesMapConfig').OSM_RECTS_RAW.map(function(j){return c('leaflet').latLngBounds([j[2],j[1]],[j[0],j[3]]);}),i={DEFAULT_VIEW:new (c('LeafletView'))({center:new (c('GeoCoordinates'))(0,0),zoom:c('TilesMapConfig').ZOOM_RANGE.MIN}),getTileURLTemplate:function j(k,l){if(!k)k=c('CurrentLocale').get();return c('TilesMapConfig').TILE_URL_TEMPLATE+'&language='+k+(l&&l!==c('TilesMapTheme').DEFAULT?'&theme='+l:'')+(l===c('TilesMapTheme').LIVE_MAPS?'&lmv='+c('TilesMapConfig').LIVE_MAP_VERSION:'');},getOSMRects:function j(){return i.getOSMRectsFromRaw(c('TilesMapConfig').OSM_RECTS_RAW);},getOSMRectsFromRaw:function j(k){return k.map(function(l){return new (c('GeoRectangle'))(l[0],l[1],l[2],l[3]);});},getMapProviderForAttribution:function j(k,l,m,n){if(n===c('TilesMapTheme').CROWDSOURCING_PPM_DG)return 'DG';if(l.height<c('TilesMapConfig').MIN_SIZE_FOR_ATTRIBUTION||l.width<c('TilesMapConfig').MIN_SIZE_FOR_ATTRIBUTION)return null;if(n===c('TilesMapTheme').LIVE_MAPS||n===c('TilesMapTheme').CROWDSOURCING_OSM)return 'OSM';if(k.zoom<c('TilesMapConfig').OSM_ZOOM_THRESHOLD)return 'HERE';return c('LeafletUtils').isViewInBounds(k,l,h,m)?'OSM':'HERE';},getMapProviderForReportButton:function j(k,l){if(l===c('TilesMapTheme').CROWDSOURCING_PPM_DG)throw new Error('Unsupported theme CROWDSOURCING_PPM_DG');if(l===c('TilesMapTheme').LIVE_MAPS||l===c('TilesMapTheme').CROWDSOURCING_OSM)return 'OSM';if(k.zoom<c('TilesMapConfig').OSM_ZOOM_THRESHOLD)return 'HERE';var m=c('leaflet').latLng(k.center.latitude,k.center.longitude);return h.some(function(n){return n.contains(m);})?'OSM':'HERE';},getReporterToolUrl:function j(k,l){switch(k){case 'OSM':var m=Math.max(Math.floor(l.zoom),c('TilesMapConfig').OSM_MAP_MIN_ZOOM_TO_REPORT_ISSUE);return new (c('URI'))(c('TilesMapConfig').OSM_MAP_REPORTER_URL).addQueryData('lat',l.center.latitude).addQueryData('lon',l.center.longitude).addQueryData('zoom',m).toString();default:case 'HERE':return new (c('URI'))(c('TilesMapConfig').HERE_MAP_REPORTER_URL).addQueryData('features','road,border').addQueryData('zoomLevel',Math.floor(l.zoom)).addQueryData('lang',c('CurrentLocale').get()).addQueryData('coord',l.center.latitude+','+l.center.longitude).toString();}}};f.exports=i;}),null);
__d('FBTilesMap.react',['cx','FBOverlayBase.react','FBOverlayContainer.react','FBOverlayElement.react','FBTilesAttributionLogo.react','FBTilesMapZoomOverlay.react','LeafletView','LeafletMap.react','FBTilesReportButton.react','LeafletTileLayer.react','React','TilesMapConfig','TilesMapUtils','TilesMapTheme'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l={maxZoom:c('TilesMapConfig').ZOOM_RANGE.MAX,minZoom:c('TilesMapConfig').ZOOM_RANGE.MIN};function m(r,s){if(s!=null&&s.type===c('FBOverlayElement.react'))return r?s:undefined;return r?undefined:s;}var n=function r(s){return (c('React').Children.map(s,m.bind(undefined,false)));},o=function r(s){return (c('React').Children.map(s,m.bind(undefined,true)));};function p(r){return {overlays:o(r),others:n(r)};}i=babelHelpers.inherits(q,c('React').Component);j=i&&i.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=j.constructor).call.apply(r,[this].concat(u)),this.state={size:undefined},this.$FBTilesMap5=function(w){this.setState({size:w});if(this.props.onSizeSettled!=null)this.props.onSizeSettled(w);}.bind(this),this.$FBTilesMap6=function(){var w=this.props.view;if(w==null||this.props.onViewChange==null)return;if(w.zoom<c('TilesMapConfig').ZOOM_RANGE.MAX)this.props.onViewChange(w.setZoom(w.zoom+1));}.bind(this),this.$FBTilesMap7=function(){var w=this.props.view;if(w==null||this.props.onViewChange==null)return;if(w.zoom>c('TilesMapConfig').ZOOM_RANGE.MIN)this.props.onViewChange(w.setZoom(w.zoom-1));}.bind(this),this.$FBTilesMap8=function(){var w=c('TilesMapUtils').getMapProviderForReportButton(this.props.view),x=c('TilesMapUtils').getReporterToolUrl(w,this.props.view);return {mapURI:null,mapSource:w,reportURL:x};}.bind(this),s;}q.prototype.render=function(){var r=this.props,s=r.children,t=r.className,u=r.style,v=babelHelpers.objectWithoutProperties(r,['children','className','style']),w=p(s),x=w.others,y=w.overlays;return c('React').createElement(c('FBOverlayContainer.react'),{className:t,style:u},c('React').createElement(c('FBOverlayBase.react'),null,this.$FBTilesMap1(x,v)),y,this.$FBTilesMap2(),this.$FBTilesMap3(),this.$FBTilesMap4());};q.prototype.$FBTilesMap2=function(){if(this.state.size==null)return null;var r=c('TilesMapUtils').getMapProviderForAttribution(this.props.view,{width:this.state.size.x,height:this.state.size.y},null,this.props.theme);if(r===null)return null;return c('React').createElement(c('FBOverlayElement.react'),{vertical:'bottom',horizontal:'left'},c('React').createElement(c('FBTilesAttributionLogo.react'),{mapProvider:r}));};q.prototype.$FBTilesMap3=function(){if(!this.props.showReportButton||this.state.size==null)return null;return (c('React').createElement(c('FBOverlayElement.react'),{vertical:'bottom',horizontal:'right'},c('React').createElement(c('FBTilesReportButton.react'),{className:"_4e-j",mapConfig:this.$FBTilesMap8})));};q.prototype.$FBTilesMap1=function(r,s){var t=babelHelpers['extends']({},s.options,{zoomControl:false});return (c('React').createElement(c('LeafletMap.react'),babelHelpers['extends']({},s,{className:"_5db7",onSizeSettled:this.$FBTilesMap5,options:t}),c('React').createElement(c('LeafletTileLayer.react'),{options:Object.assign({},this.props.tileOptions,l),urlTemplate:c('TilesMapUtils').getTileURLTemplate(null,this.props.theme)}),r));};q.prototype.$FBTilesMap9=function(){if(!this.props.setZoomPosition)return {vertical:'top',horizontal:'left'};return {vertical:this.props.setZoomPosition.vertical,horizontal:this.props.setZoomPosition.horizontal};};q.prototype.$FBTilesMap4=function(){if(this.props.view==null||this.props.onViewChange==null||!this.props.showZoomControls)return null;var r=this.props.view.zoom<l.maxZoom?this.$FBTilesMap6:undefined,s=this.props.view.zoom>l.minZoom?this.$FBTilesMap7:undefined,t=this.$FBTilesMap9();return (c('React').createElement(c('FBOverlayElement.react'),{vertical:t.vertical,horizontal:t.horizontal},c('React').createElement(c('FBTilesMapZoomOverlay.react'),{className:"_3-8j _1yx0",onZoomIn:r,onZoomOut:s})));};q.propTypes={className:k.string,showZoomControls:k.bool,setZoomPosition:k.shape({horizontal:k.oneOf(['left','right','fit']),vertical:k.oneOf(['top','bottom','fit'])}),showReportButton:k.bool,style:k.object,theme:k.string,view:k.instanceOf(c('LeafletView')),tileOptions:k.object};q.defaultProps={showReportButton:true,theme:c('TilesMapTheme').DEFAULT};f.exports=q;}),null);
__d('ReviewConsumptionTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:ReviewConsumptionLoggerConfig',this.$ReviewConsumptionTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:ReviewConsumptionLoggerConfig',this.$ReviewConsumptionTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$ReviewConsumptionTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$ReviewConsumptionTypedLogger1=babelHelpers['extends']({},this.$ReviewConsumptionTypedLogger1,j);return this;};h.prototype.setElement=function(j){this.$ReviewConsumptionTypedLogger1.element=j;return this;};h.prototype.setEvent=function(j){this.$ReviewConsumptionTypedLogger1.event=j;return this;};h.prototype.setPageID=function(j){this.$ReviewConsumptionTypedLogger1.page_id=j;return this;};h.prototype.setReviewID=function(j){this.$ReviewConsumptionTypedLogger1.review_id=j;return this;};h.prototype.setSurface=function(j){this.$ReviewConsumptionTypedLogger1.surface=j;return this;};h.prototype.setVC=function(j){this.$ReviewConsumptionTypedLogger1.vc=j;return this;};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$ReviewConsumptionTypedLogger1=babelHelpers['extends']({},this.$ReviewConsumptionTypedLogger1,j);return this;};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l);};var i={element:true,event:true,page_id:true,review_id:true,surface:true,vc:true};f.exports=h;}),null);
__d('LeafletMarker.react',['GeoCoordinates','leaflet','LeafletLayer.react','LeafletUtils','React','areEqual','nullthrows'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.$LeafletMarker1=function(k,l,m){var n=m.options||{},o=n.opacity,p=n.zIndex,q=babelHelpers.objectWithoutProperties(n,['opacity','zIndex']),r=l.options||{},s=r.opacity,t=r.zIndex,u=babelHelpers.objectWithoutProperties(r,['opacity','zIndex']);if(!c('areEqual')(u,q))return false;if(s!==o)k.setOpacity(s);if(t!==p)k.setZIndex(t);if(l.coordinates!==m.coordinates)k.setLatLng(c('LeafletUtils').toLatLng(l.coordinates));var v=l.popup;if(v){var w=v.type.mutate(k.getPopup(),v.props,c('nullthrows')(m.popup).props);if(!w){k.unbindPopup();k.bindPopup(v.type.toLayer(v.props,k));}}else if(!v&&m.popup)k.unbindPopup();c('LeafletLayer.react').mutateEventHandlers(k,l.eventHandlers,m.eventHandlers);return true;};j.prototype.$LeafletMarker2=function(k){var l=c('leaflet').marker(c('LeafletUtils').toLatLng(k.coordinates),k.options);if(k.popup)l.bindPopup(k.popup.type.toLayer(k.popup.props,l));c('LeafletLayer.react').addEventHandlers(l,k.eventHandlers);return l;};j.prototype.render=function(){return (c('React').createElement(c('LeafletLayer.react'),babelHelpers['extends']({},this.props,{onCreateLayer:this.$LeafletMarker2,onUpdateLayer:this.$LeafletMarker1})));};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('timeString',['fbt','DateConsts'],(function a(b,c,d,e,f,g,h){var i=c('DateConsts').SEC_PER_MIN,j=c('DateConsts').SEC_PER_HOUR,k=c('DateConsts').SEC_PER_DAY,l=c('DateConsts').SEC_PER_YEAR,m=c('DateConsts').MS_PER_SEC;function n(q){var r='',s=null;if(q<10){r=h._("just now");}else if(q<i){r=h._("a few seconds ago");}else if(q<i*2){r=h._("about a minute ago");}else if(q<j){s=Math.floor(q/i);r=h._("{number} minutes ago",[h.param('number',s)]);}else if(q<j*2){r=h._("about an hour ago");}else if(q<k){s=Math.floor(q/j);r=h._("{number} hours ago",[h.param('number',s)]);}else if(q<k*2){r=h._("about a day ago");}else if(q<k*30){s=Math.floor(q/k);r=h._("{number} days ago",[h.param('number',s)]);}else if(q<k*30*2){r=h._("about a month ago");}else if(q<l){s=Math.floor(q/k/30);r=h._("{number} months ago",[h.param('number',s)]);}else if(q<l*2){r=h._("over a year ago");}else{s=Math.floor(q/l);r=h._("{number} years ago",[h.param('number',s)]);}return r;}function o(q){var r='',s=null;q=Math.abs(q);if(q<10){r=h._("just now");}else if(q<i){r=h._("in a few seconds");}else if(q<i*2){r=h._("in about a minute");}else if(q<j){s=Math.floor(q/i);r=h._("in {number} minutes",[h.param('number',s)]);}else if(q<j*2){r=h._("in about an hour");}else if(q<k){s=Math.floor(q/j);r=h._("in {number} hours",[h.param('number',s)]);}else if(q<k*2){r=h._("in about a day");}else if(q<k*30){s=Math.floor(q/k);r=h._("in {number} days",[h.param('number',s)]);}else if(q<k*30*2){r=h._("in about a month");}else if(q<l){s=Math.floor(q/k/30);r=h._("in {number} months",[h.param('number',s)]);}else if(q<l*2){r=h._("in over a year");}else{s=Math.floor(q/l);r=h._("in {number} years",[h.param('number',s)]);}return r;}function p(q,r){r=r||Date.now();var s=Math.floor((r-q)/m);if(s>=0){return n(s);}else return o(s);}f.exports=p;}),null);
__d("XBrowseQueryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/search\/{*bqf}\/",{q:{type:"String"},bqf:{type:"String"},searchtype:{type:"Enum",enumType:1},urlslug:{type:"String"},page:{type:"Int"},ref:{type:"String"},query:{type:"String"},name:{type:"String"},cursor:{type:"String"},source:{type:"String"}});}),null);