if (self.CavalryLogger) { CavalryLogger.start_js(["m+IEz"]); }

__d('MercuryNonEmployeeTypeaheadRenderer',['cx','fbt','DOM','CompactTypeaheadRenderer'],(function a(b,c,d,e,f,g,h,i){'use strict';function j(k,l){var m=c('CompactTypeaheadRenderer')(k,l);if(k.non_employee){var n=c('DOM').create('span',{className:"_52l8 highlight"},i._("(Non-Employee)")),o=c('DOM').scry(m,'.subtext')[0];if(o){c('DOM').prependContent(o,'\u00b7');c('DOM').prependContent(o,n);}}return m;}f.exports=j;}),null);
__d('ChatTabTypeaheadRenderer',['DOM','MercuryNonEmployeeTypeaheadRenderer','MercuryTimestamp','MercuryTypeaheadConstants','MercuryThreadMetadataRawRenderer','TypeaheadFacepile'],(function a(b,c,d,e,f,g){function h(j,k){switch(j.type){case c('MercuryTypeaheadConstants').USER_TYPE:case c('MercuryTypeaheadConstants').PAGE_TYPE:return c('MercuryNonEmployeeTypeaheadRenderer')(j,k);case c('MercuryTypeaheadConstants').THREAD_TYPE:return i(j,k);default:return c('DOM').create('div');}}function i(j,k){var l=[],m=j.mercury_thread;if(m.image_src){l.push(c('DOM').create('img',{alt:'',src:m.image_src}));}else{var n=j.participants_to_render.map(function(q){return q.big_image_src||q.image_src;});if(n){if(n instanceof Array){n=c('TypeaheadFacepile').render(n);}else n=c('DOM').create('img',{alt:'',src:n});l.push(n);}}var o=m.name,p=c('MercuryThreadMetadataRawRenderer').renderRawParticipantList(m.thread_id,j.participants_to_render,m.participants.length,{names_renderer:c('MercuryThreadMetadataRawRenderer').renderShortNames});l.push(c('DOM').create('span',{className:'timestamp'},c('MercuryTimestamp').getRelativeTimestamp(m.timestamp)));l.push(c('DOM').create('span',{className:'text'},o));l.push(c('DOM').create('span',{className:'subtext'},p));return c('DOM').create('li',{className:'node'},l);}h.className='compact';f.exports=h;}),null);
__d("XAssociateGroupThreadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/groups\/messenger\/associate_group_thread\/",{});}),null);
__d("XGroupSideConversationCreateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/groups\/side_conversation\/",{post_id:{type:"Int"}});}),null);
__d('MultiChatController',['AsyncRequest','AsyncSignal','ChatOpenTabEventLogger','FantaTabActions','Form','MercuryDispatcher','MercuryIDs','MercuryLocalIDs','MercuryThreadIDMap','MercuryViewer','MercuryServerDispatcher','MercuryThreads','XAssociateGroupThreadController','XGroupSideConversationCreateController'],(function a(b,c,d,e,f,g){var h=c('MercuryDispatcher').get(),i=c('MercuryThreadIDMap').get(),j=c('MercuryThreads').get(),k=c('XGroupSideConversationCreateController').getURIBuilder().getURI().toString(),l=c('XAssociateGroupThreadController').getURIBuilder().getURI().toString();function m(){}Object.assign(m,{subscribe:function o(p,q){p.subscribe('confirm',function(){this.createGroupThreadFromChooserDialog(p,q);}.bind(this));},subscribeFromPost:function o(p,q){p.subscribe('confirm',function(){this.createGroupPostThreadFromChooserDialog(p,q);}.bind(this));},createGroupPostThreadFromChooserDialog:function o(p,q){var r=c('Form').serialize(p.getRoot()),s=JSON.parse(r.profileChooserItems),t=Object.keys(s).filter(function(u){return !!s[u];});m.createThreadForFBIDs(t);new (c('AsyncRequest'))().setURI(k).setData({post_id:q}).send();p.hide();},createGroupThreadFromChooserDialog:function o(p,q){var r=c('Form').serialize(p.getRoot()),s=JSON.parse(r.profileChooserItems),t=[];for(var u in s)if(s[u])t.push(u);var v=m.createThreadForFBIDs(t),w=h.subscribe('update-thread-ids',function(x,y){for(var z in y)if(y[z]==v){var aa=j.getThreadMetaNow(v),ba=i.getServerIDFromClientIDNow(v);if(aa&&!aa.is_canonical&&ba)c('MercuryServerDispatcher').trySend(l,{group_id:q,thread_id:ba});new (c('AsyncSignal'))('/ajax/groups/chat/log',{group_id:q,message_id:z}).send();h.unsubscribe(w);break;}});p.hide();},createThreadForTokens:function o(p){var q=c('MercuryViewer').getID();if(!p.length)return;p=p.filter(function(s){return s!==q;});var r;if(p.length===0){return;}else if(p.length===1){r=c('MercuryIDs').getThreadIDFromParticipantID(p[0]);c('FantaTabActions').openTab(r);c('ChatOpenTabEventLogger').log('ChatTabView',r);}else{r=c('MercuryLocalIDs').generateThreadID();p.unshift(q);j.createNewLocalThread(r,p);c('FantaTabActions').openTab(r);c('ChatOpenTabEventLogger').log('MultiChatController',r);}return r;},createThreadForFBIDs:function o(p){var q=[];for(var r=0;r<p.length;r++)q.push('fbid:'+p[r]);return m.createThreadForTokens(q);}});var n={};n[l]={mode:c('MercuryServerDispatcher').IMMEDIATE};c('MercuryServerDispatcher').registerEndpoints(n);f.exports=m;}),null);
__d('ChatAddFriendsTabSheetRawRenderer',['fbt','ChatTabTypeaheadRenderer','ContextualTypeaheadView','DOM','Event','MercuryDataSourceWrapper','MercuryTypeahead','MessengerAdminGroupUtils','ChatTabTemplates','WorkModeConfig','Keys'],(function a(b,c,d,e,f,g,h){'use strict';var i={render:function j(k,l,m,n,o,p){var q,r=p?c('ChatTabTemplates')[':fb:mercury:chat:tab-sheet:add-friends-empty-tab'].build():c('ChatTabTemplates')[':fb:mercury:chat:tab-sheet:add-friends'].build(),s=p?c('MercuryDataSourceWrapper').chat_typeahead_source:c('MercuryDataSourceWrapper').chat_add_people_source;s.setShowThreads(p);var t=new (c('MercuryTypeahead'))(s,c('ContextualTypeaheadView'));t.setViewOption('renderer',c('ChatTabTypeaheadRenderer'));t.setExcludedParticipantsFromThreadMeta(n);if(!p){var u=void 0;if(c('WorkModeConfig').is_work_user){u=h._("Add co-workers to this chat");}else if(c('MessengerAdminGroupUtils').isJoinableThread(n)){u=h._("Invite friends to this chat");}else u=h._("Add friends to this chat");t.setPlaceholder(u);}t.build();c('DOM').replace(r.getNode('participantsTypeahead'),t.getElement());c('DOM').setContent(m,r.getRoot());t.getTokenizer().adjustWidth();var v=r.getNode('participantsTypeahead').getAttribute('data-labelid'),w=c('DOM').scry(t.getElement(),'input[type="text"]')[0];if(w)if(v){w.setAttribute('aria-labelledby',v);}else w.setAttribute('aria-label',h._("To"));t.focus();c('Event').listen(t.getElement(),'keyup',function(event){if(event&&event.keyCode===c('Keys').TAB){var x=r.getNode('doneButton');if(x){x.focus();event.preventDefault();}}});if(!p)(function(){var x=function y(){var z=t.getSelectedParticipantIDs();if(z.length)o(z);l.close(k);};c('Event').listen(r.getNode('doneButton'),'click',x);t.subscribe('tokens-return',function(){if(t.getTokens().length)x();});})();return t;}};f.exports=i;}),null);
__d('ChatAddFriendsTabSheet',['ArbiterMixin','ChatAddFriendsTabSheetRawRenderer','ChatOpenTabEventLogger','FantaTabActions','MercuryIDs','MercuryLogMessageType','MercurySourceType','MercuryThreadInfo','MercuryTriodeSourceUtil','MercuryTypeaheadConstants','MercuryMessageActions','MercuryMessageObject','MessengerAdminGroupUtils','MultiChatController','Style','MercuryThreadActions','MercuryThreads'],(function a(b,c,d,e,f,g){'use strict';var h=c('MercuryMessageActions').get(),i=c('MercuryMessageObject').get(),j=c('MercuryThreadActions').get(),k=c('MercuryThreads').get();function l(p,q,r,s){this._threadID=p;this._rootElement=q;this._sheetView=r;this._typeahead=null;this._chatTabView=s;}Object.assign(l.prototype,c('ArbiterMixin'),{render:function p(){k.getThreadMeta(this._threadID,function(q){var r=q.is_canonical_user?m:n,s=k.isNewEmptyLocalThread(this._threadID);this._typeahead=c('ChatAddFriendsTabSheetRawRenderer').render(this,this._sheetView,this._rootElement,q,r.bind(null,q),s);this._typeahead.subscribe('tokens-changed',function(){if(s)o(this,this._typeahead,this._threadID,this._chatTabView);}.bind(this));this._typeahead.subscribe('resize',function(){this._sheetView.resize();}.bind(this));this._typeahead.subscribe('esc-pressed',function(){this.inform('esc-pressed');}.bind(this));}.bind(this));},getParticipants:function p(){if(!this._typeahead)return null;return this._typeahead.getSelectedParticipantIDs();},isPermanent:function p(){return true;},isSheetWithInput:function p(){return true;},getType:function p(){return 'add_friends_type';},open:function p(){this._sheetView.open(this);},close:function p(){this._sheetView.close(this);},getHeight:function p(){return c('Style').get(this._rootElement,'height');}});function m(p,q){var r=p.participants;c('MultiChatController').createThreadForTokens(r.concat(q));}function n(p,q){var r=p.thread_id;if(c('MercuryThreadInfo').isEmptyLocalThread(p)){j.addParticipants(r,q);}else{var s=c('MessengerAdminGroupUtils').isJoinableThread(p);if(s){q.map(function(t){var u=c('MercuryIDs').getThreadIDFromParticipantID(t);h.send(i.constructUserGeneratedMessageObject(p.joinable_mode.link,c('MercuryTriodeSourceUtil').getMercuryTriodeSource(),u));});}else h.send(i.constructLogMessageObject(c('MercurySourceType').CHAT_WEB,r,c('MercuryLogMessageType').SUBSCRIBE,{added_participants:q}));}c('FantaTabActions').openTab(r);c('ChatOpenTabEventLogger').log('ChatAddFriendsTabSheet',r);}function o(p,q,r,s){var t=q.getTypeahead().getData(),u=q.getTokens(),v=q.getTypeahead().getCore();v.getElement().removeAttribute('disabled');t.setShowThreads(u.length===0);var w=u.length==1&&u[0].getInfo().render_type===c('MercuryTypeaheadConstants').THREAD_TYPE;if(w){var x=u[0].getInfo().mercury_thread;if(x){var y=s._sharePreview,z=y&&y.getShareData();if(z)var aa=function ba(ca){return ca.loadShareFromParams(z.share_type,z.share_params);};c('FantaTabActions').replaceTab(r,x.thread_fbid);}}else{if(u.length==1&&u[0].getInfo().render_type===c('MercuryTypeaheadConstants').PAGE_TYPE)v.getElement().setAttribute('disabled','disabled');p.inform('chat/tokens-changed',{token_count:u.length,tokens:u});}}f.exports=l;}),null);
__d('MercurySheetView',['cx','Animation','ArbiterMixin','Bootloader','CSS','DOM','JSLogger','MercuryIDs','MercuryParticipants','MercurySheetPolicy','MercuryThreadActions','MercuryThreadIDMap','MercuryMessageActions','MercuryMessageObject','MessengerAdminGroupUtils','React','ReactDOM','Style','MercuryThreads','Vector','XMessagingSetThreadStateController','emptyFunction','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g,h){var i=c('MercuryThreadActions').get(),j=c('MercuryThreadIDMap').get(),k=c('MercuryMessageActions').get(),l=c('MercuryMessageObject').get(),m=c('MercuryThreads').get(),n=5000,o='/ajax/chat/multichat/name_conversation/dismiss.php',p={},q=function r(s,t,u,v){this._threadID=s;this._rootElement=t;this._tabMainElement=u;this._view=v;this._openSheet=null;};Object.assign(q.prototype,c('ArbiterMixin'),{destroy:function r(){if(typeof this._openSheet==='string'){c('ReactDOM').unmountComponentAtNode(this._rootElement);}else c('DOM').empty(this._rootElement);},_renderSheet:function r(s){if(s.type&&typeof s.type==='function'){c('ReactDOM').render(s,this._rootElement);}else s.render();},_clearAndOpen:function r(s,t,u){if(!t)return false;if(s===this._openSheet){this._renderSheet(t);return true;}this.clear(function(){this._openSheet=s;c('CSS').show(this._rootElement);this._renderSheet(t);if(u){c('CSS').addClass(this._tabMainElement,'sheetSlide');c('CSS').addClass(this._tabMainElement,"_1sk4");var v=c('Vector').getElementDimensions(this._rootElement).y;c('Style').set(this._rootElement,'bottom',v+'px');this.resize();this._animation=new (c('Animation'))(this._rootElement).to('bottom',0).duration(150).ease(c('Animation').ease.both).ondone(function(){c('CSS').removeClass(this._tabMainElement,'sheetSlide');c('CSS').removeClass(this._tabMainElement,"_1sk4");this.resize();}.bind(this)).go();}else this.resize();if(!c('MercurySheetPolicy').isPermanent(s))this.resetTimeout(s);}.bind(this));return true;},_openNewSheet:function r(s,t,u){if(this._openSheet&&!c('MercurySheetPolicy').canReplaceOpenSheet(this._openSheet,s))return false;if(typeof s==='string'){this._openSheetByType(s,t,u);return false;}else{this._clearAndOpen(s,s,t);return true;}},_openSheetByType:function r(s,t,u){switch(s){case c('MercurySheetPolicy').sheets.ChatThreadIsMutedTabSheet:c('Bootloader').loadModules(["ChatThreadIsMutedTabSheet.react"],function(v){var w=c('React').createElement(v,{onUnmute:function(){i.unmute(this._threadID);this._view.focus();}.bind(this)});this._clearAndOpen(s,w,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatUserFocusBypassSheet:c('Bootloader').loadModules(["ChatUserFocusBypassSheet.react"],function(v){var w=c('React').createElement(v,null);this._clearAndOpen(s,w,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatUserFocusSheet:c('Bootloader').loadModules(["ChatUserFocusSheet.react"],function(v){var w=m.getThreadMetaNow(this._threadID),x=c('React').createElement(v,{thread:w});this._clearAndOpen(s,x,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatMontageSheet:c('Bootloader').loadModules(["ChatMontageSheet.react"],function(v){var w=c('React').createElement(v,{threadID:this._threadID,onResize:function(){return this.resize();}.bind(this)});this._clearAndOpen(s,w,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatUserTimezoneSheet:c('Bootloader').loadModules(["ChatUserTimezoneSheet.react"],function(v){var w=function(){this.close(s);}.bind(this),x=c('React').createElement(v,{data:u,threadID:this._threadID,resize:function(){return this.resize();}.bind(this),onDismiss:w});this._clearAndOpen(s,x,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatUserBlockedTabSheet:c('Bootloader').loadModules(["ChatPrivacyActionController","ChatUserBlockedTabSheet.react"],function(v,w){var x=c('MercuryIDs').getUserIDFromThreadID(this._threadID);if(!x){var y=c('JSLogger').create('blackbird');y.error('user_blocked_sheet_open_with_non_friend');return;}var z=new v(x,c('emptyFunction')),aa=c('MercuryIDs').getParticipantIDFromUserID(x);c('MercuryParticipants').get(aa,function(ba){var ca=c('React').createElement(w,{shortName:ba.short_name,gender:ba.gender,privacyActionController:z});this._clearAndOpen(s,ca,t);}.bind(this));}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatUploadWarningTabSheet:c('Bootloader').loadModules(["ChatUploadWarningTabSheet.react"],function(v){var w=c('React').createElement(v,null);this._clearAndOpen(s,w,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatThreadIsMessageBlockedSheet:c('Bootloader').loadModules(["ChatThreadIsMessageBlockedSheet.react"],function(v){var w=c('MercuryIDs').getUserIDFromThreadID(this._threadID),x=c('MercuryIDs').getParticipantIDFromUserID(w);if(x)c('MercuryParticipants').get(x,function(y){var z=c('React').createElement(v,{shortName:y.short_name,onUnblock:function(){i.unblockMessages(this._threadID);this._view.focus();}.bind(this)});this._clearAndOpen(s,z,t);}.bind(this));}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatReadOnlyTabSheet:case c('MercurySheetPolicy').sheets.ChatReadOnlyPermanentTabSheet:c('Bootloader').loadModules(["ChatReadOnlyTabSheet.react","MercuryReadOnlyReason"],function(v,w){var x=m.getThreadMetaNow(this._threadID),y=x?w.getReason(x.has_email_participant):null;if(y){var z=c('React').createElement(v,{reason:y});this._clearAndOpen(s,z,t);}}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatOfflineTabSheet:c('Bootloader').loadModules(["ChatOfflineTabSheet.react","ChatPrivacyActionController","ChatVisibility"],function(v,w,x){var y=c('JSLogger').create('blackbird'),z=c('MercuryIDs').getUserIDFromThreadID(this._threadID);if(!z){y.error('offline_sheet_open_with_non_friend');return;}var aa=new w(z,c('emptyFunction')),ba=c('MercuryIDs').getParticipantIDFromUserID(z);c('MercuryParticipants').get(ba,function(ca){var da=c('React').createElement(v,{shortName:ca.short_name,privacyActionController:aa,turnOnChat:function ea(event){event.preventDefault();if(x.isOnline())y.error('tab_sheet_already_online');aa.togglePrivacy();y.log('tab_sheet_go_online',{tab_id:z});}});this._clearAndOpen(s,da,t);}.bind(this));}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatNoRecipientsTabSheet:if(!c('MercuryIDs').getUserIDFromThreadID(this._threadID))c('Bootloader').loadModules(["ChatNoRecipientsTabSheet.react"],function(v){var w=c('React').createElement(v,null);this._clearAndOpen(s,w,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatNewMessagesTabSheet:c('Bootloader').loadModules(["ChatNewMessagesTabSheet.react"],function(v){var w=c('React').createElement(v,{onClick:function(){this._view.newMessageClicked();}.bind(this)});this._clearAndOpen(s,w,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatNameConversationTabSheet:c('Bootloader').loadModules(["AsyncRequest","ChatNameConversationTabSheet.react","MercuryAPIArgsSource","MercuryLogMessageType","MercurySourceType"],function(v,w,x,y,z){m.getThreadMeta(this._threadID,function(aa){var ba=void 0,ca=function fa(ga,ha){var ia=ga.name;if((ha||ia)&&ha!=ia)if(!c('MessengerAdminGroupUtils').isJoinableThread(ga)){k.send(l.constructLogMessageObject(z.CHAT_WEB,ga.thread_id,y.THREAD_NAME,{name:ha}),null,x.CHAT);}else{var ja=c('XMessagingSetThreadStateController').getURIBuilder().getURI();new v().setURI(ja).setData({thread_id:ga.thread_fbid,thread_name:ha}).send();}},da=function(fa){if(!p[this._threadID]){p[this._threadID]=true;j.getServerIDFromClientID(fa.thread_id,function(ga){new v(o).setData({thread_fbid:ga}).send();});}this.close(s);}.bind(this);ba=c('React').createElement(w,{defaultThreadName:aa.name,onDone:function fa(ga){ca(aa,ga);da(aa);}});var ea=u&&u.automatic;if(!ea||ea&&!p[this._threadID])this._clearAndOpen(s,ba,t);}.bind(this));}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatEmployeeAwaySheet:c('Bootloader').loadModules(["ChatEmployeeAwaySheet.react"],function(v){var w=c('React').createElement(v,null);this._clearAndOpen(s,w,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatUserIsPersonalUserSheet:c('Bootloader').loadModules(["ChatUserIsPersonalUserSheet.react"],function(v){var w=function(){this.close(s);}.bind(this);u=u||{};var x=c('React').createElement(v,{myself:u.myself,participant:u.participant,threadID:this._threadID,onDismiss:w});this._clearAndOpen(s,x,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatUserIsWorkUserSheet:c('Bootloader').loadModules(["ChatUserIsWorkUserSheet.react"],function(v){var w=function(){this.close(s);}.bind(this);u=u||{};var x=c('React').createElement(v,{myself:u.myself,participant:u.participant,threadID:this._threadID,onDismiss:w});this._clearAndOpen(s,x,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatPageResponsivenessIndicator:c('Bootloader').loadModules(["ChatPageResponsivenessIndicator.react"],function(v){var w=c('React').createElement(v,u);this._clearAndOpen(s,w,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatEventReminderTabSheet:c('Bootloader').loadModules(["ChatEventReminderContainer.react","EventReminderActions","EventReminderStateStore","EventsActionsLogger"],function(v,w,x,y){var z=void 0,aa=m.getThreadMetaNow(this._threadID),ba={threadID:'',flyoutNoSheet:false,isEditing:true,useContextualDialog:true};if(aa.lightweight_event){var ca=aa.thread_id;ba.threadID=ca;z=x.getEvent(ca);if(z&&!z.eventDate)w.updateEventReminder(ca,aa.lightweight_event);}if(!z)this.close(s);var da={action_history:[{surface:y.Surface.MESSENGER_CHAT_TAB,mechanism:y.Mechanism.REMINDER_BANNER}]},ea=c('React').createElement(v,babelHelpers['extends']({},ba,{actionContext:da}));this._clearAndOpen(s,ea,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatAppointmentBanner:c('Bootloader').loadModules(["ChatAppointmentBannerRoot.react"],function(v){var w=c('React').createElement(v,u);this._clearAndOpen(s,w,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatJoinCallSheet:c('Bootloader').loadModules(["ChatJoinCallSheet.react"],function(v){var w=c('React').createElement(v,u);this._clearAndOpen(s,w,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatRoomAssociatedObjectSheet:c('Bootloader').loadModules(["ChatRoomAssociatedObjectSheet.react"],function(v){var w=c('React').createElement(v,babelHelpers['extends']({className:"_1vxb"},u));this._clearAndOpen(s,w,t);}.bind(this),'MercurySheetView');break;}},isNewMessagesSheetOpened:function r(){return this._openSheet===c('MercurySheetPolicy').sheets.ChatNewMessagesTabSheet;},isMontageSheetOpen:function r(){return this._openSheet===c('MercurySheetPolicy').sheets.ChatMontageSheet;},resetTimeout:function r(s){clearTimeout(this._sheetCloseHandler);this._sheetCloseHandler=c('setTimeoutAcrossTransitions')(function(){this.close(s);}.bind(this),n);},set:function r(s){return this._openNewSheet(s,false);},open:function r(s,t){return this._openNewSheet(s,true,t);},close:function r(s,t){if(this._openSheet!==s)return;if(!this._openSheet){t&&t();return;}if(this._animation)this._animation.stop();if(this._sheetCloseHandler){clearTimeout(this._sheetCloseHandler);this._sheetCloseHandler=null;}c('CSS').addClass(this._tabMainElement,'sheetSlide');c('CSS').addClass(this._tabMainElement,"_1sk4");var u=c('Vector').getElementDimensions(this._rootElement).y;this.resize();this._animation=new (c('Animation'))(this._rootElement).to('bottom',u+'px').duration(100).ease(c('Animation').ease.begin).ondone(function(){if(typeof this._openSheet==='string'){c('ReactDOM').unmountComponentAtNode(this._rootElement);}else c('DOM').empty(this._rootElement);c('CSS').hide(this._rootElement);c('CSS').removeClass(this._tabMainElement,'sheetSlide');c('CSS').removeClass(this._tabMainElement,"_1sk4");this._openSheet=null;this.resize();t&&t();}.bind(this)).go();},clear:function r(s){this.close(this._openSheet,s);},resize:function r(){this.inform('resize');}});f.exports=q;}),null);