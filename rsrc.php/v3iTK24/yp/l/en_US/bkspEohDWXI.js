if (self.CavalryLogger) { CavalryLogger.start_js(["HfZZI"]); }

__d("VideoChannelLoggerEvents",[],(function a(b,c,d,e,f,g){f.exports={SESSION_START:"session_start",SESSION_PAUSE:"session_pause",SESSION_RESUME:"session_resume",SESSION_END:"session_end",IMPRESSION:"impression",VPV:"vpv",CLICK:"click",WATCH_SUMMARY:"watch_summary",FOLLOW:"follow",UNFOLLOW:"unfollow",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",PIN_TOPIC:"pin_topic",UNPIN_TOPIC:"unpin_topic",MARK_VISIT:"mark_visit",AUTO_ADVANCE:"auto_advance",STORY_FETCH_RESULTS:"story_fetch_results",FETCH_FIRST_STORY:"fetch_first_story_success",FETCH_STORIES_FROM_ENTQUERY:"fetch_stories_from_entquery",FETCH_STORIES_FORWARD:"fetch_stories_forward",FETCH_STORIES_BACKWARD:"fetch_stories_backward",FETCH_CHANNEL_PIVOTS:"fetch_channel_pivots_success",APPEND_CHANNEL_PIVOTS:"append_channel_pivots",FETCH_FIRST_STORY_SUCCESS:"fetch_first_story_success",FETCH_FIRST_STORY_ERROR:"fetch_first_story_error",FETCH_STORIES_FROM_ENTQUERY_SUCCESS:"fetch_stories_from_entquery_success",FETCH_STORIES_FROM_ENTQUERY_ERROR:"fetch_stories_from_entquery_error",FETCH_STORIES_FORWARD_SUCCESS:"fetch_stories_forward_success",FETCH_STORIES_FORWARD_ERROR:"fetch_stories_forward_error",FETCH_STORIES_BACKWARD_SUCCESS:"fetch_stories_backward_success",FETCH_STORIES_BACKWARD_ERROR:"fetch_stories_backward_error"};}),null);
__d("VideoChannelLoggerFields",[],(function a(b,c,d,e,f,g){f.exports={DEPTH_LEVEL:"depth_level",EVENT_TARGET:"event_target",EVENT_TARGET_INFO:"event_target_info",ENTRY_POINT:"entry_point",ENTRY_POINT_TYPE:"entry_point_type",ENTRY_POINT_VALUE:"entry_point_value",EXIT_POINT_TYPE:"exit_point_type",EXIT_POINT_VALUE:"exit_point_value",FOLLOW_SURFACE:"follow_surface",EVENT:"event",HAS_STORY_FETCH_CURSOR:"has_story_fetch_cursor",IS_AD:"is_ad",IS_EMPLOYEE:"is_employee",IS_TEST_USER:"is_test_user",PERF_TIME_MS:"perf_time_ms",REQUEST_STATUS:"request_status",HAS_NEXT_PAGE:"has_next_page",POSITION_IN_CHANNEL:"position_in_channel",SESSION_ID:"session_id",SUBSCRIPTION_SURFACE:"subscription_surface",STORY_ID:"story_id",STORY_FETCH_COUNT:"story_fetch_count",STORY_FETCH_CURSOR:"story_fetch_cursor",STORY_FETCH_LIMIT:"story_fetch_limit",TIME_SINCE_START:"time_since_start",TRACKING_DATA:"tracking_data",VIDEO_ID:"video",VIDEO_ID_OVERRIDE:"video_id_override",VIDEO_CHAINING_CALLER:"video_chaining_caller",VIDEO_CHANNEL_ID:"video_channel_id",VIDEO_CHANNEL_TYPE:"video_channel_type",VIDEO_CHANNEL_TITLE:"video_channel_title",VIDEO_HOME_SESSION_ID:"video_home_session_id",WATCH_TIME_S:"watch_time_s"};}),null);
__d("VideoChannelRequestStatus",[],(function a(b,c,d,e,f,g){f.exports={SUCCEEDED:"succeeded",FAILED:"failed",ABORTED:"aborted"};}),null);
__d("VideoStereoFormat",[],(function a(b,c,d,e,f,g){f.exports={MONO:"mono",LEFT_RIGHT:"left-right",TOP_BOTTOM:"top-bottom"};}),null);
__d("VideoWebDriverIDs",[],(function a(b,c,d,e,f,g){f.exports={FEED_VIDEO:"feed_video",FULLSCREEN_CONTROL:"fullscreen_control",MUTE_UNMUTE_CONTROL:"mute_unmute_control",PLAY_PAUSE_CONTROL:"play_pause_control",WNS_CONTROL:"wns_control"};}),null);
__d("VideoChannel",[],(function a(b,c,d,e,f,g){var h=null,i={get:function j(){return h;},set:function j(k){h=k;}};f.exports=i;}),null);
__d('VideoChannelLogger',['Arbiter','Banzai','BanzaiLogger','Run','VideoChannelLoggerEvents','VideoChannelLoggerFields','VideoChannelViewChainLengthManager','VideoChannelViewVariables'],(function a(b,c,d,e,f,g){var h=c('VideoChannelViewVariables').channelPivots,i=0,j=null,k=null,l=null,m=0,n=null,o={startSession:function p(q,r,s){j=r;l=s;k=q;c('Arbiter').inform('LogEnterChannel',r);c('VideoChannelViewChainLengthManager').registerVideoID(q,q);var t={};t[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').SESSION_START;o.log(t);i=Date.now();c('Run').onLeave(o.endSession);c('Banzai').subscribe(c('Banzai').SHUTDOWN,o.endSession);},endSession:function p(){if(j){c('Arbiter').inform('LogExitChannel',j);var q={};q[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').SESSION_END;o.log(q);j=null;k=null;l=null;n=null;i=0;}},setOffset:function p(q){m=q;},setPosition:function p(q){n=q;},setChannel:function p(q){j=q;},getPlayerLoggingData:function p(){if(!j)return {};return {video_channel_id:j,position_in_channel:n+m};},log:function p(q){var r=c('VideoChannelViewChainLengthManager').getLoggingData(k);q[c('VideoChannelLoggerFields').SESSION_ID]=r.video_chaining_session_id;if(!h)q[c('VideoChannelLoggerFields').VIDEO_CHANNEL_ID]=j;q[c('VideoChannelLoggerFields').VIDEO_CHAINING_CALLER]=l;if(!(c('VideoChannelLoggerFields').POSITION_IN_CHANNEL in q))q[c('VideoChannelLoggerFields').POSITION_IN_CHANNEL]=n+m;if(i){var s=Date.now()-i;q[c('VideoChannelLoggerFields').TIME_SINCE_START]=s+.001;}c('BanzaiLogger').log('VideoChannelLoggerConfig',q);}};f.exports=o;}),null);
__d('VideoChannelProgressCircle.react',['cx','React','ReactDOM','Style'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$VideoChannelProgressCircle1=0,this.$VideoChannelProgressCircle2=0,n;}l.prototype.componentDidMount=function(){'use strict';this.drawProgressCircle(this.props);};l.prototype.componentWillUnmount=function(){'use strict';clearInterval(this.$VideoChannelProgressCircle1);};l.prototype.componentWillReceiveProps=function(m){'use strict';if(m.makeProgress!==this.props.makeProgress||m.timeoutSec!==this.props.timeoutSec)this.drawProgressCircle(m);};l.prototype.drawProgressCircle=function(m){'use strict';var n=c('ReactDOM').findDOMNode(this.refs.progressCircle),o=this.$VideoChannelProgressCircle2,p=o/100;c('Style').set(n,'stroke-dashoffset',o+'px');clearInterval(this.$VideoChannelProgressCircle1);if(m.makeProgress)this.$VideoChannelProgressCircle1=setInterval(function(){o-=p;c('Style').set(n,'stroke-dashoffset',o+'px');if(o<=0){clearInterval(this.$VideoChannelProgressCircle1);c('Style').set(n,'stroke-dashoffset','0px');m.onProgressDone&&m.onProgressDone();}}.bind(this),m.timeoutSec*10);};l.prototype.render=function(){'use strict';var m=this.props.watchAndScroll?34:80,n=this.props.watchAndScroll?2:4,o=m/2,p=o-n/2;this.$VideoChannelProgressCircle2=p*2*Math.PI;return (c('React').createElement('div',null,c('React').createElement('svg',{className:"_20_8"},c('React').createElement('circle',{cx:o,cy:o,r:p,stroke:'#ffffff',strokeWidth:n,strokeDasharray:this.$VideoChannelProgressCircle2,fill:'transparent'}),c('React').createElement('circle',{ref:'progressCircle',cx:o,cy:o,r:p,stroke:'#5890ff',strokeWidth:n,strokeDasharray:this.$VideoChannelProgressCircle2,fill:'transparent'})),this.props.children));};l.propTypes={children:k.element,makeProgress:k.bool.isRequired,onProgressDone:k.func,timeoutSec:k.number.isRequired,watchAndScroll:k.bool};f.exports=l;}),null);
__d('VideoChannelReplayImage.react',['cx','Image.react','React'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';return (c('React').createElement(c('Image.react'),{className:"_4nxy"+(this.props.size==='small'?' '+"_4nxz":''),src:'/images/video/channel_view/replay.svg'}));};function k(){'use strict';i.apply(this,arguments);}k.defaultProps={size:'normal'};f.exports=k;}),null);
__d("XVideoChannelViewAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/channel\/view\/async\/{id}\/",{id:{type:"String",required:true},original_video_id:{type:"String",required:true},cursor:{type:"String"},story_count:{type:"Int",defaultValue:3},caller:{type:"Enum",defaultValue:"channel_view_from_unknown",enumType:1}});}),null);
__d("XVideoChannelViewStoryAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/channel\/view\/story\/async\/{root_video_id}\/",{root_video_id:{type:"String",required:true},video_ids:{type:"StringVector",defaultValue:[]},use_video_placeholder:{type:"Bool",defaultValue:false},setup_interactions:{type:"Bool",defaultValue:false},is_first_story:{type:"Bool",defaultValue:false},feed_tracking_data:{type:"StringVector",defaultValue:[]},caller:{type:"Enum",defaultValue:"channel_view_from_unknown",enumType:1},channel_id:{type:"String"},ad_impression_token:{type:"String"},fetch_channel_pivots:{type:"Bool",defaultValue:false}});}),null);
__d('VideoChannelStoryFetcher',['AsyncRequest','HTML','VideoChainingCaller','VideoChannelLogger','VideoChannelLoggerEvents','VideoChannelLoggerFields','VideoChannelRequestStatus','VideoChannelViewVariables','XVideoChannelViewAsyncController','XVideoChannelViewStoryAsyncController'],(function a(b,c,d,e,f,g){var h=c('VideoChannelViewVariables').channelPivots;function i(j,k,l,m,n,o,p){'use strict';this.$VideoChannelStoryFetcher7=j;this.$VideoChannelStoryFetcher8=k;this.$VideoChannelStoryFetcher4=l;this.$VideoChannelStoryFetcher10=0;this.$VideoChannelStoryFetcher2=null;this.$VideoChannelStoryFetcher3=true;this.$VideoChannelStoryFetcher5=[];this.$VideoChannelStoryFetcher6=[];this.$VideoChannelStoryFetcher9={};if(n){this.$VideoChannelStoryFetcher5=n.videoIDs;this.$VideoChannelStoryFetcher6=n.feedTrackingData;this.$VideoChannelStoryFetcher2=n.cursorInfo.cursor;this.$VideoChannelStoryFetcher3=n.cursorInfo.hasNextPage;var q=this.$VideoChannelStoryFetcher5.indexOf(this.$VideoChannelStoryFetcher7);c('VideoChannelLogger').setOffset(q);this.$VideoChannelStoryFetcher9.start=q;this.$VideoChannelStoryFetcher9.end=q+1;}if(o){this.$VideoChannelStoryFetcher5=o;this.$VideoChannelStoryFetcher3=!!p;var r=this.$VideoChannelStoryFetcher5.indexOf(this.$VideoChannelStoryFetcher7);c('VideoChannelLogger').setOffset(r);this.$VideoChannelStoryFetcher9.start=r;this.$VideoChannelStoryFetcher9.end=r+1;}c('VideoChannelLogger').setPosition(0);this.$VideoChannelStoryFetcher11=m;this.$VideoChannelStoryFetcher12=[];this.$VideoChannelStoryFetcher13=[];}i.prototype.reset=function(j,k){'use strict';this.$VideoChannelStoryFetcher7=j;this.$VideoChannelStoryFetcher8=k;this.$VideoChannelStoryFetcher10=0;this.$VideoChannelStoryFetcher2=null;this.$VideoChannelStoryFetcher3=true;this.$VideoChannelStoryFetcher5=[];this.$VideoChannelStoryFetcher6=[];this.$VideoChannelStoryFetcher9={};this.$VideoChannelStoryFetcher12=[];this.$VideoChannelStoryFetcher13=[];};i.prototype.abandonRequest=function(){'use strict';this.$VideoChannelStoryFetcher1&&this.$VideoChannelStoryFetcher1.abandon();};i.prototype.hasNext=function(){'use strict';var j=this.$VideoChannelStoryFetcher5.length-this.$VideoChannelStoryFetcher9.end>0;return this.$VideoChannelStoryFetcher3||j;};i.prototype.$VideoChannelStoryFetcher14=function(event,j,k){'use strict';var l={};l[c('VideoChannelLoggerFields').EVENT]=event;l[c('VideoChannelLoggerFields').REQUEST_STATUS]=j;l[c('VideoChannelLoggerFields').PERF_TIME_MS]=Date.now()-k;if(h)l[c('VideoChannelLoggerFields').VIDEO_CHANNEL_ID]=this.$VideoChannelStoryFetcher8;c('VideoChannelLogger').log(l);};i.prototype.fetchFirstStory=function(j,k,l){'use strict';if(k===null)if(this.$VideoChannelStoryFetcher5.length!==0){var m=this.$VideoChannelStoryFetcher5.indexOf(this.$VideoChannelStoryFetcher7);k=this.$VideoChannelStoryFetcher6[m];}var n=c('XVideoChannelViewStoryAsyncController').getURIBuilder().setEnum('caller',this.$VideoChannelStoryFetcher4).setStringVector('video_ids',[this.$VideoChannelStoryFetcher7]).setString('root_video_id',this.$VideoChannelStoryFetcher7).setBool('is_first_story',true).setBool('use_video_placeholder',j).setBool('setup_interactions',l).setString('channel_id',this.$VideoChannelStoryFetcher8).setString('ad_impression_token',this.$VideoChannelStoryFetcher11);if(k)n.setStringVector('feed_tracking_data',[JSON.stringify(k)]);var o=Date.now(),p=new (c('AsyncRequest'))(n.getURI()).setAllowCrossPageTransition(true).setHandler(function(){var q,r=this;this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_FIRST_STORY,c('VideoChannelRequestStatus').SUCCEEDED,o);this.$VideoChannelStoryFetcher15();if(h)(function(){var s=Date.now(),t=c('XVideoChannelViewStoryAsyncController').getURIBuilder().setEnum('caller',r.$VideoChannelStoryFetcher4).setStringVector('video_ids',[r.$VideoChannelStoryFetcher7]).setString('root_video_id',r.$VideoChannelStoryFetcher7).setString('channel_id',r.$VideoChannelStoryFetcher8).setBool('fetch_channel_pivots',true);if(k)t.setStringVector('feed_tracking_data',[JSON.stringify(k)]);var u=new (c('AsyncRequest'))(t.getURI()).setAllowCrossPageTransition(true).setHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_CHANNEL_PIVOTS,c('VideoChannelRequestStatus').SUCCEEDED,s);this.$VideoChannelStoryFetcher15();}.bind(r)).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_CHANNEL_PIVOTS,c('VideoChannelRequestStatus').FAILED,s);this.$VideoChannelStoryFetcher15();}.bind(r)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_CHANNEL_PIVOTS,c('VideoChannelRequestStatus').ABORTED,s);this.$VideoChannelStoryFetcher15();}.bind(r));r.$VideoChannelStoryFetcher1=u;r.$VideoChannelStoryFetcher10=Date.now();u.send();})();}.bind(this)).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_FIRST_STORY,c('VideoChannelRequestStatus').FAILED,o);this.$VideoChannelStoryFetcher15();}.bind(this)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_FIRST_STORY,c('VideoChannelRequestStatus').ABORTED,o);this.$VideoChannelStoryFetcher15();}.bind(this));this.$VideoChannelStoryFetcher1=p;this.$VideoChannelStoryFetcher10=Date.now();p.send();};i.prototype.getPreloadedData=function(){'use strict';return {stories:this.$VideoChannelStoryFetcher12,thumbnails:this.$VideoChannelStoryFetcher13};};i.prototype.$VideoChannelStoryFetcher16=function(j,k){'use strict';if(!this.$VideoChannelStoryFetcher8)return;var l=c('XVideoChannelViewAsyncController').getURIBuilder().setString('id',this.$VideoChannelStoryFetcher8).setEnum('caller',this.$VideoChannelStoryFetcher4).setString('original_video_id',this.$VideoChannelStoryFetcher7).setInt('story_count',j);if(this.$VideoChannelStoryFetcher2)l.setString('cursor',this.$VideoChannelStoryFetcher2.toString());var m=Date.now(),n=l.getURI(),o=new (c('AsyncRequest'))(n).setAllowCrossPageTransition(true).setHandler(function(p){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FROM_ENTQUERY,c('VideoChannelRequestStatus').SUCCEEDED,m);this.$VideoChannelStoryFetcher2=p.getPayload().cursor;this.$VideoChannelStoryFetcher3=p.getPayload().hasNextPage;this.$VideoChannelStoryFetcher15();this.$VideoChannelStoryFetcher17(p,function(q,r){this.$VideoChannelStoryFetcher12=[].concat(this.$VideoChannelStoryFetcher12,q);this.$VideoChannelStoryFetcher13=[].concat(this.$VideoChannelStoryFetcher13,r);return k(q,r);}.bind(this));}.bind(this)).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FROM_ENTQUERY,c('VideoChannelRequestStatus').FAILED,m);this.$VideoChannelStoryFetcher15();}.bind(this)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FROM_ENTQUERY,c('VideoChannelRequestStatus').ABORTED,m);this.$VideoChannelStoryFetcher15();}.bind(this));this.$VideoChannelStoryFetcher1=o;o.send();};i.prototype.$VideoChannelStoryFetcher18=function(j,k,l){var m,n=this;'use strict';var o=this.$VideoChannelStoryFetcher9.end,p=this.$VideoChannelStoryFetcher5.length-o,q=o+Math.min(p,j);if(p>0){(function(){var r=n.$VideoChannelStoryFetcher5.slice(o,q),s=n.$VideoChannelStoryFetcher6.slice(o,q).map(function(v){return JSON.stringify(v);}),t=c('XVideoChannelViewStoryAsyncController').getURIBuilder().setEnum('caller',n.$VideoChannelStoryFetcher4).setString('channel_id',n.$VideoChannelStoryFetcher8).setString('root_video_id',n.$VideoChannelStoryFetcher7).setStringVector('video_ids',r).setStringVector('feed_tracking_data',s),u=Date.now();n.$VideoChannelStoryFetcher1=new (c('AsyncRequest'))(t.getURI()).setAllowCrossPageTransition(true).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FORWARD,c('VideoChannelRequestStatus').FAILED,u);this.$VideoChannelStoryFetcher15();}.bind(n)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FORWARD,c('VideoChannelRequestStatus').ABORTED,u);this.$VideoChannelStoryFetcher15();}.bind(n)).setHandler(function(v){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FORWARD,c('VideoChannelRequestStatus').SUCCEEDED,u);this.$VideoChannelStoryFetcher9.end=q;this.$VideoChannelStoryFetcher15();this.$VideoChannelStoryFetcher17(v,function(w,x){this.$VideoChannelStoryFetcher12=[].concat(this.$VideoChannelStoryFetcher12,w);this.$VideoChannelStoryFetcher13=[].concat(this.$VideoChannelStoryFetcher13,x);return k(w,x);}.bind(this));}.bind(n));n.$VideoChannelStoryFetcher1.send();if(l)l(p);})();}else if(this.$VideoChannelStoryFetcher3){this.$VideoChannelStoryFetcher16(j,k);if(l)l(j);}};i.prototype.$VideoChannelStoryFetcher19=function(j,k,l){var m,n=this;'use strict';var o=this.$VideoChannelStoryFetcher9.start;if(o>0)(function(){var p=Math.max(o-j,0),q=n.$VideoChannelStoryFetcher5.slice(p,o),r=n.$VideoChannelStoryFetcher6.slice(p,o).map(function(u){return JSON.stringify(u);}),s=c('XVideoChannelViewStoryAsyncController').getURIBuilder().setEnum('caller',n.$VideoChannelStoryFetcher4).setString('channel_id',n.$VideoChannelStoryFetcher8).setString('root_video_id',n.$VideoChannelStoryFetcher7).setStringVector('video_ids',q).setStringVector('feed_tracking_data',r),t=Date.now();n.$VideoChannelStoryFetcher1=new (c('AsyncRequest'))(s.getURI()).setAllowCrossPageTransition(true).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_BACKWARD,c('VideoChannelRequestStatus').FAILED,t);this.$VideoChannelStoryFetcher15();}.bind(n)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_BACKWARD,c('VideoChannelRequestStatus').ABORTED,t);this.$VideoChannelStoryFetcher15();}.bind(n)).setHandler(function(u){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_BACKWARD,c('VideoChannelRequestStatus').SUCCEEDED,t);this.$VideoChannelStoryFetcher9.start=p;this.$VideoChannelStoryFetcher15();this.$VideoChannelStoryFetcher17(u,k);}.bind(n));n.$VideoChannelStoryFetcher1.send();if(l)l(o-p);})();};i.prototype.fetchStories=function(j,k,l){'use strict';var m=c('VideoChannelViewVariables').defaultStoriesToLoad;if(this.$VideoChannelStoryFetcher1)return;if(j){this.$VideoChannelStoryFetcher18(m,k,l);}else this.$VideoChannelStoryFetcher19(m,k,l);};i.prototype.$VideoChannelStoryFetcher17=function(j,k){'use strict';var l=j.getPayload(),m=c('HTML').replaceJSONWrapper(l.stories).getNodes(),n=l.thumbnails.map(function(o){return c('HTML').replaceJSONWrapper(o).getRootNode();});k(m,n);};i.prototype.$VideoChannelStoryFetcher15=function(){'use strict';this.$VideoChannelStoryFetcher1=null;};f.exports=i;}),null);
__d('AbstractVideoFullscreenControl.react',['AbstractButton.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={awaitingUpdate:false},this.isFullscreen=function(){if(this.state.awaitingUpdate)return this.state.isFullscreenOverride;return !!this.props.isFullscreen;}.bind(this),this.onButtonClick=function(){this.props.onToggleFullscreen&&this.props.onToggleFullscreen();}.bind(this),m;}k.prototype.render=function(){return (c('React').createElement(c('AbstractButton.react'),babelHelpers['extends']({},this.props,{className:this.props.className,disabled:this.props.disabled,image:this.props.image,onClick:this.onButtonClick})));};k.propTypes={disabled:j.bool,image:j.element,isFullscreen:j.bool,onToggleFullscreen:j.func};f.exports=k;}),null);
__d('EmbeddedVideoFullscreenControl.react',['ix','cx','fbt','AbstractVideoFullscreenControl.react','Image.react','React','ReactDOM','VideoWebDriverIDs','VideoPlayerExperiments','fbglyph','shallowCompare'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.shouldComponentUpdate=function(o,p){return c('shallowCompare')(this,o,p);};n.prototype.onMouseOut=function(o){c('ReactDOM').findDOMNode(this.refs.button).blur();};n.prototype.render=function(){var o=void 0;if(!c('VideoPlayerExperiments').fourArrowFullScreen){o=this.props.isFullscreen?h("115501"):h("115510");}else o=this.props.isFullscreen?h("115504"):h("115507");var p=c('React').createElement(c('Image.react'),{className:"_5i0o",src:o}),q=this.props.isFullscreen?j._("Exit Fullscreen"):j._("Enter Fullscreen");return (c('React').createElement(c('AbstractVideoFullscreenControl.react'),babelHelpers['extends']({},this.props,{className:"_3u33",'data-testid':c('VideoWebDriverIDs').FULLSCREEN_CONTROL,disabled:this.props.disabled,image:p,onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:this.props.tabIndex,type:'button',label:q,labelIsHidden:true})));};function n(){k.apply(this,arguments);}n.propTypes={isFullscreen:m.bool,onToggleFullscreen:m.func,tabIndex:m.string};f.exports=n;}),null);
__d('EmbeddedVideoPlaybackControl.react',['ix','cx','fbt','AbstractButton.react','Image.react','React','ReactDOM','VideoWebDriverIDs','fbglyph','shallowCompare'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(o){'use strict';l.constructor.call(this,o);this.state={awaitingUpdate:false,isPlayingOverwrite:false};}n.prototype.shouldComponentUpdate=function(o,p){'use strict';return c('shallowCompare')(this,o,p);};n.prototype.isPlaying=function(){'use strict';if(this.state.awaitingUpdate)return this.state.isPlayingOverwrite;return this.props.isPlaying;};n.prototype.onButtonClick=function(){'use strict';var o=this.isPlaying();this.setState({awaitingUpdate:true,isPlayingOverwrite:!o});if(o){this.props.onPause&&this.props.onPause();}else this.props.onPlay&&this.props.onPlay();};n.prototype.componentWillReceiveProps=function(){'use strict';this.setState({awaitingUpdate:false});};n.prototype.onMouseOut=function(o){'use strict';c('ReactDOM').findDOMNode(this.refs.button).blur();};n.prototype.render=function(){'use strict';var o=null;if(this.props.finishedPlaying){o=h("115482");}else o=this.isPlaying()?h("115336"):h("115398");var p=c('React').createElement(c('Image.react'),{className:"_5i0o",src:o}),q=this.isPlaying()?j._("Pause"):j._("Play");return c('React').createElement(c('AbstractButton.react'),{className:"_3u33",'data-testid':c('VideoWebDriverIDs').PLAY_PAUSE_CONTROL,image:p,label:q,labelIsHidden:true,onClick:this.onButtonClick.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:this.props.tabIndex,type:'button'});};n.propTypes={finishedPlaying:m.bool,isPlaying:m.bool,onPlay:m.func,onPause:m.func,tabIndex:m.string};f.exports=n;}),null);
__d('EmbeddedVideoPlaybackTimer.react',['cx','React','joinClasses','shallowCompare'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){'use strict';j.constructor.call(this,m);this.state={displayRemainingTime:!this.props.displayElapsedTime,displayPreferenceSet:false};}l.prototype.shouldComponentUpdate=function(m,n){'use strict';return c('shallowCompare')(this,m,n);};l.prototype.componentWillReceiveProps=function(m){'use strict';if(!this.state.displayPreferenceSet)this.setState({displayRemainingTime:!m.displayElapsedTime});};l.prototype.getClock=function(m){'use strict';var n='';if(isNaN(m)){m=0;}else if(m<0){m*=-1;n='-';}var o=Math.floor(m/3600),p=m-o*3600,q=Math.floor(p/60),r=void 0;if(this.props.displayMilliseconds){r=Math.floor(p-q*60);}else{r=Math.ceil(p-q*60);if(r===60){r=0;q++;}}var s=Math.round(p*1000),t=('0'+q).slice(-2),u=('0'+r).slice(-2),v=('00'+s).slice(-3),w=n;if(o===0){w+=q+':'+u;}else w+=o+':'+t+':'+u;if(this.props.displayMilliseconds)w+='.'+v;return w;};l.prototype.onButtonClick=function(){'use strict';this.setState({displayRemainingTime:!this.state.displayRemainingTime,displayPreferenceSet:true});};l.prototype.render=function(){'use strict';var m=this.state.displayPreferenceSet?this.state.displayRemainingTime:!this.props.displayElapsedTime,n=m?this.props.remainingTimestamp:this.props.playbackPosTimestamp,o="_4irg";if(this.props.isInScrubberPreview)o="_5lde";return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,o),onClick:this.onButtonClick.bind(this)}),this.getClock(n)));};l.propTypes={isInScrubberPreview:k.bool,playbackPosTimestamp:k.number,remainingTimestamp:k.number,displayElapsedTime:k.bool,displayMilliseconds:k.bool};l.defaultProps={isInScrubberPreview:false,playbackPosTimestamp:0,remainingTimestamp:0,displayElapsedTime:false,displayMilliseconds:false};f.exports=l;}),null);
__d('EmbeddedVideoScrubberPointOfInterestBar.react',['cx','EmbeddedVideoPlaybackTimer.react','React'],(function a(b,c,d,e,f,g,h){var i,j,k,l,m=c('React').PropTypes;i=babelHelpers.inherits(n,c('React').PureComponent);j=i&&i.prototype;function n(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.state={visibility:'hidden'},q;}n.prototype.render=function(){'use strict';var p=this.props.timestamp,q=p*100/this.props.playbackDuration+'%',r=c('React').createElement(c('EmbeddedVideoPlaybackTimer.react'),{className:"_2f0g",isInScrubberPreview:true,playbackPosTimestamp:0,remainingTimestamp:p,style:{left:q,visibility:this.state.visibility}});return (c('React').createElement('div',null,c('React').createElement('div',{className:"_2f0h"+(this.props.isActive?' '+"_3t5h":''),onClick:function(s){return this.props.onPointOfInterestSelect(p);}.bind(this),onMouseEnter:function(s){return this.setState({visibility:'visible'});}.bind(this),onMouseLeave:function(s){return this.setState({visibility:'hidden'});}.bind(this),role:'button',style:{left:q},tabIndex:'0'}),r));};n.propTypes={playbackDuration:m.number.isRequired,timestamp:m.number.isRequired,isActive:m.bool.isRequired,onPointOfInterestSelect:m.func.isRequired};k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$EmbeddedVideoScrubberPointOfInterestBar1=function(u){return (c('React').createElement(n,{key:'poi'+u,playbackDuration:this.props.playbackDuration,timestamp:u,isActive:u===this.props.currentPointOfInterest,onPointOfInterestSelect:this.props.onPointOfInterestSelect}));}.bind(this),q;}o.prototype.shouldComponentUpdate=function(p,q){'use strict';return p.tabIndex!=this.props.tabIndex||p.currentPointOfInterest!==this.props.currentPointOfInterest||p.playbackDuration!=this.props.playbackDuration||p.pointsOfInterest.length!=this.props.pointsOfInterest.length||p.pointsOfInterest.some(function(r,s){return this.props.pointsOfInterest[s]!=r;}.bind(this));};o.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:"_2f0i",tabIndex:this.props.tabIndex},c('React').createElement('div',{className:"_2f0j"},this.props.pointsOfInterest.map(this.$EmbeddedVideoScrubberPointOfInterestBar1,this))));};o.propTypes={tabIndex:m.string.isRequired,playbackDuration:m.number.isRequired,onPointOfInterestSelect:m.func.isRequired,currentPointOfInterest:m.number,pointsOfInterest:m.array.isRequired};f.exports=o;}),null);
__d('Sprite.art',['getStyleProperty'],(function a(b,c,d,e,f,g){'use strict';var h={},i=null,j=/url\((['"])?([^\1]*)\1\)/;function k(n){var o=n.match(j);return o?o[2]:null;}function l(n){return parseFloat(n)||null;}function m(n){var o=n?n.split(' '):[];if(o.length!=2)return [null,null];return [l(o[0]),l(o[1])];}f.exports={get:function n(o){if(o in h)return h[o];if(!i)i=document.createElement('i');i.className=o;document.body.appendChild(i);var p=c('getStyleProperty')(i,'backgroundImage'),q=c('getStyleProperty')(i,'backgroundSize'),r=c('getStyleProperty')(i,'backgroundPosition'),s=c('getStyleProperty')(i,'width'),t=c('getStyleProperty')(i,'height');document.body.removeChild(i);return h[o]={boxSize:[l(s),l(t)],imageSize:m(q),offset:m(r),uri:k(p)};}};}),null);
__d('art/core/class',[],(function a(b,c,d,e,f,g){f.exports=function(h){var i={};for(var j=0,k=arguments.length;j<k;j++){var l=arguments[j];if(typeof l=='function')l=l.prototype;for(var m in l)i[m]=l[m];}if(!i.initialize)i.initialize=function(){};i.constructor=function(n,o,p,q,r,s,t,u){return new i.initialize(n,o,p,q,r,s,t,u);};i.constructor.prototype=i.initialize.prototype=i;return i.constructor;};}),null);
__d('art/core/transform',['art/core/class'],(function a(b,c,d,e,f,g){function h(i,j,k,l,m,n){if(i&&typeof i=='object'){j=i.yx;l=i.yy;n=i.y;k=i.xy;m=i.x;i=i.xx;}this.xx=i==null?1:i;this.yx=j||0;this.xy=k||0;this.yy=l==null?1:l;this.x=(m==null?this.x:m)||0;this.y=(n==null?this.y:n)||0;this._transform();return this;}f.exports=c('art/core/class')({initialize:h,_transform:function i(){},xx:1,yx:0,x:0,xy:0,yy:1,y:0,transform:function i(j,k,l,m,n,o){var p=this;if(j&&typeof j=='object'){k=j.yx;m=j.yy;o=j.y;l=j.xy;n=j.x;j=j.xx;}if(!n)n=0;if(!o)o=0;return this.transformTo(p.xx*j+p.xy*k,p.yx*j+p.yy*k,p.xx*l+p.xy*m,p.yx*l+p.yy*m,p.xx*n+p.xy*o+p.x,p.yx*n+p.yy*o+p.y);},transformTo:h,translate:function i(j,k){return this.transform(1,0,0,1,j,k);},move:function i(j,k){this.x+=j||0;this.y+=k||0;this._transform();return this;},scale:function i(j,k){if(k==null)k=j;return this.transform(j,0,0,k,0,0);},rotate:function i(j,k,l){if(k==null||l==null){k=(this.left||0)+(this.width||0)/2;l=(this.top||0)+(this.height||0)/2;}var m=j*Math.PI/180,n=Math.sin(m),o=Math.cos(m);this.transform(1,0,0,1,k,l);var p=this;return this.transformTo(o*p.xx-n*p.yx,n*p.xx+o*p.yx,o*p.xy-n*p.yy,n*p.xy+o*p.yy,p.x,p.y).transform(1,0,0,1,-k,-l);},moveTo:function i(j,k){var l=this;return this.transformTo(l.xx,l.yx,l.xy,l.yy,j,k);},rotateTo:function i(j,k,l){var m=this,n=m.yx/m.xx>m.yy/m.xy?-1:1;if(m.xx<0?m.xy>=0:m.xy<0)n=-n;return this.rotate(j-Math.atan2(n*m.yx,n*m.xx)*180/Math.PI,k,l);},scaleTo:function i(j,k){var l=this,m=Math.sqrt(l.xx*l.xx+l.yx*l.yx);l.xx/=m;l.yx/=m;m=Math.sqrt(l.yy*l.yy+l.xy*l.xy);l.yy/=m;l.xy/=m;return this.scale(j,k);},resizeTo:function i(j,k){var l=this.width,m=this.height;if(!l||!m)return this;return this.scaleTo(j/l,k/m);},inversePoint:function i(j,k){var l=this.xx,m=this.yx,n=this.xy,o=this.yy,p=this.x,q=this.y,r=m*n-l*o;if(r==0)return null;return {x:(o*(p-j)+n*(k-q))/r,y:(l*(q-k)+m*(j-p))/r};},point:function i(j,k){var l=this;return {x:l.xx*j+l.xy*k+l.x,y:l.yx*j+l.yy*k+l.y};}});}),null);
__d('art/modes/current',[],(function a(b,c,d,e,f,g){function h(){throw new Error('You must require a mode before requiring anything else.');}g.Surface=h;g.Path=h;g.Shape=h;g.Group=h;g.ClippingRectangle=h;g.Text=h;g.setCurrent=function(i){for(var j in i)g[j]=i[j];};}),null);
__d('art/core/color',[],(function a(b,c,d,e,f,g){var h={maroon:'#800000',red:'#ff0000',orange:'#ffA500',yellow:'#ffff00',olive:'#808000',purple:'#800080',fuchsia:"#ff00ff",white:'#ffffff',lime:'#00ff00',green:'#008000',navy:'#000080',blue:'#0000ff',aqua:'#00ffff',teal:'#008080',black:'#000000',silver:'#c0c0c0',gray:'#808080'},i=function o(p,q){var r=[];for(var s=0,t=p.length;s<t;s++)r[s]=q(p[s],s);return r;},j=function o(p,q){if(p.isColor){this.red=p.red;this.green=p.green;this.blue=p.blue;this.alpha=p.alpha;}else{var r=h[p];if(r){p=r;q='hex';}switch(typeof p){case 'string':if(!q)q=(q=p.match(/^rgb|^hsb|^hsl/))?q[0]:'hex';break;case 'object':q=q||'rgb';p=p.toString();break;case 'number':q='hex';p=p.toString(16);break;}p=o['parse'+q.toUpperCase()](p);this.red=p[0];this.green=p[1];this.blue=p[2];this.alpha=p[3];}this.isColor=true;},k=function o(p,q,r){return Math.min(r,Math.max(q,p));},l=/([-.\d]+\%?)\s*,\s*([-.\d]+\%?)\s*,\s*([-.\d]+\%?)\s*,?\s*([-.\d]*\%?)/,m=/^#?([a-f0-9]{1,2})([a-f0-9]{1,2})([a-f0-9]{1,2})([a-f0-9]{0,2})$/i;j.parseRGB=function(o){return i(o.match(l).slice(1),function(p,q){if(p)p=parseFloat(p)*(p[p.length-1]=='%'?2.55:1);return q<3?Math.round((p%=256)<0?p+256:p):k(p===''?1:Number(p),0,1);});};j.parseHEX=function(o){if(o.length==1)o=o+o+o;return i(o.match(m).slice(1),function(p,q){if(q==3)return p?parseInt(p,16)/255:1;return parseInt(p.length==1?p+p:p,16);});};j.parseHSB=function(o){var p=i(o.match(l).slice(1),function(x,y){if(x)x=parseFloat(x);if(y===0){return Math.round((x%=360)<0?x+360:x);}else if(y<3){return k(Math.round(x),0,100);}else return k(x===''?1:Number(x),0,1);}),q=p[3],r=Math.round(p[2]/100*255);if(p[1]==0)return [r,r,r,q];var s=p[0],t=s%60,u=Math.round(p[2]*(100-p[1])/10000*255),v=Math.round(p[2]*(6000-p[1]*t)/600000*255),w=Math.round(p[2]*(6000-p[1]*(60-t))/600000*255);switch(Math.floor(s/60)){case 0:return [r,w,u,q];case 1:return [v,r,u,q];case 2:return [u,r,w,q];case 3:return [u,v,r,q];case 4:return [w,u,r,q];default:return [r,u,v,q];}};j.parseHSL=function(o){var p=i(o.match(l).slice(1),function(aa,ba){if(aa)aa=parseFloat(aa);if(ba===0){return Math.round((aa%=360)<0?aa+360:aa);}else if(ba<3){return k(Math.round(aa),0,100);}else return k(aa===''?1:Number(aa),0,1);}),q=p[0]/60,r=p[1]/100,s=p[2]/100,t=p[3],u=(1-Math.abs(2*s-1))*r,v=u*(1-Math.abs(q%2-1)),w=s-u/2,x=Math.round((u+w)*255),y=Math.round((v+w)*255),z=Math.round(w*255);switch(Math.floor(q)){case 0:return [x,y,z,t];case 1:return [y,x,z,t];case 2:return [z,x,y,t];case 3:return [z,y,x,t];case 4:return [y,z,x,t];default:return [x,z,y,t];}};var n=function o(p,q){if(q[3]!=1){p+='a';}else q.pop();return p+'('+q.join(', ')+')';};j.prototype={toHSB:function o(p){var q=this.red,r=this.green,s=this.blue,t=this.alpha,u=Math.max(q,r,s),v=Math.min(q,r,s),w=u-v,x=0,y=w!=0?w/u:0,z=u/255;if(y){var aa=(u-q)/w,ba=(u-r)/w,ca=(u-s)/w;x=q==u?ca-ba:r==u?2+aa-ca:4+ba-aa;if((x/=6)<0)x++;}var da=[Math.round(x*360),Math.round(y*100),Math.round(z*100),t];return p?da:n('hsb',da);},toHSL:function o(p){var q=this.red,r=this.green,s=this.blue,t=this.alpha,u=Math.max(q,r,s),v=Math.min(q,r,s),w=u-v,x=0,y=w!=0?w/(255-Math.abs(u+v-255)):0,z=(u+v)/512;if(y){var aa=(u-q)/w,ba=(u-r)/w,ca=(u-s)/w;x=q==u?ca-ba:r==u?2+aa-ca:4+ba-aa;if((x/=6)<0)x++;}var da=[Math.round(x*360),Math.round(y*100),Math.round(z*100),t];return p?da:n('hsl',da);},toHEX:function o(p){var q=this.alpha,r=(q=Math.round(q*255).toString(16)).length==1?q+q:q,s=i([this.red,this.green,this.blue],function(t){t=t.toString(16);return t.length==1?'0'+t:t;});return p?s.concat(r):'#'+s.join('')+(r=='ff'?'':r);},toRGB:function o(p){var q=[this.red,this.green,this.blue,this.alpha];return p?q:n('rgb',q);}};j.prototype.toString=j.prototype.toRGB;j.hex=function(o){return new j(o,'hex');};if(this.hex==null)this.hex=j.hex;j.hsb=function(o,p,q,r){return new j([o||0,p||0,q||0,r==null?1:r],'hsb');};if(this.hsb==null)this.hsb=j.hsb;j.hsl=function(o,p,q,r){return new j([o||0,p||0,q||0,r==null?1:r],'hsl');};if(this.hsl==null)this.hsl=j.hsl;j.rgb=function(o,p,q,r){return new j([o||0,p||0,q||0,r==null?1:r],'rgb');};if(this.rgb==null)this.rgb=j.rgb;j.detach=function(o){o=new j(o);return [j.rgb(o.red,o.green,o.blue).toString(),o.alpha];};f.exports=j;}),null);
__d('art/dom/dummy',['art/core/class'],(function a(b,c,d,e,f,g){f.exports=c('art/core/class')({_resetPlacement:function h(){var i=this.parentNode;if(i){var j=this.previousSibling,k=this.nextSibling;if(j){j.nextSibling=k;}else i.firstChild=k;if(k){k.previousSibling=j;}else i.lastChild=this.previousSibling;}this.previousSibling=null;this.nextSibling=null;this.parentNode=null;return this;},inject:function h(i){this._resetPlacement();var j=i.lastChild;if(j){j.nextSibling=this;this.previousSibling=j;}else i.firstChild=this;i.lastChild=this;this.parentNode=i;this._place();return this;},injectBefore:function h(i){this._resetPlacement();var j=i.parentNode;if(!j)return this;var k=i.previousSibling;if(k){k.nextSibling=this;this.previousSibling=k;}else j.firstChild=this;i.previousSibling=this;this.nextSibling=i;this.parentNode=j;this._place();return this;},eject:function h(){this._resetPlacement();this._place();return this;},_place:function h(){},dispatch:function h(event){var i=this._events,j=i&&i[event.type];if(j){j=j.slice(0);for(var k=0,l=j.length;k<l;k++){var m=j[k],n;if(typeof m=='function'){n=m.call(this,event);}else n=m.handleEvent(event);if(n===false)event.preventDefault();}}if(this.parentNode&&this.parentNode.dispatch)this.parentNode.dispatch(event);},subscribe:function h(i,j,k){if(typeof i!='string'){var l=[];for(var m in i)l.push(this.subscribe(m,i[m]));return function(){for(var q=0,r=l.length;q<r;q++)l[q]();return this;};}else{var n=typeof j==='function'?j.bind(k||this):j,o=this._events||(this._events={}),p=o[i]||(o[i]=[]);p.push(n);return function(){for(var q=0,r=p.length;q<r;q++)if(p[q]===n){p.splice(q,1);break;}};}}});}),null);
__d("art/modes/canvas/node",["art/core/class","art/core/transform","art/dom/dummy"],(function a(b,c,d,e,f,g){var h=c("art/core/class")(c("art/core/transform"),c("art/dom/dummy"),{invalidate:function i(){if(this.parentNode)this.parentNode.invalidate();if(this._layer)this._layerCache=null;return this;},_place:function i(){this.invalidate();},_transform:function i(){this.invalidate();},blend:function i(j){if(j>=1&&this._layer)this._layer=null;this._opacity=j;if(this.parentNode)this.parentNode.invalidate();return this;},hide:function i(){this._invisible=true;if(this.parentNode)this.parentNode.invalidate();return this;},show:function i(){this._invisible=false;if(this.parentNode)this.parentNode.invalidate();return this;},indicate:function i(j,k){this._cursor=j;this._tooltip=k;return this.invalidate();},hitTest:function i(j,k){if(this._invisible)return null;var l=this.inversePoint(j,k);if(!l)return null;return this.localHitTest(l.x,l.y);},renderTo:function i(j,k,l,m,n,o,p){var q=this._opacity;if(q==null||q>=1)return this.renderLayerTo(j,k,l,m,n,o,p);var r=this._layer,s,t=true,u=j.canvas.width,v=j.canvas.height;if(r){r.setTransform(1,0,0,1,0,0);s=r.canvas;if(s.width<u||s.height<v){s.width=u;s.height=v;}else{var w=this._layerCache;if(w&&w.xx===k&&w.yx===l&&w.xy===m&&w.yy===n&&w.x===o&&w.y===p){t=false;}else r.clearRect(0,0,u,v);}}else{s=document.createElement('canvas');s.width=u;s.height=v;this._layer=r=s.getContext('2d');}if(t){this.renderLayerTo(r,k,l,m,n,o,p);this._layerCache={xx:k,yx:l,xy:m,yy:n,x:o,y:p};}j.globalAlpha=q;j.setTransform(1,0,0,1,0,0);j.drawImage(s,0,0,u,v,0,0,u,v);j.globalAlpha=1;}});f.exports=h;}),null);
__d("art/modes/canvas/base",["art/core/class","art/core/color","art/core/transform","art/modes/canvas/node"],(function a(b,c,d,e,f,g){var h=typeof document!=='undefined'&&document.createElement('canvas'),i=h&&h.getContext&&h.getContext('2d');function j(l,m,n){m=c("art/core/color").detach(m);n=c("art/core/color").detach(n);var o=document.createElement('canvas'),p=o.getContext('2d');o.width=l.width;o.height=l.height;p.fillStyle=n[0];p.fillRect(0,0,l.width,l.height);p.globalCompositeOperation='lighter';p.drawImage(l,0,0);return o;}var k=c("art/core/class")(c("art/modes/canvas/node"),{initialize:function l(){this._fill=null;this._pendingFill=null;this._fillTransform=null;this._stroke=null;this._strokeCap=null;this._strokeDash=null;this._strokeJoin=null;this._strokeWidth=null;},_addColors:function l(m,n){if('length' in n){for(var o=0,p=n.length-1;o<=p;o++)m.addColorStop(o/p,new (c("art/core/color"))(n[o]).toString());}else for(var q in n)m.addColorStop(q,new (c("art/core/color"))(n[q]).toString());return m;},fill:function l(m){if(arguments.length>1)return this.fillLinear(arguments);if(this._pendingFill)this._pendingFill();this._fill=m?new (c("art/core/color"))(m).toString():null;return this.invalidate();},fillRadial:function l(m,n,o,p,q,r,s){if(n==null)n=(this.left||0)+(this.width||0)*.5;if(o==null)o=(this.top||0)+(this.height||0)*.5;if(q==null)q=p||this.height*.5||0;if(p==null)p=(this.width||0)*.5;if(r==null)r=n;if(s==null)s=o;r+=r-n;s+=s-o;if(p===0||p==='0')return this.fillLinear(m);var t=q/p;if(this._pendingFill)this._pendingFill();var u=i.createRadialGradient(n,o/t,0,r,s/t,p*2);if('length' in m){for(var v=0,w=m.length-1;v<=w;v++){u.addColorStop(v/w/2,new (c("art/core/color"))(m[v]).toString());u.addColorStop(1-v/w/2,new (c("art/core/color"))(m[v]).toString());}}else for(var x in m){u.addColorStop(x/2,new (c("art/core/color"))(m[x]).toString());u.addColorStop(1-x/2,new (c("art/core/color"))(m[x]).toString());}this._fill=u;this._fillTransform=new (c("art/core/transform"))(1,0,0,t);return this.invalidate();},fillLinear:function l(m,n,o,p,q){if(arguments.length<5){var r=(n==null?270:n)*Math.PI/180,s=Math.cos(r),t=-Math.sin(r),u=(Math.abs(s)+Math.abs(t))/2,v=this.width||1,w=this.height||1;s*=u;t*=u;n=.5-s;p=.5+s;o=.5-t;q=.5+t;this._fillTransform=new (c("art/core/transform"))(v,0,0,w);}else this._fillTransform=null;if(this._pendingFill)this._pendingFill();var x=i.createLinearGradient(n,o,p,q);this._addColors(x,m);this._fill=x;return this.invalidate();},fillImage:function l(m,n,o,p,q,r,s){if(this._pendingFill)this._pendingFill();var t=m;if(!(t instanceof Image)){t=new Image();t.src=m;}if(t.width&&t.height)return this._fillImage(t,n,o,p||0,q||0,r,s);this._fill=null;var u=this,v=function x(){w();u._fillImage(t,n,o,p||0,q||0,r,s);},w=function x(){t.removeEventListener('load',v,false);u._pendingFill=null;};this._pendingFill=w;t.addEventListener('load',v,false);return this;},_fillImage:function l(m,n,o,p,q,r,s){var t=n?n/m.width:1,u=o?o/m.height:1;if(r!=null)m=j(m,r,s);this._fill=i.createPattern(m,'repeat');this._fillTransform=new (c("art/core/transform"))(t,0,0,u,p||0,q||0);return this.invalidate();},stroke:function l(m,n,o,p,q){this._stroke=m?new (c("art/core/color"))(m).toString():null;this._strokeWidth=n!=null?n:1;this._strokeCap=o!=null?o:'round';this._strokeJoin=p!=null?p:'round';this._strokeDash=q;return this.invalidate();},element_renderTo:c("art/modes/canvas/node").prototype.renderTo,renderTo:function l(m,n,o,p,q,r,s){var t=this._opacity;if(t==null||t>=1)return this.renderLayerTo(m,n,o,p,q,r,s);if(this._fill&&this._stroke)return this.element_renderTo(m,n,o,p,q,r,s);m.globalAlpha=t;var u=this.renderLayerTo(m,n,o,p,q,r,s);m.globalAlpha=1;return u;},renderLayerTo:function l(m,n,o,p,q,r,s){m.setTransform(n,o,p,q,r,s);this.renderShapeTo(m);}});k._genericContext=i;f.exports=k;}),null);
__d("art/dom/container",["art/core/class"],(function a(b,c,d,e,f,g){f.exports=c("art/core/class")({grab:function h(){for(var i=0;i<arguments.length;i++)arguments[i].inject(this);return this;},empty:function h(){var i;while(i=this.firstChild)i.eject();return this;}});}),null);
__d("art/modes/canvas/clippingrectangle",["art/core/class","art/dom/container","art/modes/canvas/node"],(function a(b,c,d,e,f,g){f.exports=c("art/core/class")(c("art/modes/canvas/node"),c("art/dom/container"),{initialize:function h(i,j){this.width=i;this.height=j;},localHitTest:function h(i,j){var k=this.lastChild;while(k){var l=k.hitTest(i,j);if(l)return l;k=k.previousSibling;}return null;},renderLayerTo:function h(i,j,k,l,m,n,o){i.setTransform(j,k,l,m,n,o);i.save();i.beginPath();i.rect(this.x,this.y,this.width,this.height);i.clip();var p=this.firstChild;while(p){p.renderTo(i,j,k,l,m,n,o);p=p.nextSibling;}i.restore();}});}),null);
__d("art/modes/canvas/group",["art/core/class","art/dom/container","art/modes/canvas/node"],(function a(b,c,d,e,f,g){f.exports=c("art/core/class")(c("art/modes/canvas/node"),c("art/dom/container"),{initialize:function h(i,j){this.width=i;this.height=j;},localHitTest:function h(i,j){var k=this.lastChild;while(k){var l=k.hitTest(i,j);if(l)return l;k=k.previousSibling;}return null;},renderLayerTo:function h(i,j,k,l,m,n,o){if(this._invisible)return;n=j*this.x+l*this.y+n;o=k*this.x+m*this.y+o;var p=j;j=p*this.xx+l*this.yx;l=p*this.xy+l*this.yy;p=k;k=p*this.xx+m*this.yx;m=p*this.xy+m*this.yy;var q=this.firstChild;while(q){q.renderTo(i,j,k,l,m,n,o);q=q.nextSibling;}}});}),null);
__d('art/core/path',['art/core/class'],(function a(b,c,d,e,f,g){f.exports=c('art/core/class')({initialize:function h(i){this.reset().push(i);},push:function h(){var i=Array.prototype.join.call(arguments,' ').match(/[a-df-z]|[\-+]?(?:[\d\.]e[\-+]?|[^\s\-+,a-z])+/ig);if(!i)return this;var j,k=i[0],l=1;while(k){switch(k){case 'm':this.move(i[l++],i[l++]);break;case 'l':this.line(i[l++],i[l++]);break;case 'c':this.curve(i[l++],i[l++],i[l++],i[l++],i[l++],i[l++]);break;case 's':this.curve(i[l++],i[l++],null,null,i[l++],i[l++]);break;case 'q':this.curve(i[l++],i[l++],i[l++],i[l++]);break;case 't':this.curve(i[l++],i[l++]);break;case 'a':this.arc(i[l+5],i[l+6],i[l],i[l+1],i[l+3],!+i[l+4],i[l+2]);l+=7;break;case 'h':this.line(i[l++],0);break;case 'v':this.line(0,i[l++]);break;case 'M':this.moveTo(i[l++],i[l++]);break;case 'L':this.lineTo(i[l++],i[l++]);break;case 'C':this.curveTo(i[l++],i[l++],i[l++],i[l++],i[l++],i[l++]);break;case 'S':this.curveTo(i[l++],i[l++],null,null,i[l++],i[l++]);break;case 'Q':this.curveTo(i[l++],i[l++],i[l++],i[l++]);break;case 'T':this.curveTo(i[l++],i[l++]);break;case 'A':this.arcTo(i[l+5],i[l+6],i[l],i[l+1],i[l+3],!+i[l+4],i[l+2]);l+=7;break;case 'H':this.lineTo(i[l++],this.penY);break;case 'V':this.lineTo(this.penX,i[l++]);break;case 'Z':case 'z':this.close();break;default:k=j;l--;continue;}j=k;if(j=='m'){j='l';}else if(j=='M')j='L';k=i[l++];}return this;},reset:function h(){this.penX=this.penY=0;this.penDownX=this.penDownY=null;this._pivotX=this._pivotY=0;this.onReset();return this;},move:function h(i,j){this.onMove(this.penX,this.penY,this._pivotX=this.penX+=+i,this._pivotY=this.penY+=+j);return this;},moveTo:function h(i,j){this.onMove(this.penX,this.penY,this._pivotX=this.penX=+i,this._pivotY=this.penY=+j);return this;},line:function h(i,j){return this.lineTo(this.penX+ +i,this.penY+ +j);},lineTo:function h(i,j){if(this.penDownX==null){this.penDownX=this.penX;this.penDownY=this.penY;}this.onLine(this.penX,this.penY,this._pivotX=this.penX=+i,this._pivotY=this.penY=+j);return this;},curve:function h(i,j,k,l,m,n){var o=this.penX,p=this.penY;return this.curveTo(o+ +i,p+ +j,k==null?null:o+ +k,l==null?null:p+ +l,m==null?null:o+ +m,n==null?null:p+ +n);},curveTo:function h(i,j,k,l,m,n){var o=this.penX,p=this.penY;if(k==null){k=+i;l=+j;i=o*2-(this._pivotX||0);j=p*2-(this._pivotY||0);}if(m==null){this._pivotX=+i;this._pivotY=+j;m=+k;n=+l;k=(m+ +i*2)/3;l=(n+ +j*2)/3;i=(o+ +i*2)/3;j=(p+ +j*2)/3;}else{this._pivotX=+k;this._pivotY=+l;}if(this.penDownX==null){this.penDownX=o;this.penDownY=p;}this.onBezierCurve(o,p,+i,+j,+k,+l,this.penX=+m,this.penY=+n);return this;},arc:function h(i,j,k,l,m,n,o){return this.arcTo(this.penX+ +i,this.penY+ +j,k,l,m,n,o);},arcTo:function h(i,j,k,l,m,n,o){l=Math.abs(+l||+k||+j-this.penY);k=Math.abs(+k||+i-this.penX);if(!k||!l||i==this.penX&&j==this.penY)return this.lineTo(i,j);var p=this.penX,q=this.penY,r=!+n,s=!!+m,t=o?o*Math.PI/180:0,u=Math.cos(t),v=Math.sin(t);i-=p;j-=q;var w=u*i/2+v*j/2,x=-v*i/2+u*j/2,y=k*k*l*l,z=l*l*w*w,aa=k*k*x*x,ba=y-aa-z;if(ba<0){ba=Math.sqrt(1-ba/y);k*=ba;l*=ba;w=i/2;x=j/2;}else{ba=Math.sqrt(ba/(aa+z));if(s==r)ba=-ba;var ca=-ba*x*k/l,da=ba*w*l/k;w=u*ca-v*da+i/2;x=v*ca+u*da+j/2;}var ea=u/k,fa=v/k,ga=-v/l,ha=u/l,ia=Math.atan2(ga*-w+ha*-x,ea*-w+fa*-x),ja=Math.atan2(ga*(i-w)+ha*(j-x),ea*(i-w)+fa*(j-x));w+=p;x+=q;i+=p;j+=q;if(this.penDownX==null){this.penDownX=this.penX;this.penDownY=this.penY;}this.onArc(p,q,this._pivotX=this.penX=i,this._pivotY=this.penY=j,w,x,k,l,ia,ja,!r,o);return this;},counterArc:function h(i,j,k,l,m){return this.arc(i,j,k,l,m,true);},counterArcTo:function h(i,j,k,l,m){return this.arcTo(i,j,k,l,m,true);},close:function h(){if(this.penDownX!=null){this.onClose(this.penX,this.penY,this.penX=this.penDownX,this.penY=this.penDownY);this.penDownX=null;}return this;},onReset:function h(){},onMove:function h(i,j,k,l){},onLine:function h(i,j,k,l){this.onBezierCurve(i,j,i,j,k,l,k,l);},onBezierCurve:function h(i,j,k,l,m,n,o,p){var q=o-i,r=p-j,s=q*q+r*r,t,u,v,w,x;v=k-i;w=l-j;x=v*q+w*r;if(x>s){v-=q;w-=r;}else if(x>0&&s!=0){v-=x/s*q;w-=x/s*r;}t=v*v+w*w;v=m-i;w=n-j;x=v*q+w*r;if(x>s){v-=q;w-=r;}else if(x>0&&s!=0){v-=x/s*q;w-=x/s*r;}u=v*v+w*w;if(t<.01&&u<.01){this.onLine(i,j,o,p);return;}if(isNaN(t)||isNaN(u))throw new Error('Bad input');var y=(k+m)*.5,z=(l+n)*.5,aa=(k+i)*.5,ba=(l+j)*.5,ca=(aa+y)*.5,da=(ba+z)*.5,ea=(o+m)*.5,fa=(p+n)*.5,ga=(ea+y)*.5,ha=(fa+z)*.5,ia=(ca+ga)*.5,ja=(da+ha)*.5;this.onBezierCurve(i,j,aa,ba,ca,da,ia,ja);this.onBezierCurve(ia,ja,ga,ha,ea,fa,o,p);},onArc:function h(i,j,k,l,m,n,o,p,q,r,s,t){var u=t?t*Math.PI/180:0,v=Math.cos(u),w=Math.sin(u),x=v*o,y=-w*p,z=w*o,aa=v*p,ba=r-q;if(ba<0&&!s){ba+=Math.PI*2;}else if(ba>0&&s)ba-=Math.PI*2;var ca=Math.ceil(Math.abs(ba/(Math.PI/2))),da=ba/ca,ea=4/3*Math.tan(da/4),fa=Math.cos(q),ga=Math.sin(q);for(var ha=0;ha<ca;ha++){var ia=fa-ea*ga,ja=ga+ea*fa;q+=da;fa=Math.cos(q);ga=Math.sin(q);var ka=fa+ea*ga,la=ga-ea*fa;this.onBezierCurve(i,j,m+x*ia+y*ja,n+z*ia+aa*ja,m+x*ka+y*la,n+z*ka+aa*la,i=m+x*fa+y*ga,j=n+z*fa+aa*ga);}},onClose:function h(i,j,k,l){this.onLine(i,j,k,l);}});}),null);
__d("art/modes/canvas/path",["art/core/class","art/core/path"],(function a(b,c,d,e,f,g){var h=c("art/core/class")(c("art/core/path"),{initialize:function i(j){this.reset();if(j instanceof h){this.path=j.path.slice(0);}else if(j)if(j.applyToPath){j.applyToPath(this);}else this.push(j);},onReset:function i(){this.path=[];},onMove:function i(j,k,l,m){this.path.push(function(n){n.moveTo(l,m);});},onLine:function i(j,k,l,m){this.path.push(function(n){n.lineTo(l,m);});},onBezierCurve:function i(j,k,l,m,n,o,p,q){this.path.push(function(r){r.bezierCurveTo(l,m,n,o,p,q);});},_arcToBezier:c("art/core/path").prototype.onArc,onArc:function i(j,k,l,m,n,o,p,q,r,s,t,u){if(p!=q||u)return this._arcToBezier(j,k,l,m,n,o,p,q,r,s,t,u);this.path.push(function(v){v.arc(n,o,p,r,s,t);});},onClose:function i(){this.path.push(function(j){j.closePath();});},toCommands:function i(){return this.path.slice(0);}});f.exports=h;}),null);
__d("art/modes/canvas/shape",["art/core/class","art/modes/canvas/base","art/modes/canvas/path"],(function a(b,c,d,e,f,g){f.exports=c("art/core/class")(c("art/modes/canvas/base"),{base_initialize:c("art/modes/canvas/base").prototype.initialize,initialize:function h(i,j,k){this.base_initialize();this.width=j;this.height=k;if(i!=null)this.draw(i);},draw:function h(i,j,k){if(!(i instanceof c("art/modes/canvas/path")))i=new (c("art/modes/canvas/path"))(i);this.path=i;this._commands=i.toCommands();if(j!=null)this.width=j;if(k!=null)this.height=k;return this.invalidate();},localHitTest:function h(i,j){if(!this._fill)return null;if(this.width==null||this.height==null){var k=c("art/modes/canvas/base")._genericContext,l=this._commands;if(!l)return null;k.beginPath();for(var m=0,n=l.length;m<n;m++)l[m](k);return k.isPointInPath(i,j)?this:null;}if(i>0&&j>0&&i<this.width&&j<this.height)return this;return null;},renderShapeTo:function h(i){if(this._invisible||!this._commands||!this._fill&&!this._stroke)return null;i.transform(this.xx,this.yx,this.xy,this.yy,this.x,this.y);var j=this._commands,k=this._fill,l=this._stroke,m=this._strokeDash;i.beginPath();if(m){if(i.setLineDash){i.setLineDash(m);}else i.mozDash=m;}else if(i.setLineDash){i.setLineDash([]);}else i.mozDash=null;for(var n=0,o=j.length;n<o;n++)j[n](i);if(k){var p=this._fillTransform;if(p){i.save();i.transform(p.xx,p.yx,p.xy,p.yy,p.x,p.y);i.fillStyle=k;i.fill();i.restore();}else{i.fillStyle=k;i.fill();}}if(l){i.strokeStyle=l;i.lineWidth=this._strokeWidth;i.lineCap=this._strokeCap;i.lineJoin=this._strokeJoin;i.stroke();}}});}),null);
__d('art/dom/native',['art/core/class'],(function a(b,c,d,e,f,g){function h(i){if(i.toElement)return i.toElement();if(i.getDOMNode)return i.getDOMNode();if(i.getNode)return i.getNode();return i;}f.exports=c('art/core/class')({toElement:function i(){return this.element;},getDOMNode:function i(){return this.toElement();},getNode:function i(){return this.toElement();},inject:function i(j){(j.containerElement||h(j)).appendChild(this.element);return this;},injectBefore:function i(j){var k=h(j);k.parentNode.insertBefore(this.element,k);return this;},eject:function i(){var j=this.element,k=j.parentNode;if(k)k.removeChild(j);return this;},subscribe:function i(j,k,l){if(typeof j!='string'){var m=[];for(var n in j)m.push(this.subscribe(n,j[n]));return function(){for(var q=0,r=m.length;q<r;q++)m[q]();return this;};}else{if(!l)l=this;var o;if(typeof k==='function'){o=k.bind?k.bind(l):function(){return k.apply(l,arguments);};}else o=k;var p=this.element;if(p.addEventListener){p.addEventListener(j,o,false);return function(){p.removeEventListener(j,o,false);return this;};}else{p.attachEvent('on'+j,o);return function(){p.detachEvent('on'+j,o);return this;};}}}});}),null);
__d("art/modes/canvas/surface",["art/core/class","art/dom/container","art/dom/native"],(function a(b,c,d,e,f,g){var h=1000/60,i=[],j,k=function p(){clearTimeout(j);j=null;var q=i;i=[];for(var r=0,s=q.length;r<s;r++){var t=q[r];t._valid=true;t.render();}},l=typeof window!=='undefined'&&window.devicePixelRatio||1,m=null,n=null,o=c("art/core/class")(c("art/dom/native"),c("art/dom/container"),{initialize:function p(q,r,s){var t=this.element=s||document.createElement('canvas'),u=this.context=t.getContext('2d');this._valid=true;if(q!=null&&r!=null)this.resize(q,r);t.addEventListener('mousemove',this,false);t.addEventListener('mouseout',this,false);t.addEventListener('mouseover',this,false);t.addEventListener('mouseup',this,false);t.addEventListener('mousedown',this,false);t.addEventListener('click',this,false);},handleEvent:function p(event){if(event.clientX==null)return;var q=this.element,r=q.getBoundingClientRect(),s=event.clientX-r.left-q.clientLeft,t=event.clientY-r.top-q.clientTop,u=this.hitTest(s,t);if(u!==m){if(m)m.dispatch({type:'mouseout',target:m,relatedTarget:u,sourceEvent:event});if(u)u.dispatch({type:'mouseover',target:u,relatedTarget:m,sourceEvent:event});m=u;n=this;this.refreshCursor();}if(u)u.dispatch(event);},refreshCursor:function p(){if(n!==this)return;var q=m,r='',s='';while(q){if(!r&&q._cursor){r=q._cursor;if(s)break;}if(!s&&q._tooltip){s=q._tooltip;if(r)break;}q=q.parentNode;}this.element.style.cursor=r;this.element.title=s;},resize:function p(q,r){var s=this.element;s.setAttribute('width',q*l);s.setAttribute('height',r*l);s.style.width=q+'px';s.style.height=r+'px';this.width=q;this.height=r;return this;},invalidate:function p(q,r,s,t){if(this._valid){this._valid=false;i.push(this);if(!j)if(window.mozRequestAnimationFrame){j=true;window.mozRequestAnimationFrame(k);}else j=setTimeout(k,h);}return this;},hitTest:function p(q,r){if(q<0||r<0||q>this.width||r>this.height)return null;var s=this.lastChild;while(s){var t=s.hitTest(q,r);if(t)return t;s=s.previousSibling;}return null;},render:function p(){var q=this.firstChild,r=this.context;r.setTransform(l,0,0,l,0,0);r.clearRect(0,0,this.width,this.height);while(q){q.renderTo(r,l,0,0,l,0,0);q=q.nextSibling;}this.refreshCursor();}});o.tagName='canvas';f.exports=o;}),null);
__d("art/modes/canvas/text",["art/core/class","art/modes/canvas/base"],(function a(b,c,d,e,f,g){var h={middle:'center'};f.exports=c("art/core/class")(c("art/modes/canvas/base"),{base_initialize:c("art/modes/canvas/base").prototype.initialize,initialize:function i(j,k,l,m){this.base_initialize();this.draw.apply(this,arguments);},draw:function i(j,k,l,m){var n;if(typeof k=='string'){n=Number(/(\d+)/.exec(k)[0]);}else if(k){n=parseFloat(k.fontSize||k['font-size']||'12');k=(k.fontStyle||k['font-style']||'')+' '+(k.fontVariant||k['font-variant']||'')+' '+(k.fontWeight||k['font-weight']||'')+' '+n+'px '+(k.fontFamily||k['font-family']||'Arial');}else k=this._font;var o=j&&j.split(/\r?\n/);this._font=k;this._fontSize=n;this._text=o;this._alignment=h[l]||l||'left';var p=c("art/modes/canvas/base")._genericContext;p.font=this._font;p.textAlign=this._alignment;p.textBaseline='middle';o=this._text;var q=o.length,r=0;for(var s=0;s<q;s++){var t=p.measureText(o[s]).width;if(t>r)r=t;}this.width=r;this.height=q?q*1.1*n:0;return this.invalidate();},localHitTest:function i(j,k){if(!this._fill)return null;if(j>0&&k>0&&j<this.width&&k<this.height)return this;return null;},renderShapeTo:function i(j){if(this._invisible||!this._text||!this._fill&&!this._stroke)return null;j.transform(this.xx,this.yx,this.xy,this.yy,this.x,this.y);var k=this._fill,l=this._stroke,m=this._text,n=this._strokeDash;j.font=this._font;j.textAlign=this._alignment;j.textBaseline='middle';var o=this._fontSize,p=o/2,q=1.1*o,r=m,s=r.length;if(k){j.fillStyle=k;for(var t=0;t<s;t++)j.fillText(r[t],0,p+t*q);}if(l){if(n){if(j.setLineDash){j.setLineDash(n);}else j.mozDash=n;}else if(j.setLineDash){j.setLineDash([]);}else j.mozDash=null;j.strokeStyle=l;j.lineWidth=this._strokeWidth;j.lineCap=this._strokeCap;j.lineJoin=this._strokeJoin;for(t=0;t<s;t++)j.strokeText(r[t],0,p+t*q);}}});}),null);
__d("art/dom/shadow",["art/core/class","art/dom/dummy","art/dom/native"],(function a(b,c,d,e,f,g){f.exports=c("art/core/class")(c("art/dom/dummy"),c("art/dom/native"),{dummy_inject:c("art/dom/dummy").prototype.inject,dummy_injectBefore:c("art/dom/dummy").prototype.injectBefore,dummy_eject:c("art/dom/dummy").prototype.eject,native_inject:c("art/dom/native").prototype.inject,native_injectBefore:c("art/dom/native").prototype.injectBefore,native_eject:c("art/dom/native").prototype.eject,inject:function h(i){this.dummy_inject(i);this.native_inject(i);return this;},injectBefore:function h(i){this.dummy_injectBefore(i);this.native_injectBefore(i);return this;},eject:function h(){this.dummy_eject();this.native_eject();return this;}});}),null);
__d('art/modes/vml/dom',[],(function a(b,c,d,e,f,g){var h='behavior:url(#default#VML);display:inline-block;position:absolute;left:0px;top:0px;',i,j={},k=function l(m){if(i)j[m]=i.addRule('av\\:'+m,h);};g.init=function(l){var m;try{m=l.namespaces;}catch(n){}if(!m)return false;m.add('av','urn:schemas-microsoft-com:vml');m.add('ao','urn:schemas-microsoft-com:office:office');i=l.createStyleSheet();i.addRule('vml','display:inline-block;position:relative;overflow:hidden;');k('vml');return true;};g.createElement=function(l){if(!(l in j))k(l);return document.createElement('av:'+l);};}),null);
__d("art/modes/vml/node",["art/core/class","art/core/transform","art/dom/shadow","art/modes/vml/dom"],(function a(b,c,d,e,f,g){f.exports=c("art/core/class")(c("art/dom/shadow"),c("art/core/transform"),{initialize:function h(i){var j=this.element=c("art/modes/vml/dom").createElement(i);},_place:function h(){if(this.parentNode)this._transform();},hide:function h(){this.element.style.display='none';return this;},show:function h(){this.element.style.display='';return this;},indicate:function h(i,j){if(i)this.element.style.cursor=i;if(j)this.element.title=j;return this;}});}),null);
__d("art/modes/vml/clippingrectangle",["art/core/class","art/core/transform","art/dom/container","art/modes/vml/node"],(function a(b,c,d,e,f,g){f.exports=c("art/core/class")(c("art/modes/vml/node"),c("art/dom/container"),{element_initialize:c("art/modes/vml/node").prototype.initialize,initialize:function h(i,j){this.element_initialize('clippingrectangle');this.width=i;this.height=j;},_transform:function h(){var i=this.element;i.clip=true;i.coordorigin=-this.x+','+ -1*this.y;i.coordsize=this.width+','+this.height;i.style.clipLeft=this.x;i.style.clipRight=this.width+this.x;i.style.clipTop=this.y;i.style.left=-this.x;i.style.top=-this.y;i.style.width=this.width+this.x;i.style.height=this.height+this.y;i.style.rotation=0;var j=this.parentNode;this._activeTransform=j?new (c("art/core/transform"))(j._activeTransform).transform(this):this;var k=this.firstChild;while(k){k._transform();k=k.nextSibling;}}});}),null);
__d("art/modes/vml/group",["art/core/class","art/core/transform","art/dom/container","art/modes/vml/node"],(function a(b,c,d,e,f,g){f.exports=c("art/core/class")(c("art/modes/vml/node"),c("art/dom/container"),{element_initialize:c("art/modes/vml/node").prototype.initialize,initialize:function h(i,j){this.element_initialize('group');this.width=i;this.height=j;},_transform:function h(){var i=this.element;i.coordorigin='0,0';i.coordsize='1000,1000';i.style.left=0;i.style.top=0;i.style.width=1000;i.style.height=1000;i.style.rotation=0;var j=this.parentNode;this._activeTransform=j?new (c("art/core/transform"))(j._activeTransform).transform(this):this;var k=this.firstChild;while(k){k._transform();k=k.nextSibling;}}});}),null);
__d("art/modes/vml/path",["art/core/class","art/core/path"],(function a(b,c,d,e,f,g){var h=100,i=Math.round,j=c("art/core/class")(c("art/core/path"),{initialize:function k(l){this.reset();if(l instanceof j){this.path=[Array.prototype.join.call(l.path,' ')];}else if(l)if(l.applyToPath){l.applyToPath(this);}else this.push(l);},onReset:function k(){this.path=[];},onMove:function k(l,m,n,o){this.path.push('m',i(n*h),i(o*h));},onLine:function k(l,m,n,o){this.path.push('l',i(n*h),i(o*h));},onBezierCurve:function k(l,m,n,o,p,q,r,s){this.path.push('c',i(n*h),i(o*h),i(p*h),i(q*h),i(r*h),i(s*h));},_arcToBezier:c("art/core/path").prototype.onArc,onArc:function k(l,m,n,o,p,q,r,s,t,u,v,w){if(r!=s||w)return this._arcToBezier(l,m,n,o,p,q,r,s,t,u,v,w);p*=h;q*=h;r*=h;this.path.push(v?'at':'wa',i(p-r),i(q-r),i(p+r),i(q+r),i(l*h),i(m*h),i(n*h),i(o*h));},onClose:function k(){this.path.push('x');},toVML:function k(){return this.path.join(' ');}});j.prototype.toString=j.prototype.toVML;f.exports=j;}),null);
__d("art/modes/vml/base",["art/core/class","art/core/transform","art/core/color","art/modes/vml/node","art/modes/vml/dom"],(function a(b,c,d,e,f,g){var h=100,i={left:0,top:0,width:500,height:500};f.exports=c("art/core/class")(c("art/modes/vml/node"),{element_initialize:c("art/modes/vml/node").prototype.initialize,initialize:function j(k){this.element_initialize(k);var l=this.element,m=this.skewElement=c("art/modes/vml/dom").createElement('skew');m.on=true;l.appendChild(m);var n=this.fillElement=c("art/modes/vml/dom").createElement('fill');n.on=false;l.appendChild(n);var o=this.strokeElement=c("art/modes/vml/dom").createElement('stroke');o.on=false;l.appendChild(o);},_transform:function j(){var k=this.parentNode,l=k?new (c("art/core/transform"))(k._activeTransform).transform(this):this;if(l.xx===0&&l.yx===0||l.xy===0&&l.yy===0){this.element.style.visibility='hidden';return;}else this.element.style.visibility='';var m=this._boxCoords||this._size||i,n=m.left||0,o=m.top||0,p=m.width||1,q=m.height||1,r=l.yx/l.xx>l.yy/l.xy;if(l.xx<0?l.xy>=0:l.xy<0)r=!r;r=r?-1:1;l=new (c("art/core/transform"))().scale(r,1).transform(l);var s=Math.atan2(-l.xy,l.yy)*180/Math.PI,t=s*Math.PI/180,u=Math.sin(t),v=Math.cos(t),w=new (c("art/core/transform"))(l.xx*v-l.xy*u,(l.yx*v-l.yy*u)*r,(l.xy*v+l.xx*u)*r,l.yy*v+l.yx*u),x=new (c("art/core/transform"))().rotate(s,0,0),y=new (c("art/core/transform"))().rotate(-s,0,0).transform(l).moveTo(0,0);p=1000;q=1000;var z=l.x,aa=l.y,ba=-p/2,ca=-q/2,da=x.point(ba,ca);z-=da.x-ba;aa-=da.y-ca;var ea=new (c("art/core/transform"))(l).moveTo(0,0);da=ea.point(n,o);z+=da.x;aa+=da.y;if(r<0)z=-z-p;var fa=ea.point(-n,-o),ga=x.point(p,q),ha=x.point(p,0),ia=x.point(0,q),ja=Math.min(0,ga.x,ha.x,ia.x),ka=Math.max(0,ga.x,ha.x,ia.x),la=Math.min(0,ga.y,ha.y,ia.y),ma=Math.max(0,ga.y,ha.y,ia.y),na=(fa.x-ga.x/2)/(ka-ja)*r,oa=(fa.y-ga.y/2)/(ma-la);da=y.point(n,o);n=da.x;o=da.y;var pa=this._strokeWidth;if(pa){var ba=l.xx+l.xy,ca=l.yy+l.yx;pa*=Math.sqrt(ba*ba+ca*ca)/Math.sqrt(2);}n*=h;o*=h;z*=h;aa*=h;p*=h;q*=h;var qa=this.element;qa.coordorigin=n+','+o;qa.coordsize=p+','+q;qa.style.left=z+'px';qa.style.top=aa+'px';qa.style.width=p;qa.style.height=q;qa.style.rotation=s.toFixed(8);qa.style.flip=r<0?'x':'';var ra=this.skewElement;ra.matrix=[w.xx.toFixed(4),w.xy.toFixed(4),w.yx.toFixed(4),w.yy.toFixed(4),0,0];ra.origin=na+','+oa;this.strokeElement.weight=pa+'px';},_createGradient:function j(k,l){var m=this.fillElement;this.element.removeChild(m);m.type=k;m.method='none';m.rotate=true;var n=[],o,p,q=function u(v,w){w=c("art/core/color").detach(w);if(o==null){o=p=w;}else p=w;n.push(v+' '+w[0]);};if('length' in l){for(var r=0,s=l.length-1;r<=s;r++)q(r/s,l[r]);}else for(var t in l)q(t,l[t]);m.color=o[0];m.color2=p[0];m.colors=n;m.opacity=p[1];m['ao:opacity2']=o[1];m.on=true;this.element.appendChild(m);return m;},_setColor:function j(k,l){var m=k=='fill'?this.fillElement:this.strokeElement;if(l==null){m.on=false;}else{l=c("art/core/color").detach(l);m.color=l[0];m.opacity=l[1];m.on=true;}},fill:function j(k){if(arguments.length>1){this.fillLinear(arguments);}else{this._boxCoords=i;var j=this.fillElement;j.type='solid';j.color2='';j['ao:opacity2']='';if(j.colors)j.colors.value='';this._setColor('fill',k);}return this;},fillRadial:function j(k,l,m,n,o,p,q){var r=this._createGradient('gradientradial',k);if(l==null)l=this.left+this.width*.5;if(m==null)m=this.top+this.height*.5;if(o==null)o=n||this.height*.5;if(n==null)n=this.width*.5;if(p==null)p=l;if(q==null)q=m;p+=p-l;q+=q-m;var s=this._boxCoords={left:p-n*2,top:q-o*2,width:n*4,height:o*4};l-=s.left;m-=s.top;l/=s.width;m/=s.height;r.focussize='0 0';r.focusposition=l+','+m;r.focus='50%';this._transform();return this;},fillLinear:function j(k,l,m,n,o){var p=this._createGradient('gradient',k);p.focus='100%';if(arguments.length==5){var q=Math.abs(n-l),r=Math.abs(o-m);this._boxCoords={left:Math.min(l,n),top:Math.min(m,o),width:q<1?r:q,height:r<1?q:r};p.angle=(360+Math.atan2((n-l)/r,(o-m)/q)*180/Math.PI)%360;}else{this._boxCoords=null;p.angle=l==null?0:(90+l)%360;}this._transform();return this;},fillImage:function j(k,l,m,n,o,p,q){var r=this.fillElement;if(p!=null){p=c("art/core/color").detach(p);if(q!=null)q=c("art/core/color").detach(q);r.type='pattern';r.color=p[0];r.color2=q==null?p[0]:q[0];r.opacity=q==null?0:q[1];r['ao:opacity2']=p[1];}else{r.type='tile';r.color='';r.color2='';r.opacity=1;r['ao:opacity2']=1;}if(r.colors)r.colors.value='';r.rotate=true;r.src=k;r.size='1,1';r.position='0,0';r.origin='0,0';r.aspect='ignore';r.on=true;if(!n)n=0;if(!o)o=0;this._boxCoords=l?{left:n+.5,top:o+.5,width:l,height:m}:null;this._transform();return this;},stroke:function j(k,l,m,n){var j=this.strokeElement;this._strokeWidth=l!=null?l:1;j.weight=l!=null?l+'px':1;j.endcap=m!=null?m=='butt'?'flat':m:'round';j.joinstyle=n!=null?n:'round';this._setColor('stroke',k);return this;}});}),null);
__d("art/modes/vml/shape",["art/core/class","art/modes/vml/base","art/modes/vml/path","art/modes/vml/dom"],(function a(b,c,d,e,f,g){var h=100;f.exports=c("art/core/class")(c("art/modes/vml/base"),{base_initialize:c("art/modes/vml/base").prototype.initialize,initialize:function i(j,k,l){this.base_initialize('shape');var m=this.pathElement=c("art/modes/vml/dom").createElement('path');m.gradientshapeok=true;this.element.appendChild(m);this.width=k;this.height=l;if(j!=null)this.draw(j);},draw:function i(j,k,l){if(!(j instanceof c("art/modes/vml/path")))j=new (c("art/modes/vml/path"))(j);this._vml=j.toVML();if(k!=null)this.width=k;if(l!=null)this.height=l;if(!this._boxCoords)this._transform();this._redraw(this._prefix,this._suffix);return this;},_redraw:function i(j,k){var l=this._vml||'';this._prefix=j;this._suffix=k;if(j)l=[j,l,k,'ns e',l,'nf'].join(' ');this.element.path=l+'e';},fillRadial:function i(j,k,l,m,n,o,p){var q=this._createGradient('gradientradial',j);if(k==null)k=(this.left||0)+(this.width||0)*.5;if(l==null)l=(this.top||0)+(this.height||0)*.5;if(n==null)n=m||this.height*.5||0;if(m==null)m=(this.width||0)*.5;if(o==null)o=k;if(p==null)p=l;o+=o-k;p+=p-l;var r=Math.round(o*h),s=Math.round(p*h),t=Math.round(m*2*h),u=Math.round(n*2*h),v=['wa',r-t,s-u,r+t,s+u].join(' ');this._redraw(['m',r,s-u,'l',r,s-u].join(' '),['m',r,s-u,v,r,s-u,r,s+u,v,r,s+u,r,s-u,v,r,s-u,r,s+u,v,r,s+u,r,s-u].join(' '));this._boxCoords={left:k-2,top:l-2,width:4,height:4};q.focusposition='0.5,0.5';q.focussize='0 0';q.focus='50%';this._transform();return this;}});}),null);
__d("art/modes/vml/surface",["art/core/class","art/dom/container","art/dom/native","art/modes/vml/dom"],(function a(b,c,d,e,f,g){var h=100,i=c("art/core/class")(c("art/dom/native"),c("art/dom/container"),{initialize:function j(k,l,m){this.element=m||document.createElement('vml');this.containerElement=c("art/modes/vml/dom").createElement('group');this.element.appendChild(this.containerElement);if(k!=null&&l!=null)this.resize(k,l);},resize:function j(k,l){this.width=k;this.height=l;var m=this.element.style;m.pixelWidth=k;m.pixelHeight=l;m=this.containerElement.style;m.width=k;m.height=l;var n=.5*h;this.containerElement.coordorigin=n+','+n;this.containerElement.coordsize=k*h+','+l*h;return this;}});i.tagName='av:vml';f.exports=i;}),null);
__d("art/modes/vml/text",["art/core/class","art/modes/vml/base","art/modes/vml/path","art/modes/vml/dom"],(function a(b,c,d,e,f,g){var h={start:'left',middle:'center',end:'right'};f.exports=c("art/core/class")(c("art/modes/vml/base"),{base_initialize:c("art/modes/vml/base").prototype.initialize,initialize:function i(j,k,l,m){this.base_initialize('shape');var n=this.pathElement=c("art/modes/vml/dom").createElement('path');n.textpathok=true;this.element.appendChild(n);n=this.textPathElement=c("art/modes/vml/dom").createElement("textpath");n.on=true;n.style['v-text-align']='left';this.element.appendChild(n);this.draw.apply(this,arguments);},draw:function i(j,k,l,m){var n=this.element,o=this.textPathElement,p=o.style;o.string=j;if(k)if(typeof k=='string'){p.font=k;}else for(var q in k){var r=q.camelCase?q.camelCase():q;if(r=='fontFamily'){p[r]="'"+k[q]+"'";}else p[r]=k[q];}if(l)p['v-text-align']=h[l]||l;if(m){this.currentPath=m=new (c("art/modes/vml/path"))(m);this.element.path=m.toVML();}else if(!this.currentPath){var s=-1,t='\n';while((s=j.indexOf('\n',s+1))>-1)t+='\n';o.string=t+o.string;this.element.path='m0,0l1,0';}return this;}});}),null);
__d("art/modes/fast-noSideEffects",["art/modes/canvas/base","art/modes/canvas/surface","art/modes/canvas/path","art/modes/canvas/shape","art/modes/canvas/group","art/modes/canvas/clippingrectangle","art/modes/canvas/text","art/modes/vml/surface","art/modes/vml/path","art/modes/vml/shape","art/modes/vml/group","art/modes/vml/clippingrectangle","art/modes/vml/text","art/modes/vml/dom"],(function a(b,c,d,e,f,g){if(c("art/modes/canvas/base")._genericContext){g.Surface=c("art\/modes\/canvas\/surface");g.Path=c("art\/modes\/canvas\/path");g.Shape=c("art\/modes\/canvas\/shape");g.Group=c("art\/modes\/canvas\/group");g.ClippingRectangle=c("art\/modes\/canvas\/clippingrectangle");g.Text=c("art\/modes\/canvas\/text");}else{g.Surface=c("art\/modes\/vml\/surface");g.Path=c("art\/modes\/vml\/path");g.Shape=c("art\/modes\/vml\/shape");g.Group=c("art\/modes\/vml\/group");g.ClippingRectangle=c("art\/modes\/vml\/clippingrectangle");g.Text=c("art\/modes\/vml\/text");var h=c("art\/modes\/vml\/dom");if(typeof document!=='undefined')h.init(document);}}),null);
__d('ReactARTFiber',['invariant','art/modes/current','art/modes/fast-noSideEffects','art/core/transform','emptyObject','React','ReactFiberReconciler','ReactDOMFrameScheduling'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l;c('art/modes/current').setCurrent(c('art/modes/fast-noSideEffects'));var m=c('React').Component,n=new (c('art/core/transform'))(),o={onClick:'click',onMouseMove:'mousemove',onMouseOver:'mouseover',onMouseOut:'mouseout',onMouseUp:'mouseup',onMouseDown:'mousedown'},p={CLIPPING_RECTANGLE:'ClippingRectangle',GROUP:'Group',SHAPE:'Shape',TEXT:'Text'},q={};function r(la,ma,na){if(!la._listeners){la._listeners={};la._subscriptions={};}la._listeners[ma]=na;if(na){if(!la._subscriptions[ma])la._subscriptions[ma]=la.subscribe(ma,t(la),la);}else if(la._subscriptions[ma]){la._subscriptions[ma]();delete la._subscriptions[ma];}}function s(la){if(!la){return '';}else if(typeof la==='string'){return la;}else if(la.length){return la.join('');}else return '';}function t(la){return function ma(event){var na=la._listeners[event.type];if(!(!na))if(typeof na==='function'){na.call(la,event);}else if(na.handleEvent)na.handleEvent(event);};}function u(la){if(la._subscriptions)for(var ma in la._subscriptions)la._subscriptions[ma]();la._subscriptions=null;la._listeners=null;}function v(la){if(la.scaleX!=null){return la.scaleX;}else if(la.scale!=null){return la.scale;}else return 1;}function w(la){if(la.scaleY!=null){return la.scaleY;}else if(la.scale!=null){return la.scale;}else return 1;}function x(la,ma){if(la===ma){return true;}else if(typeof ma==='string'||typeof la==='string'){return false;}else return (ma.fontSize===la.fontSize&&ma.fontStyle===la.fontStyle&&ma.fontVariant===la.fontVariant&&ma.fontWeight===la.fontWeight&&ma.fontFamily===la.fontFamily);}function y(la,ma){var na=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];aa(la,ma,na);la.width=ma.width;la.height=ma.height;}function z(la,ma){var na=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];aa(la,ma,na);la.width=ma.width;la.height=ma.height;}function aa(la,ma){var na=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],oa=v(ma),pa=w(ma);n.transformTo(1,0,0,1,0,0).move(ma.x||0,ma.y||0).rotate(ma.rotation||0,ma.originX,ma.originY).scale(oa,pa,ma.originX,ma.originY);if(ma.transform!=null)n.transform(ma.transform);if(la.xx!==n.xx||la.yx!==n.yx||la.xy!==n.xy||la.yy!==n.yy||la.x!==n.x||la.y!==n.y)la.transformTo(n);if(ma.cursor!==na.cursor||ma.title!==na.title)la.indicate(ma.cursor,ma.title);if(la.blend&&ma.opacity!==na.opacity)la.blend(ma.opacity==null?1:ma.opacity);if(ma.visible!==na.visible)if(ma.visible==null||ma.visible){la.show();}else la.hide();for(var qa in o)r(la,o[qa],ma[qa]);}function ba(la,ma){var na=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];aa(la,ma,na);if(na.fill!==ma.fill)if(ma.fill&&ma.fill.applyFill){ma.fill.applyFill(la);}else la.fill(ma.fill);if(na.stroke!==ma.stroke||na.strokeWidth!==ma.strokeWidth||na.strokeCap!==ma.strokeCap||na.strokeJoin!==ma.strokeJoin||na.strokeDash!==ma.strokeDash)la.stroke(ma.stroke,ma.strokeWidth,ma.strokeCap,ma.strokeJoin,ma.strokeDash);}function ca(la,ma){var na=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];ba(la,ma,na);var oa=ma.d||s(ma.children),pa=la._prevDelta,qa=la._prevPath;if(oa!==qa||oa.delta!==pa||na.height!==ma.height||na.width!==ma.width){la.draw(oa,ma.width,ma.height);la._prevDelta=oa.delta;la._prevPath=oa;}}function da(la,ma){var na=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];ba(la,ma,na);var oa=ma.children;if(la._currentString!==oa||!x(ma.font,na.font)||ma.alignment!==na.alignment||ma.path!==na.path){la.draw(oa,ma.font,ma.alignment,ma.path);la._currentString=oa;}}var ea=Array.prototype.slice;function fa(la,ma,na,oa,pa){this.$LinearGradient1=ea.call(arguments);}fa.prototype.applyFill=function(la){la.fillLinear.apply(la,this.$LinearGradient1);};function ga(la,ma,na,oa,pa,qa,ra){this.$RadialGradient1=ea.call(arguments);}ga.prototype.applyFill=function(la){la.fillRadial.apply(la,this.$RadialGradient1);};function ha(la,ma,na,oa,pa){this.$Pattern1=ea.call(arguments);}ha.prototype.applyFill=function(la){la.fillImage.apply(la,this.$Pattern1);};i=babelHelpers.inherits(ia,m);j=i&&i.prototype;ia.prototype.componentDidMount=function(){var la=this.props,ma=la.height,na=la.width;this.$Surface1=c('art/modes/current').Surface(+na,+ma,this.$Surface2);this.$Surface3=ka.createContainer(this.$Surface1);ka.updateContainer(this.props.children,this.$Surface3,this);};ia.prototype.componentDidUpdate=function(la,ma){var na=this.props;if(na.height!==la.height||na.width!==la.width)this.$Surface1.resize(+na.width,+na.height);ka.updateContainer(this.props.children,this.$Surface3,this);if(this.$Surface1.render)this.$Surface1.render();};ia.prototype.componentWillUnmount=function(){ka.updateContainer(null,this.$Surface3,this);};ia.prototype.render=function(){var la=this.props,ma=c('art/modes/current').Surface.tagName;return (c('React').createElement(ma,{ref:function(na){return this.$Surface2=na;}.bind(this),accessKey:la.accessKey,className:la.className,draggable:la.draggable,role:la.role,style:la.style,tabIndex:la.tabIndex,title:la.title}));};function ia(){i.apply(this,arguments);}k=babelHelpers.inherits(ja,c('React').Component);l=k&&k.prototype;function ja(la){var ma,na=this;l.constructor.call(this,la);var oa=function sa(ta){Object.defineProperty(na,ta,{get:function ua(){return this.$Text1?this.$Text1[ta]:undefined;}});},pa=['height','width','x','y'];for(var qa=0;qa<pa.length;qa++){var ra=pa[qa];oa(ra);}}ja.prototype.render=function(){var la=p.TEXT;return (c('React').createElement(la,babelHelpers['extends']({},this.props,{ref:function(ma){return this.$Text1=ma;}.bind(this)}),s(this.props.children)));};var ka=c('ReactFiberReconciler')({appendChild:function la(ma,na){if(na.parentNode===ma)na.eject();na.inject(ma);},appendInitialChild:function la(ma,na){if(typeof na==='string'){h(0);return;}na.inject(ma);},commitTextUpdate:function la(ma,na,oa){},commitMount:function la(ma,na,oa){},commitUpdate:function la(ma,na,oa,pa,qa){ma._applyProps(ma,qa,pa);},createInstance:function la(ma,na,oa){var pa=void 0;switch(ma){case p.CLIPPING_RECTANGLE:pa=c('art/modes/current').ClippingRectangle();pa._applyProps=y;break;case p.GROUP:pa=c('art/modes/current').Group();pa._applyProps=z;break;case p.SHAPE:pa=c('art/modes/current').Shape();pa._applyProps=ca;break;case p.TEXT:pa=c('art/modes/current').Text(na.children,na.font,na.alignment,na.path);pa._applyProps=da;break;}pa||h(0);pa._applyProps(pa,na);return pa;},createTextInstance:function la(ma,na,oa){return ma;},finalizeInitialChildren:function la(ma,na,oa){return false;},getPublicInstance:function la(ma){return ma;},insertBefore:function la(ma,na,oa){na!==oa||h(0);na.injectBefore(oa);},prepareForCommit:function la(){},prepareUpdate:function la(ma,na,oa,pa){return q;},removeChild:function la(ma,na){u(na);na.eject();},resetAfterCommit:function la(){},resetTextContent:function la(ma){},getRootHostContext:function la(){return c('emptyObject');},getChildHostContext:function la(){return c('emptyObject');},scheduleAnimationCallback:c('ReactDOMFrameScheduling').rAF,scheduleDeferredCallback:c('ReactDOMFrameScheduling').rIC,shouldSetTextContent:function la(ma){return (typeof ma.children==='string'||typeof ma.children==='number');},useSyncScheduling:true});f.exports={ClippingRectangle:p.CLIPPING_RECTANGLE,Group:p.GROUP,LinearGradient:fa,Path:c('art/modes/current').Path,Pattern:ha,RadialGradient:ga,Shape:p.SHAPE,Surface:ia,Text:ja,Transform:c('art/core/transform')};}),null);
__d('ReactARTStack',['invariant','art/modes/current','art/modes/fast-noSideEffects','art/core/transform','React','ReactDOM','ReactInstanceMap','ReactMultiChild','ReactUpdates','emptyObject'],(function a(b,c,d,e,f,g,h){'use strict';c('art/modes/current').setCurrent(c('art/modes/fast-noSideEffects'));var i=Object.assign,j=new (c('art/core/transform'))();function k(aa){if(!aa)return '';if(typeof aa==='string')return aa;if(aa.length)return aa.join('\n');return '';}function l(aa){var ba=function ea(fa){this.node=null;this.subscriptions=null;this.listeners=null;this._mountImage=null;this._renderedChildren=null;this.construct(fa);};ba.displayName=aa;for(var ca=1,da=arguments.length;ca<da;ca++)i(ba.prototype,arguments[ca]);return ba;}function m(aa,ba,ca){var da=void 0;if(ca.parentNode===aa&&ca.previousSibling===ba)return;if(ba==null){da=aa.firstChild;}else da=ba.nextSibling;if(da&&da.previousSibling!==ca){ca!==da||h(0);ca.injectBefore(da);}else if(ca.parentNode!==aa)ca.inject(aa);}var n=i({},c('ReactMultiChild'),{moveChild:function aa(ba,ca,da,ea){var fa=ba._mountImage;m(this.node,ca,fa);},createChild:function aa(ba,ca,da){ba._mountImage=da;m(this.node,ca,da);},removeChild:function aa(ba){ba._mountImage.eject();ba._mountImage=null;},updateChildrenAtRoot:function aa(ba,ca){this.updateChildren(ba,ca,c('emptyObject'));},mountAndInjectChildrenAtRoot:function aa(ba,ca){this.mountAndInjectChildren(ba,ca,c('emptyObject'));},updateChildren:function aa(ba,ca,da){this._updateChildren(ba,ca,da);},mountAndInjectChildren:function aa(ba,ca,da){var ea=this.mountChildren(ba,ca,da),fa=0;for(var ga in this._renderedChildren)if(this._renderedChildren.hasOwnProperty(ga)){var ha=this._renderedChildren[ga];ha._mountImage=ea[fa];ea[fa].inject(this.node);fa++;}}}),o=c('React').createClass({displayName:'Surface',mixins:[n],componentDidMount:function aa(){var ba=c('ReactDOM').findDOMNode(this);this.node=c('art/modes/current').Surface(+this.props.width,+this.props.height,ba);var ca=c('ReactUpdates').ReactReconcileTransaction.getPooled();ca.perform(this.mountAndInjectChildren,this,this.props.children,ca,c('ReactInstanceMap').get(this)._context);c('ReactUpdates').ReactReconcileTransaction.release(ca);},componentDidUpdate:function aa(ba){var ca=this.node;if(this.props.width!=ba.width||this.props.height!=ba.height)ca.resize(+this.props.width,+this.props.height);var da=c('ReactUpdates').ReactReconcileTransaction.getPooled();da.perform(this.updateChildren,this,this.props.children,da,c('ReactInstanceMap').get(this)._context);c('ReactUpdates').ReactReconcileTransaction.release(da);if(ca.render)ca.render();},componentWillUnmount:function aa(){this.unmountChildren();},render:function aa(){var ba=this.props,ca=c('art/modes/current').Surface.tagName;return (c('React').createElement(ca,{accessKey:ba.accessKey,className:ba.className,draggable:ba.draggable,role:ba.role,style:ba.style,tabIndex:ba.tabIndex,title:ba.title}));}}),p={onMouseMove:'mousemove',onMouseOver:'mouseover',onMouseOut:'mouseout',onMouseUp:'mouseup',onMouseDown:'mousedown',onClick:'click'},q={construct:function aa(ba){this._currentElement=ba;},getNativeNode:function aa(){return this.node;},getPublicInstance:function aa(){return this.node;},putEventListener:function aa(ba,ca){var da=this.subscriptions||(this.subscriptions={}),ea=this.listeners||(this.listeners={});ea[ba]=ca;if(ca){if(!da[ba])da[ba]=this.node.subscribe(ba,this.handleEvent,this);}else if(da[ba]){da[ba]();delete da[ba];}},handleEvent:function aa(event){var ba=this.listeners[event.type];if(!ba)return;if(typeof ba==='function'){ba.call(this,event);}else if(ba.handleEvent)ba.handleEvent(event);},destroyEventListeners:function aa(){var ba=this.subscriptions;if(ba)for(var ca in ba)ba[ca]();this.subscriptions=null;this.listeners=null;},applyNodeProps:function aa(ba,ca){var da=this.node,ea=ca.scaleX!=null?ca.scaleX:ca.scale!=null?ca.scale:1,fa=ca.scaleY!=null?ca.scaleY:ca.scale!=null?ca.scale:1;j.transformTo(1,0,0,1,0,0).move(ca.x||0,ca.y||0).rotate(ca.rotation||0,ca.originX,ca.originY).scale(ea,fa,ca.originX,ca.originY);if(ca.transform!=null)j.transform(ca.transform);if(da.xx!==j.xx||da.yx!==j.yx||da.xy!==j.xy||da.yy!==j.yy||da.x!==j.x||da.y!==j.y)da.transformTo(j);if(ca.cursor!==ba.cursor||ca.title!==ba.title)da.indicate(ca.cursor,ca.title);if(da.blend&&ca.opacity!==ba.opacity)da.blend(ca.opacity==null?1:ca.opacity);if(ca.visible!==ba.visible)if(ca.visible==null||ca.visible){da.show();}else da.hide();for(var ga in p)this.putEventListener(p[ga],ca[ga]);},mountComponentIntoNode:function aa(ba,ca){throw new Error('You cannot render an ART component standalone. '+'You need to wrap it in a Surface.');}},r=l('Group',q,n,{mountComponent:function aa(ba,ca,da,ea){this.node=c('art/modes/current').Group();var fa=this._currentElement.props;this.applyGroupProps(c('emptyObject'),fa);this.mountAndInjectChildren(fa.children,ba,ea);return this.node;},receiveComponent:function aa(ba,ca,da){var ea=ba.props,fa=this._currentElement.props;this.applyGroupProps(fa,ea);this.updateChildren(ea.children,ca,da);this._currentElement=ba;},applyGroupProps:function aa(ba,ca){this.node.width=ca.width;this.node.height=ca.height;this.applyNodeProps(ba,ca);},unmountComponent:function aa(){this.destroyEventListeners();this.unmountChildren();}}),s=l('ClippingRectangle',q,n,{mountComponent:function aa(ba,ca,da,ea){this.node=c('art/modes/current').ClippingRectangle();var fa=this._currentElement.props;this.applyClippingProps(c('emptyObject'),fa);this.mountAndInjectChildren(fa.children,ba,ea);return this.node;},receiveComponent:function aa(ba,ca,da){var ea=ba.props,fa=this._currentElement.props;this.applyClippingProps(fa,ea);this.updateChildren(ea.children,ca,da);this._currentElement=ba;},applyClippingProps:function aa(ba,ca){this.node.width=ca.width;this.node.height=ca.height;this.node.x=ca.x;this.node.y=ca.y;this.applyNodeProps(ba,ca);},unmountComponent:function aa(){this.destroyEventListeners();this.unmountChildren();}}),t=i({},q,{applyRenderableProps:function aa(ba,ca){if(ba.fill!==ca.fill)if(ca.fill&&ca.fill.applyFill){ca.fill.applyFill(this.node);}else this.node.fill(ca.fill);if(ba.stroke!==ca.stroke||ba.strokeWidth!==ca.strokeWidth||ba.strokeCap!==ca.strokeCap||ba.strokeJoin!==ca.strokeJoin||ba.strokeDash!==ca.strokeDash)this.node.stroke(ca.stroke,ca.strokeWidth,ca.strokeCap,ca.strokeJoin,ca.strokeDash);this.applyNodeProps(ba,ca);},unmountComponent:function aa(){this.destroyEventListeners();}}),u=l('Shape',t,{construct:function aa(ba){this._currentElement=ba;this._oldDelta=null;this._oldPath=null;},mountComponent:function aa(ba,ca,da,ea){this.node=c('art/modes/current').Shape();var fa=this._currentElement.props;this.applyShapeProps(c('emptyObject'),fa);return this.node;},receiveComponent:function aa(ba,ca,da){var ea=ba.props,fa=this._currentElement.props;this.applyShapeProps(fa,ea);this._currentElement=ba;},applyShapeProps:function aa(ba,ca){var da=this._oldDelta,ea=this._oldPath,fa=ca.d||k(ca.children);if(fa.delta!==da||fa!==ea||ba.width!==ca.width||ba.height!==ca.height){this.node.draw(fa,ca.width,ca.height);this._oldPath=fa;this._oldDelta=fa.delta;}this.applyRenderableProps(ba,ca);}}),v=l('Text',t,{construct:function aa(ba){this._currentElement=ba;this._oldString=null;},mountComponent:function aa(ba,ca,da,ea){var fa=this._currentElement.props,ga=k(fa.children);this.node=c('art/modes/current').Text(ga,fa.font,fa.alignment,fa.path);this._oldString=ga;this.applyRenderableProps(c('emptyObject'),fa);return this.node;},isSameFont:function aa(ba,ca){if(ba===ca)return true;if(typeof ca==='string'||typeof ba==='string')return false;return (ca.fontSize===ba.fontSize&&ca.fontStyle===ba.fontStyle&&ca.fontVariant===ba.fontVariant&&ca.fontWeight===ba.fontWeight&&ca.fontFamily===ba.fontFamily);},receiveComponent:function aa(ba,ca,da){var ea=ba.props,fa=this._currentElement.props,ga=this._oldString,ha=k(ea.children);if(ga!==ha||!this.isSameFont(fa.font,ea.font)||fa.alignment!==ea.alignment||fa.path!==ea.path){this.node.draw(ha,ea.font,ea.alignment,ea.path);this._oldString=ha;}this.applyRenderableProps(fa,ea);this._currentElement=ba;}}),w=Array.prototype.slice;function x(aa,ba,ca,da,ea){this.args=w.call(arguments);}x.prototype.applyFill=function(aa){aa.fillLinear.apply(aa,this.args);};function y(aa,ba,ca,da,ea,fa,ga){this.args=w.call(arguments);}y.prototype.applyFill=function(aa){aa.fillRadial.apply(aa,this.args);};function z(aa,ba,ca,da,ea){this.args=w.call(arguments);}z.prototype.applyFill=function(aa){aa.fillImage.apply(aa,this.args);};f.exports={ClippingRectangle:s,Group:r,LinearGradient:x,Path:c('art/modes/current').Path,Pattern:z,RadialGradient:y,Shape:u,Surface:o,Text:v,Transform:c('art/core/transform')};}),null);
__d('ReactART',['ReactGK','ReactARTFiber','ReactARTStack'],(function a(b,c,d,e,f,g){f.exports=c('ReactGK').domIsFiber?c('ReactARTFiber'):c('ReactARTStack');}),null);
__d('ImagePattern.art',['Image.react','ReactART','Sprite.art','joinClasses'],(function a(b,c,d,e,f,g){'use strict';var h=c('ReactART').Pattern;function i(k){var l=c('joinClasses')(k.spriteMapCssClass,k.spriteCssClass);return c('Sprite.art').get(l);}function j(k,l,m){c('Image.react').validateImageSrcPropType(k);this.$ImagePattern8=k;this.$ImagePattern2=this.$ImagePattern4=l||0;this.$ImagePattern1=this.$ImagePattern3=m||0;this.$ImagePattern5=0;this.$ImagePattern6=0;if(typeof k==='string'){this.$ImagePattern9=k;}else if(!k.sprited){this.$ImagePattern9=k.uri;if(!this.$ImagePattern2&&!this.$ImagePattern1){this.$ImagePattern4=this.$ImagePattern2=k.width||0;this.$ImagePattern3=this.$ImagePattern1=k.height||0;}}else{var n=i(k);this.$ImagePattern9=n.uri;this.$ImagePattern2=n.boxSize[0]||0;this.$ImagePattern1=n.boxSize[1]||0;this.$ImagePattern4=n.imageSize[0]||0;this.$ImagePattern3=n.imageSize[1]||0;this.$ImagePattern5+=n.offset[0];this.$ImagePattern6+=n.offset[1];}}j.prototype.applyFill=function(k){if(!this.$ImagePattern7)this.$ImagePattern7=new h(this.$ImagePattern9,this.$ImagePattern4,this.$ImagePattern3,this.$ImagePattern5,this.$ImagePattern6);this.$ImagePattern7.applyFill(k);};j.prototype.adjustOffsetX=function(k){this.$ImagePattern5+=k;};j.prototype.adjustOffsetY=function(k){this.$ImagePattern6+=k;};j.prototype.getBoxHeight=function(){return this.$ImagePattern1;};j.prototype.getBoxWidth=function(){return this.$ImagePattern2;};f.exports=j;}),null);
__d('CandelaPlatformConstants',['cx','csx','CSSBackgroundPattern.art','ImagePattern.art','ReactDOM'],(function a(b,c,d,e,f,g,h,i){'use strict';var j={CHART_ELEMENT_CLASS_NAME:"_cx6",CHART_ELEMENT_SELECTOR:"._cx6",CHART_HOVER_CARD_ANCHOR_CLASS_NAME:"_42ly",CHART_HOVER_CARD_ANCHOR_SELECTOR:"._42ly",DEFAULT_FONT_FAMILY:'sans-serif',GAPS_FILL:new (c('CSSBackgroundPattern.art'))("_190w"),IMAGE_PATTERN:c('ImagePattern.art'),REACT_DOM:c('ReactDOM'),REACT_NATIVE:false,SURFACE_STYLE:{MozUserSelect:'none',msUserSelect:'none',WebkitTouchCallout:'none',WebkitUserSelect:'none',left:0,position:'absolute',right:'auto',top:0},SURFACE_WRAPPER:'div',TEXT_REGION_DISABLED:false};f.exports=j;}),null);
__d('CandelaConstants',['CandelaPlatformConstants','getObjectValues','keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=1,i=h*60,j=i*60,k=j*24,l=k*7,m=k*30,n=k*365,o='>',p='[_a-zA-Z]',q='[_a-zA-Z0-9-]',r='\\s',s='"([^\\n\\r\\f"]*)"',t="'([^\\n\\r\\f']*)'",u='-?'+p+q+'*',v='('+s+'|'+t+')',w='\\['+r+'*('+u+')'+r+'*='+r+'*('+u+'|'+v+')'+r+'*\\]',x={DAY:k,HOUR:j,MIN:i,MONTH:m,SEC:h,WEEK:l,YEAR:n},y={Alignment:{BOTTOM:'bottom',CENTER:'center',LEFT:'left',RIGHT:'right',TOP:'top'},Attribute:{ALIGNMENT:'alignment',DRAGGABLE:'draggable',ORIENTATION:'orientation',PLACEMENT:'placement',SERIES:'series'},CHART_ELEMENT_CLASS_NAME:c('CandelaPlatformConstants').CHART_ELEMENT_CLASS_NAME,CHART_ELEMENT_SELECTOR:c('CandelaPlatformConstants').CHART_ELEMENT_SELECTOR,CHART_HOVER_CARD_ANCHOR_CLASS_NAME:c('CandelaPlatformConstants').CHART_HOVER_CARD_ANCHOR_CLASS_NAME,CHART_HOVER_CARD_ANCHOR_SELECTOR:c('CandelaPlatformConstants').CHART_HOVER_CARD_ANCHOR_SELECTOR,ClassName:{BASELINE:'baseline',BENCHMARK:'benchmark',INTERVAL:'interval',MINIMUM_LIMIT:'minimum-limit',TARGET:'target'},COLOR_KEYWORDS:['aqua','auto','black','blue','fuchsia','gray','green','lime','maroon','navy','olive','orange','purple','red','silver','teal','white','yellow'],COLOR_KEYWORD_MAP:{transparent:'rgba(255,255,255,0)'},Ellipsis:'...',Event:c('keyMirror')({SHAPE_CLICK:null,SHAPE_DOWN:null,SHAPE_DRAG:null,SHAPE_DRAG_END:null,SHAPE_DRAG_START:null,SHAPE_ENTER:null,SHAPE_ENTER_PROXIMITY:null,SHAPE_HOVER:null,SHAPE_IN_PROXIMITY:null,SHAPE_LEAVE:null,SHAPE_LEAVE_PROXIMITY:null,SHAPE_LONG_PRESS:null,SHAPE_UP:null}),EventSource:c('keyMirror')({MOUSE:null,TOUCH:null}),NormalizedOutput:{LEFT:0,MID:.5,RIGHT:1},Orientation:{HORIZONTAL:'horizontal',VERTICAL:'vertical'},Placement:{BOTTOM:'bottom',CENTER:'center',LEFT:'left',NONE:'',RIGHT:'right',TOP:'top'},PseudoClass:{ACTIVE:':active',DENSE:':dense',DRAG:':drag',EQUAL_TO:':equal-to',FIRST_CHILD:':first-child',GREATER_THAN:':greater-than',HIGHLIGHTED:':highlighted',HOVER:':hover',LAST_CHILD:':last-child',LESS_THAN:':less-than',MAX:':max',MIN:':min',MUTED:':muted',NONE:'',ONLY_CHILD:':only-child',POINT:':point',PRIMARY:':primary',PROXIMITY:':proximity',REFERENCE:':reference',SECONDARY:':secondary',SEGMENT:':segment',UNAVAILABLE:':unavailable'},RE:{ATTRIBUTE_RE:new RegExp(w),ATTRIBUTES_RE:new RegExp(w,'g'),CLASSES_RE:new RegExp('\\.'+u,'g'),COMBINATORS_RE:new RegExp(''+o+r+'*(?![^\\[]+[\\]])','g'),IDENT_RE:new RegExp(u,'g'),PSEUDO_CLASSES_RE:new RegExp(':'+u,'g'),S_RE:new RegExp(r),TYPE_RE:new RegExp('^'+q+'+')},RenderAs:{ANCHOR:'anchor',AREA:'area',BAR:'bar',LINE:'line',MARKER:'marker'},ScaleType:{CATEGORY:'category',CURRENCY:'currency',NUMBER:'number',PERCENTAGE:'percentage',TIME:'time'},ShapeType:{ANNOTATION:'annotation',ANCHOR_ANNOTATION:'annotationanchor',AREA:'area',AXIS:'axis',AXIS_BUCKETMARK:'axisbucketmark',AXIS_MARK:'axismark',AXIS_TITLE:'axistitle',AXIS_RULE:'axisrule',BAR:'bar',BAR_AREA:'bararea',BAR_AREA_LABEL:'bararealabel',BAR_GROUP:'bargroup',BAR_LABEL:'barlabel',CHART:'chart',CONTROL_LINE:'controlline',GAP:'gap',GRID_LINE:'gridline',GUIDE:'guide',GUIDE_LINE:'guideline',GUIDE_MARKER:'guidemarker',GUIDE_POINT:'guidepoint',LINE:'line',LINE_ANNOTATION:'annotationline',MARKER_ANNOTATION:'annotationmarker',PLOT_AREA:'plotarea',POINT:'point',POINT_ANNOTATION:'annotationpoint',REFERENCE:'reference',REFERENCE_LABEL:'referencelabel',REFERENCE_LINE:'referenceline',REFERENCE_ZONE:'referencezone',WEDGE:'wedge'},Style:{BACKGROUND:'background',BACKGROUND_COLOR:'backgroundColor',BORDER:'border',BORDER_BOTTOM:'borderBottom',BORDER_BOTTOM_COLOR:'borderBottomColor',BORDER_BOTTOM_STYLE:'borderBottomStyle',BORDER_BOTTOM_WIDTH:'borderBottomWidth',BORDER_COLOR:'borderColor',BORDER_LEFT:'borderLeft',BORDER_LEFT_COLOR:'borderLeftColor',BORDER_LEFT_STYLE:'borderLeftStyle',BORDER_LEFT_WIDTH:'borderLeftWidth',BORDER_RIGHT:'borderRight',BORDER_RIGHT_COLOR:'borderRightColor',BORDER_RIGHT_STYLE:'borderRightStyle',BORDER_RIGHT_WIDTH:'borderRightWidth',BORDER_STYLE:'borderStyle',BORDER_TOP:'borderTop',BORDER_TOP_COLOR:'borderTopColor',BORDER_TOP_STYLE:'borderTopStyle',BORDER_TOP_WIDTH:'borderTopWidth',BORDER_WIDTH:'borderWidth',BOTTOM:'bottom',COLOR:'color',CONTENT:'content',CURSOR:'cursor',FILL:'fill',FONT:'font',FONT_FAMILY:'fontFamily',FONT_SIZE:'fontSize',FONT_STYLE:'fontStyle',FONT_WEIGHT:'fontWeight',HEIGHT:'height',LEFT:'left',MARGIN:'margin',MARGIN_BOTTOM:'marginBottom',MARGIN_LEFT:'marginLeft',MARGIN_RIGHT:'marginRight',MARGIN_TOP:'marginTop',MAX_HEIGHT:'maxHeight',MAX_WIDTH:'maxWidth',MIN_HEIGHT:'minHeight',MIN_WIDTH:'minWidth',OPACITY:'opacity',ORIGIN_X:'originX',ORIGIN_Y:'originY',PADDING:'padding',PADDING_BOTTOM:'paddingBottom',PADDING_LEFT:'paddingLeft',PADDING_RIGHT:'paddingRight',PADDING_TOP:'paddingTop',POSITION:'position',RADIUS:'radius',RIGHT:'right',ROTATION:'rotation',SCALE_X:'scaleX',SCALE_Y:'scaleY',STROKE:'stroke',STROKE_DASHARRAY:'strokeDasharray',STROKE_LINECAP:'strokeLinecap',STROKE_WIDTH:'strokeWidth',TEXT_ALIGN:'textAlign',TEXT_OVERFLOW:'textOverflow',TOP:'top',TRANSFORM:'transform',TRANSFORM_ORIGIN:'transformOrigin',VISIBILITY:'visibility',WHITE_SPACE:'whiteSpace',WIDTH:'width'},TruncationSafetyFactor:.9,TimeInterval:x,TIME_INTERVALS_ASC:c('getObjectValues')(x).sort(function(z,aa){return z-aa;}),TIME_INTERVALS_DESC:c('getObjectValues')(x).sort(function(z,aa){return aa-z;}),TIME_STEPS:[h,h*5,h*15,h*30,i,i*5,i*15,i*30,j,j*2,j*3,j*6,j*12,k,k*2,k*3,l,l*2,m,m*3,m*6,n],TransformFunction:{ROTATE:'rotate',SCALE:'scale',SCALE_X:'scaleX',SCALE_Y:'scaleY'},Visibility:{HIDDEN:'hidden',VISIBLE:'visible'}};f.exports=y;}),null);
__d('CandelaSelector',['invariant','CandelaConstants','immutable','memoize'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l,m=c('immutable').List,n=c('immutable').Map,o=c('immutable').Record,p=c('immutable').Set,q='>',r='*',s=c('CandelaConstants').RE,t=s.ATTRIBUTE_RE,u=s.ATTRIBUTES_RE,v=s.CLASSES_RE,w=s.COMBINATORS_RE,x=s.PSEUDO_CLASSES_RE,y=s.TYPE_RE,z=function(){var ca={};return function(da){if(!ca.hasOwnProperty(da)){var ea=da.trim().split(w).map(function(ga){var ha={attributes:{},classes:[],pseudoClasses:[],type:r};ga=ga.replace(u,function(ia){var ja=t.exec(ia),ka=ja[0],la=ja[1],ma=ja[2],na=ja[3],oa=ja[4],pa=ja[5],qa=pa==null?oa==null?ma==null?na:ma:oa:pa;if(qa)ha.attributes[la.toLowerCase()]=qa;return '';});ga=ga.replace(v,function(ia){ha.classes.push(ia.slice(1));return '';});ga=ga.replace(x,function(ia){ha.pseudoClasses.push(ia.toLowerCase().slice(1));return '';});ga=ga.replace(y,function(ia){ha.type=ia.toLowerCase();return '';});ga.length===0||h(0);return ha;});ca[da]=aa.fromJS(ea);}var fa=ca[da];if(!ca.hasOwnProperty(fa))ca[fa]=fa;return ca[fa];};}();i=babelHelpers.inherits(aa,o({simpleSelectors:m()}));j=i&&i.prototype;function aa(ca){j.constructor.call(this,ca);this.getSpecificity=c('memoize')(this.getSpecificity.bind(this));this.toString=c('memoize')(this.toString.bind(this));}aa.from=function(ca){return z(ca);};aa.fromJS=function(ca){var da=ca.reverse().map(function(ea){return ba.fromJS(ea);});return new aa({simpleSelectors:m(da)});};aa.prototype.getSpecificity=function(){return this.simpleSelectors.reduce(function(ca,da){return ca+da.getSpecificity();},0);};aa.prototype.toString=function(){return this.simpleSelectors.map(function(ca){return ca.toString();}).reverse().join(q);};k=babelHelpers.inherits(ba,o({attributes:n(),classes:p(),pseudoClasses:p(),type:r}));l=k&&k.prototype;ba.fromJS=function(ca){var da=ca.attributes,ea=ca.classes,fa=ca.pseudoClasses,ga=ca.type;return new ba({attributes:n(da),classes:p(ea),pseudoClasses:p(fa),type:ga});};ba.prototype.getSpecificity=function(){return (this.type!==r)+this.attributes.size*10+this.classes.size*10+this.pseudoClasses.size*10;};ba.prototype.toString=function(){return this.type+this.attributes.sort().reduce(function(ca,da,ea){return ca+('['+ea+'="'+da+'"]');},'')+(this.classes.size?'.'+this.classes.sort().join('.'):'')+(this.pseudoClasses.size?':'+this.pseudoClasses.sort().join(':'):'');};function ba(){k.apply(this,arguments);}f.exports=aa;}),null);
__d('CandelaStyleDescriptors',['invariant','CandelaConstants','ImagePattern.art','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=c('CandelaConstants').COLOR_KEYWORDS,x=c('CandelaConstants').COLOR_KEYWORD_MAP,y=c('React').PropTypes,z=/^(?:rgb|hsl)\((?:\d+%?,\s?){2}\d+%?\)|(?:rgb|hsl)a\((?:\d+%?,\s?){3}(?:\d?\.)?\d+\)|#(?:[a-f0-9]{3}|[a-f0-9]{6})$/,aa=/^(-?(?:\d*\.)?\d+)[a-z%]*$/,ba=/-?(?:\d*\.)?\d+/g,ca=/^url\((['"])?([^'"]+)\1\)$/;function da(la,ma){ma=babelHelpers['extends']({propType:y.any},ma,{name:la});Object.assign(this,ma);}da.prototype.normalize=function(la){var ma;if(la==null)return {};if(la.hasOwnProperty(this.name))return la;var na=this.parse(la);na!==null||h(0);return ma={},ma[this.name]=na,ma;};da.prototype.parse=function(la){return null;};i=babelHelpers.inherits(ea,da);j=i&&i.prototype;function ea(la,ma){ma=babelHelpers['extends']({propType:y.string},ma);j.constructor.call(this,la,ma);}ea.prototype.parse=function(la){if(typeof la==='string'){la=la.trim();var ma=false;if(w.indexOf(la)!==-1){ma=true;}else if(x.hasOwnProperty(la)){ma=true;la=x[la];}else{var na=la.toLowerCase().match(z);if(na){ma=true;la=na[0];}}if(ma)return la;}return j.parse.call(this,la);};k=babelHelpers.inherits(fa,da);l=k&&k.prototype;function fa(la,ma,na){na=babelHelpers['extends']({propType:y.oneOf(ma)},na,{values:ma});l.constructor.call(this,la,na);}fa.prototype.parse=function(la){if(typeof la==='string'){la=la.trim();var ma=this.values.includes(la);if(ma)return la;}return l.parse.call(this,la);};m=babelHelpers.inherits(ga,da);n=m&&m.prototype;function ga(la,ma){ma=babelHelpers['extends']({propType:y.object},ma);n.constructor.call(this,la,ma);}ga.prototype.parse=function(la){var ma=false;if(typeof la==='string'){var na=la.trim().match(ca);if(na){ma=true;la=na[2];}}if(la&&typeof la==='object')ma=la.hasOwnProperty('sprited');if(ma)return new (c('ImagePattern.art'))(la);return n.parse.call(this,la);};o=babelHelpers.inherits(ha,da);p=o&&o.prototype;function ha(la,ma){ma=babelHelpers['extends']({propType:y.number},ma);p.constructor.call(this,la,ma);}ha.prototype.parse=function(la){if(typeof la==='string'){var ma=la.trim().match(aa);if(ma)la=Number(ma[1]);}if(typeof la==='number')return la;return p.parse.call(this,la);};q=babelHelpers.inherits(ia,da);r=q&&q.prototype;function ia(la,ma){ma=babelHelpers['extends']({defaultValue:'',propType:y.string},ma);r.constructor.call(this,la,ma);}ia.prototype.parse=function(la){if(typeof la==='string')return la;return r.parse.call(this,la);};s=babelHelpers.inherits(ja,da);t=s&&s.prototype;function ja(la,ma){ma=babelHelpers['extends']({propType:y.arrayOf(y.number)},ma);t.constructor.call(this,la,ma);}ja.prototype.parse=function(la){if(typeof la==='string'){var ma=la.match(ba);if(ma)la=ma.map(function(na){return Number(na);});}if(typeof la==='number')la=[la];if(Array.isArray(la)){if(la.length%2)la=la.concat(la);if(la.every(function(na){return typeof na==='number';}))return la;}return t.parse.call(this,la);};u=babelHelpers.inherits(ka,da);v=u&&u.prototype;function ka(la,ma,na){var oa=ma.map(function(pa){return pa.propType;});na=babelHelpers['extends']({propType:y.oneOfType(oa)},na,{descriptors:ma,name:la});v.constructor.call(this,la,na);}ka.prototype.normalize=function(la){var ma=this.descriptors.find(function(na){return na.parse(la)!==null;});if(ma)return ma.normalize(la);return v.normalize.call(this,la);};f.exports={ColorStyleDescriptor:ea,EnumStyleDescriptor:fa,ImageStyleDescriptor:ga,MultipleStyleDescriptor:ka,NumberStyleDescriptor:ha,StringStyleDescriptor:ia,StrokeDasharrayStyleDescriptor:ja,StyleDescriptor:da};}),null);
__d('CandelaShorthandStyleDescriptors',['invariant','CandelaStyleDescriptors','nullthrows'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l,m,n,o,p,q=c('CandelaStyleDescriptors').StyleDescriptor,r=/\s*,\s*/,s=/^((?:(?:normal|bold|italic)\s+)*)((?:\d*\.)?\d+)[a-z%]*(?:\/[^\s]+)?\s+(.+)$/,t=/\s+/;i=babelHelpers.inherits(u,q);j=i&&i.prototype;function u(y,z,aa){aa=babelHelpers['extends']({},aa,{descriptors:z,name:y});j.constructor.call(this,y,aa);}u.prototype.normalize=function(y){if(y==null)return {};if(this.descriptors.some(function(aa){var ba=aa.name;return y.hasOwnProperty(ba);}))return y;var z=this.parse(y);z!==null||h(0);return this.descriptors.reduce(function(aa,ba,ca){return (Object.assign(aa,ba.normalize(c('nullthrows')(z)[ca])));},{});};u.prototype.parse=function(y){if(typeof y==='string')y=y.trim().split(t);if(Array.isArray(y)){if(y.length!==this.descriptors.length)y=this.descriptors.map(function(z){return y.find(function(aa){return z.parse(aa)!==null;});});if(y.some(function(z){return z!==null;}))return y;}return j.parse.call(this,y);};k=babelHelpers.inherits(v,u);l=k&&k.prototype;function v(y,z,aa){z.length===4||h(0);l.constructor.call(this,y,z,aa);}v.prototype.parse=function(y){if(typeof y==='string')y=y.trim().split(t);if(typeof y==='number')y=[y];if(Array.isArray(y))if(y.length===1){y=[y[0],y[0],y[0],y[0]];}else if(y.length===2){y=y.concat(y);}else if(y.length===3)y=y.concat(y[1]);return l.parse.call(this,y);};m=babelHelpers.inherits(w,u);n=m&&m.prototype;w.prototype.parse=function(y){var z;if(typeof y==='string'){var z=function(){var aa=y.trim().match(s);if(!aa)return {v:null};var ba=['italic','bold'].map(function(ca){return aa[1]&&aa[1].includes(ca)?ca:'normal';});y=ba.concat(aa.slice(2));}();if(typeof z==="object")return z.v;}return n.parse.call(this,y);};function w(){m.apply(this,arguments);}o=babelHelpers.inherits(x,u);p=o&&o.prototype;function x(y,z,aa){p.constructor.call(this,y,z,aa);this.$TransformFunctionShorthandStyleDescriptor1=new RegExp(y+'\\(([^)]+)\\)');}x.prototype.parse=function(y){if(typeof y==='string'){var z=y.match(this.$TransformFunctionShorthandStyleDescriptor1);if(!z)return null;y=z[1].trim().split(r);}return p.parse.call(this,y);};f.exports={BoxShorthandStyleDescriptor:v,FontShorthandStyleDescriptor:w,ShorthandStyleDescriptor:u,TransformFunctionShorthandStyleDescriptor:x};}),null);
__d('CandelaStyles',['CandelaPlatformConstants','CandelaConstants','immutable','CandelaShorthandStyleDescriptors','CandelaStyleDescriptors','getObjectValues','isEmpty','memoize','memoizeStringOnly','nullthrows'],(function a(b,c,d,e,f,g){'use strict';var h=c('CandelaPlatformConstants').DEFAULT_FONT_FAMILY,i=c('immutable').Map,j=c('CandelaShorthandStyleDescriptors').BoxShorthandStyleDescriptor,k=c('CandelaShorthandStyleDescriptors').FontShorthandStyleDescriptor,l=c('CandelaShorthandStyleDescriptors').ShorthandStyleDescriptor,m=c('CandelaShorthandStyleDescriptors').TransformFunctionShorthandStyleDescriptor,n=c('CandelaStyleDescriptors').ColorStyleDescriptor,o=c('CandelaStyleDescriptors').EnumStyleDescriptor,p=c('CandelaStyleDescriptors').ImageStyleDescriptor,q=c('CandelaStyleDescriptors').MultipleStyleDescriptor,r=c('CandelaStyleDescriptors').NumberStyleDescriptor,s=c('CandelaStyleDescriptors').StringStyleDescriptor,t=c('CandelaStyleDescriptors').StrokeDasharrayStyleDescriptor,u=c('CandelaStyleDescriptors').StyleDescriptor,v=c('CandelaConstants').Style,w=c('CandelaConstants').TransformFunction,x=c('memoizeStringOnly')(function(ca){switch(ca){case v.BACKGROUND_COLOR:case v.BORDER_BOTTOM_COLOR:case v.BORDER_LEFT_COLOR:case v.BORDER_RIGHT_COLOR:case v.BORDER_TOP_COLOR:case v.STROKE:return new n(ca);case v.BORDER_BOTTOM_STYLE:case v.BORDER_LEFT_STYLE:case v.BORDER_RIGHT_STYLE:case v.BORDER_TOP_STYLE:return new o(ca,['dashed','dotted','none','solid'],{defaultValue:'none'});case v.FILL:return new q(ca,[new n(ca),new p(ca)]);case v.BORDER_BOTTOM_WIDTH:case v.BORDER_LEFT_WIDTH:case v.BORDER_RIGHT_WIDTH:case v.BORDER_TOP_WIDTH:case v.HEIGHT:case v.MARGIN_TOP:case v.MARGIN_RIGHT:case v.MARGIN_BOTTOM:case v.MARGIN_LEFT:case v.ORIGIN_X:case v.ORIGIN_Y:case v.PADDING_TOP:case v.PADDING_RIGHT:case v.PADDING_BOTTOM:case v.PADDING_LEFT:case v.RADIUS:case v.ROTATION:case v.SCALE_X:case v.SCALE_Y:case v.STROKE_WIDTH:case v.WIDTH:return new r(ca,{defaultValue:0});case v.BOTTOM:case v.LEFT:case v.MAX_HEIGHT:case v.MAX_WIDTH:case v.MIN_HEIGHT:case v.MIN_WIDTH:case v.RIGHT:case v.TOP:return new r(ca);case v.COLOR:return new n(ca,{defaultValue:'black'});case v.CONTENT:return new s(ca);case v.CURSOR:return new o(ca,['default','move','pointer'],{defaultValue:'default'});case v.FONT_FAMILY:return new s(ca,{defaultValue:h});case v.FONT_SIZE:return new r(ca,{defaultValue:10});case v.FONT_STYLE:return new o(ca,['italic','normal'],{defaultValue:'normal'});case v.FONT_WEIGHT:return new o(ca,['bold','normal'],{defaultValue:'normal'});case v.OPACITY:return new r(ca,{defaultValue:1});case v.POSITION:return new o(ca,['absolute','auto'],{defaultValue:'auto'});case v.STROKE_DASHARRAY:return new t(ca);case v.STROKE_LINECAP:return new o(ca,['butt','round','square'],{defaultValue:'square'});case v.TEXT_ALIGN:return new o(ca,['center','left','right'],{defaultValue:'left'});case v.VISIBILITY:return new o(ca,['hidden','visible'],{defaultValue:'visible'});case v.WHITE_SPACE:return new o(ca,['normal','nowrap'],{defaultValue:'nowrap'});case v.BACKGROUND:return new l(ca,[x(v.BACKGROUND_COLOR)]);case v.BORDER:return new l(ca,[x(v.BORDER_WIDTH),x(v.BORDER_STYLE),x(v.BORDER_COLOR)]);case v.BORDER_BOTTOM:return new l(ca,[x(v.BORDER_BOTTOM_WIDTH),x(v.BORDER_BOTTOM_STYLE),x(v.BORDER_BOTTOM_COLOR)]);case v.BORDER_COLOR:return new j(ca,[x(v.BORDER_TOP_COLOR),x(v.BORDER_RIGHT_COLOR),x(v.BORDER_BOTTOM_COLOR),x(v.BORDER_LEFT_COLOR)]);case v.BORDER_LEFT:return new l(ca,[x(v.BORDER_LEFT_WIDTH),x(v.BORDER_LEFT_STYLE),x(v.BORDER_LEFT_COLOR)]);case v.BORDER_RIGHT:return new l(ca,[x(v.BORDER_RIGHT_WIDTH),x(v.BORDER_RIGHT_STYLE),x(v.BORDER_RIGHT_COLOR)]);case v.BORDER_STYLE:return new j(ca,[x(v.BORDER_TOP_STYLE),x(v.BORDER_RIGHT_STYLE),x(v.BORDER_BOTTOM_STYLE),x(v.BORDER_LEFT_STYLE)]);case v.BORDER_TOP:return new l(ca,[x(v.BORDER_TOP_WIDTH),x(v.BORDER_TOP_STYLE),x(v.BORDER_TOP_COLOR)]);case v.BORDER_WIDTH:return new j(ca,[x(v.BORDER_TOP_WIDTH),x(v.BORDER_RIGHT_WIDTH),x(v.BORDER_BOTTOM_WIDTH),x(v.BORDER_LEFT_WIDTH)]);case v.FONT:return new k(ca,[x(v.FONT_STYLE),x(v.FONT_WEIGHT),x(v.FONT_SIZE),x(v.FONT_FAMILY)]);case v.MARGIN:return new j(ca,[x(v.MARGIN_TOP),x(v.MARGIN_RIGHT),x(v.MARGIN_BOTTOM),x(v.MARGIN_LEFT)]);case v.PADDING:return new j(ca,[x(v.PADDING_TOP),x(v.PADDING_RIGHT),x(v.PADDING_BOTTOM),x(v.PADDING_LEFT)]);case v.TRANSFORM:return new l(ca,[new m(w.ROTATE,[x(v.ROTATION)]),new m(w.SCALE,[x(v.SCALE_X),x(v.SCALE_Y)]),new m(w.SCALE_X,[x(v.SCALE_X)]),new m(w.SCALE_Y,[x(v.SCALE_Y)])]);case v.TRANSFORM_ORIGIN:return new l(ca,[x(v.ORIGIN_X),x(v.ORIGIN_Y)]);case v.TEXT_OVERFLOW:return new o(ca,['none','clip','ellipsis'],{defaultValue:'none'});}}),y=c('memoizeStringOnly')(function(ca){return i().withMutations(function(da){var ea=x(ca);if(ea)if(ea instanceof l){ea.descriptors.forEach(function(fa){da.merge(y(fa.name));});}else if(ea.defaultValue!=null)da.set(ea.name,ea.defaultValue);});}),z=c('memoizeStringOnly')(function(ca){var da={},ea=x(ca);if(ea){if(ea instanceof l)return Object.assign.apply(Object,[da].concat(ea.descriptors.map(function(fa){return z(fa.name);})));da[ea.name]=ea.propType;}return da;}),aa=c('memoize')(function(){return i().withMutations(function(ca){c('getObjectValues')(v).forEach(function(da){return ca.merge(y(da));});});}),ba=c('memoize')(function(){return Object.assign.apply(Object,[{}].concat(c('getObjectValues')(v).map(function(ca){return z(ca);})));});f.exports={get:function ca(da){return c('nullthrows')(x(da));},getDefaultValues:function ca(){for(var da=arguments.length,ea=Array(da),fa=0;fa<da;fa++)ea[fa]=arguments[fa];if(c('isEmpty')(ea))return aa();return i().withMutations(function(ga){ea.forEach(function(ha){return ga.merge(y(ha));});});},getPropTypes:function ca(){for(var da=arguments.length,ea=Array(da),fa=0;fa<da;fa++)ea[fa]=arguments[fa];if(c('isEmpty')(ea))return ba();return Object.assign.apply(Object,[{}].concat(ea.map(function(ga){return z(ga);})));}};}),null);
__d('CandelaStyleSheet',['immutable','CandelaSelector','CandelaStyles','forEachObject'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').Map,k=c('immutable').OrderedMap,l=c('immutable').Record,m='*';function n(t,u){return !t.attributes.size||t.attributes.every(function(v,w){return (u!=null&&u.attributes.get(w)===v);});}function o(t,u){return !t.classes.size||t.classes.every(function(v){return (u!=null&&u.classes.contains(v));});}function p(t,u){return !t.pseudoClasses.size||t.pseudoClasses.every(function(v){return (u!=null&&u.pseudoClasses.contains(v));});}function q(t,u){return t.type===m||u!=null&&t.type===u.type;}function r(t){return j().withMutations(function(u){Object.keys(t).forEach(function(v){u.merge(c('CandelaStyles').get(v).normalize(t[v]));});});}h=babelHelpers.inherits(s,l({styleSheet:k()}));i=h&&h.prototype;s.fromJS=function(t){var u=k().withMutations(function(v){c('forEachObject')(t,function(w,x){var y=r(w),z=c('CandelaSelector').from(x);if(v.has(z))y=v.get(z).merge(y);v.set(z,y);});});return new s({styleSheet:u});};s.prototype.computeStyle=function(t){return this.styleSheet.filter(function(u,v){if(v===t)return true;return v.simpleSelectors.every(function(w,x){var y=t.simpleSelectors.get(x);return q(w,y)&&n(w,y)&&o(w,y)&&p(w,y);});}).sortBy(function(u,v){return v;},function(u,v){return u.getSpecificity()-v.getSpecificity();}).reduce(function(u,v){return u.merge(v);},c('CandelaStyles').getDefaultValues()).toJS();};s.prototype.extend=function(t){return this.mergeDeep(s.fromJS(t));};function s(){h.apply(this,arguments);}f.exports=s;}),null);
__d('VideoInstreamUtils',['cssVar','cx','fbt','CandelaStyleSheet','DateConsts','immutable','React','VideoInstreamAdsConstants'],(function a(b,c,d,e,f,g,h,i,j){var k=c('immutable').OrderedSet,l={convertFormattedTimeToSeconds:function m(n){var o=0,p=n.split('.');if(p.length>2)return null;if(p.length===2){if(p[1].length===0)return null;var q=p[1];while(q.length<3)q+='0';var r=Number(q);if(isNaN(r)||r<0||r>=c('DateConsts').MS_PER_SEC)return null;o+=r/c('DateConsts').MS_PER_SEC;}var s=p[0].split(':');if(s.length>3)return null;for(var t=0;t<s.length;t++){if(s[t].length===0)return null;var u=Number(s[t]);if(isNaN(u)||u<0||u>=60)return null;o+=u*Math.pow(60,s.length-t-1);}return o;},convertTimestampToFormattedTime:function m(n){n=Math.round(n*c('DateConsts').MS_PER_SEC)/c('DateConsts').MS_PER_SEC;var o=Math.floor(n/c('DateConsts').SEC_PER_HOUR),p=n-o*c('DateConsts').SEC_PER_HOUR,q=Math.floor(p/c('DateConsts').SEC_PER_MIN),r=Math.floor(p-q*c('DateConsts').SEC_PER_MIN),s=Math.round(p*c('DateConsts').MS_PER_SEC),t=('0'+o).slice(-2),u=('0'+q).slice(-2),v=('0'+r).slice(-2),w=('00'+s).slice(-3),x='';if(o>0)x+=t+':';return x+=u+':'+v+'.'+w;},isValidFormattedTime:function m(n,o){var p=this.convertFormattedTimeToSeconds(n);if(p===null||p>o)return false;return true;},getAdBreakLegend:function m(n){if(n===0)return new k([]);var o=j._({"*":"{number} Ad Breaks","268435456":"1 Ad Break"},[j.plural(n,'number')]);return (k([{key:'avg',label:o,richLabel:c('React').createElement('span',{className:"_4qxx"},o)}]));},getAdBreaksAnnotationStyle:function m(){return c('CandelaStyleSheet').fromJS({annotationanchor:{fill:"#13bda6",radius:3,stroke:"#13bda6",strokeLinecap:'round',strokeWidth:2}});},getMaxPossibleAdBreaks:function m(n){var o=n*c('DateConsts').MS_PER_SEC;if(o<c('VideoInstreamAdsConstants').AD_INSERTION_MINIMUM_VIDEO_LENGTH_MS)return 0;var p=(o-c('VideoInstreamAdsConstants').AD_INSERTION_END_TIME_OFFSET_MS-c('VideoInstreamAdsConstants').AD_INSERTION_START_TIME_OFFSET_MS)/c('VideoInstreamAdsConstants').AD_INSERTION_INTERVAL_MS;return Math.max(0,Math.floor(p)+1);},getEligibleTimeSegments:function m(n,o){if(l.getMaxPossibleAdBreaks(o)===0)return [];var p=c('VideoInstreamAdsConstants').AD_INSERTION_START_TIME_OFFSET_MS/c('DateConsts').MS_PER_SEC,q=o-c('VideoInstreamAdsConstants').AD_INSERTION_END_TIME_OFFSET_MS/c('DateConsts').MS_PER_SEC,r=c('VideoInstreamAdsConstants').AD_INSERTION_INTERVAL_MS/c('DateConsts').MS_PER_SEC;if(n.length===0)return [{start:p,end:q}];var s=[];n.forEach(function(t,u){if(u===0){var v=t.timeOffset-r;if(v>=p)s.push({start:p,end:v});}if(u-1>=0){var w=n[u-1].timeOffset+r,x=t.timeOffset-r;if(w<=x)s.push({start:w,end:x});}if(u===n.length-1){var y=t.timeOffset+r;if(y<=q)s.push({start:y,end:q});}});return s;},isInEligibleTimeSegments:function m(n,o,p){if(n===null||n===undefined)return false;var q=l.getEligibleTimeSegments(p,o);for(var r=0;r<q.length;r++)if(n>=q[r].start&&n<=q[r].end)return true;return false;},shouldDisableAdInsertionTab:function m(n,o){if(n||l.getMaxPossibleAdBreaks(o)===0)return true;return false;}};f.exports=l;}),null);
__d('VideoScrubberPreviewSpriteCalculation',[],(function a(b,c,d,e,f,g){var h={getImageCoordinatesInSpriteByTime:function i(j,k){var l=this.getTotalTimeInSprite(k.maxImagesPerSprite,k.timeIntervalBetweenImages),m=Math.floor(j%l/k.timeIntervalBetweenImages),n=Math.floor(m/k.imagesPerRow),o=m%k.imagesPerRow;return {x:o*k.previewScrubberWidth,y:n*k.previewScrubberHeight};},getSpriteIndex:function i(j,k,l){var m=this.getTotalTimeInSprite(k,l);return Math.floor(j/m)+1;},getTotalTimeInSprite:function i(j,k){return j*k;}};f.exports=h;}),null);
__d('EmbeddedVideoScrubber.react',['cx','fbt','EmbeddedVideoScrubberPointOfInterestBar.react','EventListener','Keys','Map','EmbeddedVideoPlaybackTimer.react','React','ReactDOM','VideoScrubberPreviewSpriteCalculation','VideoStereoFormat','JSResource','BootloadedComponent.react','VideoInstreamUtils','VideoPlayerUIComponentDrawer','emptyFunction','getElementPosition','joinClasses','shallowCompare'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){'use strict';k.constructor.call(this,n);this.$EmbeddedVideoScrubber4=new (c('Map'))();this.$EmbeddedVideoScrubber4.set(0,'');this.$EmbeddedVideoScrubber7=0;this.state={awaitingUpdate:false,barCoords:{x:0,y:0,height:0,width:0},mouseOver:false,nubEngaged:false,previewRatio:0,scrubRatio:0,timecodeRatio:0,timecodeTimestamp:0,scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0},previewThumbnailInformation:{timeIntervalBetweenImages:0,maxImagesPerSprite:0,imagesPerRow:0,imagesPerColumn:0,previewScrubberWidth:0,previewScrubberHeight:0,stereoMode:null,scrubberVideoURI:null,useScrubberVideo:false},lastSpriteDimension:{numRow:0,numColumn:0}};}m.prototype.shouldComponentUpdate=function(n,o){'use strict';return c('shallowCompare')(this,n,o);};m.prototype.onDragNubBegin=function(n){'use strict';if(n.button!==0)return;this.setState({nubEngaged:true,scrubRatio:this.getPositionRatio(n.clientX,this.state.barCoords)});this.props.onScrubBegin&&this.props.onScrubBegin();n.stopPropagation();n.preventDefault();};m.prototype.componentWillReceiveProps=function(n){'use strict';this.setState({awaitingUpdate:false});if(this.props.alwaysShowThumbnail){var o=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.bar));this.setState({barCoords:o});this.$EmbeddedVideoScrubber6=null;this.$EmbeddedVideoScrubber5=null;this.timecodeUpdate(o.x+o.width*this.getPlayedRatio(n.playbackDuration,n.playbackPosition));}};m.prototype.componentDidUpdate=function(n,o){'use strict';if(!o.nubEngaged&&this.state.nubEngaged){this.$EmbeddedVideoScrubber1=c('EventListener').listen(document,'mousemove',function(p){this.onDragNubUpdate(p);this.onTimecodeUpdate(p);}.bind(this));this.$EmbeddedVideoScrubber2=c('EventListener').listen(document,'mouseup',this.onDragNubRelease.bind(this));}else if(o.nubEngaged&&!this.state.nubEngaged){if(this.$EmbeddedVideoScrubber1)this.$EmbeddedVideoScrubber1.remove();if(this.$EmbeddedVideoScrubber2)this.$EmbeddedVideoScrubber2.remove();}if(!o.mouseOver&&this.state.mouseOver){this.$EmbeddedVideoScrubber3=c('EventListener').listen(document,'mousemove',this.onTimecodeUpdate.bind(this));}else if(o.mouseOver&&!this.state.mouseOver)if(this.$EmbeddedVideoScrubber3)this.$EmbeddedVideoScrubber3.remove();};m.prototype.timecodeUpdate=function(n){'use strict';var o=this.props.playbackDuration;if(!o)return;var p=this.getPositionRatio(n,this.state.barCoords)*o,q=this.$EmbeddedVideoScrubber5?this.$EmbeddedVideoScrubber5:c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.timecode));this.$EmbeddedVideoScrubber5=q;if(!this.props.hasScrubberPreview){var r=this.getPositionRatio(n,this.state.barCoords)-Math.ceil(q.width/2)/this.state.barCoords.width;this.setState({timecodeTimestamp:p,timecodeRatio:r});}else if(this.props.previewThumbnailInformation){if(this.state.previewThumbnailInformation.previewScrubberWidth===0)this.retrievePreviewThumbnailInfo();c('ReactDOM').unstable_batchedUpdates(function(){if(this.state.previewThumbnailInformation.useScrubberVideo&&this.state.previewThumbnailInformation.scrubberVideoURI!==null){this.updatePreviewThumbnailVideo(p,q,n);}else if(this.props.scrubberPreviewSprites)this.updatePreviewThumbnail(this.props.scrubberPreviewSprites,p,q,n);}.bind(this));}};m.prototype.onTimecodeUpdate=function(n){'use strict';this.timecodeUpdate(n.clientX);n.preventDefault();n.stopPropagation();};m.prototype.updatePreviewThumbnail=function(n,o,p,q){'use strict';this.setState({timecodeTimestamp:o});var r=Math.floor(o),s=this.$EmbeddedVideoScrubber4;if(!this.isSpriteMapURIFetched())this.$EmbeddedVideoScrubber4=n;if(this.state.previewThumbnailInformation){var t=this.state.previewThumbnailInformation;this.updatePreviewThumbnailImage(r,t,s);}this.updatePreviewThumbnailLocation(p,q);};m.prototype.updatePreviewThumbnailVideo=function(n,o,p){'use strict';this.setState({timecodeTimestamp:n});var q=c('ReactDOM').findDOMNode(this.refs.previewThumbnailVideo);q.currentTime=n/30;this.updatePreviewThumbnailLocation(o,p);};m.prototype.updatePreviewThumbnailLocation=function(n,o){'use strict';var p=this.$EmbeddedVideoScrubber6?this.$EmbeddedVideoScrubber6:this.$EmbeddedVideoScrubber6=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.previewThumbnailContainer));this.$EmbeddedVideoScrubber6=p;var q=this.getPositionRatio(o,this.state.barCoords)-Math.ceil(p.width/2)/this.state.barCoords.width,r=(p.width-n.width)/(2*p.width);this.setState({timecodeRatio:r,previewRatio:q});};m.prototype.updatePreviewThumbnailImage=function(n,o,p){var q,r=this;'use strict';var s=c('VideoScrubberPreviewSpriteCalculation').getImageCoordinatesInSpriteByTime(n,o),t=c('VideoScrubberPreviewSpriteCalculation').getSpriteIndex(n,o.maxImagesPerSprite,o.timeIntervalBetweenImages);if(t==this.getNumberOfSprites()&&this.state.lastSpriteDimension.numRow==0&&this.$EmbeddedVideoScrubber4)(function(){var u=r.$EmbeddedVideoScrubber4.get(t),v=new Image(),w=r.onLastImageLoad.bind(r);v.onload=function(){w(this.width,this.height);};v.src=u;})();this.setState({scrubberPreviewSpriteIndex:t,scrubberPreviewBackgroundPosition:s});};m.prototype.onLastImageLoad=function(n,o){'use strict';this.setState({lastSpriteDimension:{numRow:o/this.state.previewThumbnailInformation.previewScrubberHeight,numColumn:n/this.state.previewThumbnailInformation.previewScrubberWidth}});};m.prototype.retrievePreviewThumbnailInfo=function(){'use strict';this.setState({previewThumbnailInformation:this.props.previewThumbnailInformation});};m.prototype.isSpriteMapURIFetched=function(){'use strict';if(this.$EmbeddedVideoScrubber4){return this.$EmbeddedVideoScrubber4.size>1;}else return false;};m.prototype.getPositionRatio=function(n,o){'use strict';var p=n-o.x,q=p/o.width;return Math.min(Math.max(0,q),1);};m.prototype.onDragNubUpdate=function(n){'use strict';this.setState({scrubRatio:this.getPositionRatio(n.clientX,this.state.barCoords)});};m.prototype.onDragNubRelease=function(n){'use strict';var o=this.props.playbackDuration;if(!o)return;var p=this.state.awaitingUpdate;if(this.props.onScrubEnd){this.props.onScrubEnd(this.state.scrubRatio*o);p=true;}this.setState({nubEngaged:false,awaitingUpdate:p});n.preventDefault();n.stopPropagation();};m.prototype.getPlayedRatio=function(n,o){'use strict';if(this.state.nubEngaged||this.state.awaitingUpdate)return this.state.scrubRatio;if(!n||!o)return 0;var p=o/n;return this.getRangeLimitedRatio(p);};m.prototype.getBufferedRatio=function(){'use strict';var n=this.props.playbackDuration,o=this.props.bufferedPosition;if(!n||!o)return 0;var p=o/n;return this.getRangeLimitedRatio(p);};m.prototype.getRangeLimitedRatio=function(n){'use strict';if(isNaN(n)||n<0||n>1)return 0;return n;};m.prototype.getNumberOfSprites=function(){'use strict';if(this.$EmbeddedVideoScrubber4)return this.$EmbeddedVideoScrubber4.size;return 0;};m.prototype.getAdBreakIndicators=function(){'use strict';if(!this.props.playbackDuration||!this.props.adBreaksTimeOffset)return null;var n=[];for(var o=0;o<this.props.adBreaksTimeOffset.length;o++){var p=this.props.adBreaksTimeOffset[o],q=this.props.playbackDuration;if(p<0||p>q)continue;var r={left:p/q*100+'%'};n.push(c('React').createElement('div',{key:'ad_break_indicator_'+o,style:r,className:"_5z5n"}));}return c('React').createElement('div',null,n);};m.prototype.getInsertedAdBreaks=function(){'use strict';if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;var n=[];this.props.insertedAdBreaks.map(function(o,p){var q=o.timeOffset,r=this.props.playbackDuration,s={left:q/r*100-1.4+'%'};n.push(c('React').createElement('div',{key:'inserted_ad_break'+p,style:s,className:"_2d49"+(this.props.isAdBreakDisabled?' '+"_9ob":'')},p+1));}.bind(this));return c('React').createElement('div',null,n);};m.prototype.getEligibleAdBreaksTimeSegments=function(){'use strict';if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;var n=0;if(this.state.awaitingUpdate){n=this.$EmbeddedVideoScrubber7;}else n=this.props.playbackPosition;var o=this.props.playbackDuration,p=c('VideoInstreamUtils').getEligibleTimeSegments(this.props.insertedAdBreaks,o);if(this.state.nubEngaged){this.$EmbeddedVideoScrubber7=this.state.timecodeTimestamp;}else this.$EmbeddedVideoScrubber7=n;var q=[];p.forEach(function(r,s){var t=Math.max(2,(r.end-r.start)/o*100),u=this.$EmbeddedVideoScrubber7>=r.start&&this.$EmbeddedVideoScrubber7<=r.end;if(u){var v={left:'calc('+r.start/o*100+'% - 12px)',width:'calc('+t+'% + 16px)'};q.push(c('React').createElement('span',{key:'time_segment'+s,className:"_2xts",style:v}));}else{var w={left:'calc('+r.start/o*100+'% - 10px)',width:'calc('+t+'% + 16px)'};q.push(c('React').createElement('span',{key:'time_segment'+s,className:"_2xtr",style:w}));}}.bind(this));return (c('React').createElement('div',{className:"_44bi"},q));};m.prototype.onMouseEnter=function(n){'use strict';if(this.props.alwaysShowThumbnail)return;var o=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.bar));this.setState({mouseOver:true,barCoords:o});};m.prototype.onMouseLeave=function(n){'use strict';if(this.props.alwaysShowThumbnail)return;c('ReactDOM').findDOMNode(this.refs.bar).blur();c('ReactDOM').unstable_batchedUpdates(function(){this.setState({mouseOver:false});if(!this.state.nubEngaged)this.setState({scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0}});}.bind(this));this.$EmbeddedVideoScrubber6=null;this.$EmbeddedVideoScrubber5=null;};m.prototype.onMouseEnterOnThumbnailOrTimecode=function(n){'use strict';if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;var o=void 0;if(this.props.hasScrubberPreview){o=this.refs.previewThumbnailContainer;}else o=this.refs.timecode;var p=c('ReactDOM').findDOMNode(o);p.style.visibility='hidden';};m.prototype.onMouseLeaveOnThumbnailOrTimecode=function(n){'use strict';if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;var o=void 0;if(this.props.hasScrubberPreview){o=this.refs.previewThumbnailContainer;}else o=this.refs.timecode;var p=c('ReactDOM').findDOMNode(o);p.style.visibility='visible';};m.prototype.onKeyDown=function(n){'use strict';var o=this.props.playbackDuration,p=this.props.playbackPosition;if(!o||!p)return;var q=p;if(n.keyCode===c('Keys').RIGHT){n.preventDefault();n.stopPropagation();q+=5;if(q>=o)q=o-.01;}else if(n.keyCode===c('Keys').LEFT){n.preventDefault();n.stopPropagation();q-=5;if(q<0)q=0;}else if(n.keyCode===c('Keys').HOME){n.preventDefault();n.stopPropagation();q=0;}else if(n.keyCode===c('Keys').END){n.preventDefault();n.stopPropagation();q=o-.01;}else return;if(this.props.onScrubEnd)this.props.onScrubEnd(q);};m.prototype.canShowHeatmap=function(){'use strict';return this.props.interestLevels!=null&&this.props.isPlaying!=null&&this.props.controlsHidden!=null&&this.props.drawer!=null;};m.prototype.render=function(){'use strict';var n=c('joinClasses')(this.props.className,"_gn0"+(this.state.nubEngaged?' '+"_gn1":'')),o=(this.props.hasScrubberPreview?"_24wr":'')+(!this.props.hasScrubberPreview?' '+"_4irh":''),p={width:this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)*100+'%'},q={width:this.getBufferedRatio()*100+'%'},r={left:this.state.timecodeRatio*100+'%'},s={},t={},u=null,v=null,w=null;if(this.state.mouseOver||this.state.nubEngaged||this.props.alwaysShowThumbnail){w=c('React').createElement(c('EmbeddedVideoPlaybackTimer.react'),{className:o,isInScrubberPreview:true,onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),playbackPosTimestamp:0,ref:'timecode',remainingTimestamp:this.state.timecodeTimestamp,style:r});if(this.props.hasScrubberPreview&&this.state.previewThumbnailInformation){var x=this.state.previewThumbnailInformation.previewScrubberWidth,y=this.state.previewThumbnailInformation.previewScrubberHeight,z=100,aa=100;if(this.getNumberOfSprites()!==this.state.scrubberPreviewSpriteIndex){z*=this.state.previewThumbnailInformation.imagesPerRow;aa*=this.state.previewThumbnailInformation.imagesPerColumn;}else if(this.state.lastSpriteDimension.numRow){z*=this.state.lastSpriteDimension.numRow;aa*=this.state.lastSpriteDimension.numColumn;}var ba=this.state.previewThumbnailInformation.stereoMode;if(ba===c('VideoStereoFormat').LEFT_RIGHT){x/=2;z*=2;}else if(ba===c('VideoStereoFormat').TOP_BOTTOM){y/=2;aa*=2;}var ca=1;if(this.props.isFullscreen)ca=2;if(this.state.previewThumbnailInformation.useScrubberVideo&&this.state.previewThumbnailInformation.scrubberVideoURI!==null){s={width:x*ca+'px',height:y*ca+'px'};v=c('React').createElement('video',{muted:'true',preload:'auto',ref:'previewThumbnailVideo',src:this.state.previewThumbnailInformation.scrubberVideoURI,style:s});}else if(this.$EmbeddedVideoScrubber4){var da='';if(this.state.scrubberPreviewSpriteIndex){var ea=this.$EmbeddedVideoScrubber4.get(this.state.scrubberPreviewSpriteIndex);if(ea)da='url('+ea+')';}var fa=void 0;if(z>100){fa=z+'% '+aa+'%';}else da='';s={width:x*ca+'px',height:y*ca+'px',backgroundImage:da,backgroundPosition:'-'+this.state.scrubberPreviewBackgroundPosition.x*ca+'px '+'-'+this.state.scrubberPreviewBackgroundPosition.y*ca+'px',backgroundSize:fa};v=c('React').createElement('div',{className:"_24wt",ref:'previewThumbnail',style:s});}t={left:this.state.previewRatio*100+'%',display:this.props.alwaysShowThumbnail?'block':undefined};u=c('React').createElement('div',{onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),className:"_24ws",ref:'previewThumbnailContainer',style:t},v,w);}}var ga=null;if(this.props.pointsOfInterest.length>0)ga=c('React').createElement(c('EmbeddedVideoScrubberPointOfInterestBar.react'),{tabIndex:this.props.tabIndex,playbackDuration:this.props.playbackDuration,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest});var ha=this.getAdBreakIndicators(),ia=null;if(this.canShowHeatmap()){var ja=this.props.hasScrubberPreview?u:w,ka=null;if(ja!=null)ka=this.refs[ja.ref];ia=c('React').createElement('div',{className:"_27ew"},c('React').createElement('div',{className:"_5h19",style:p},c('React').createElement('div',{className:"_gn5 _5ixx",ref:'nub'})),c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('LiveHeatmap.react').__setRef('EmbeddedVideoScrubber.react'),bootloadPlaceholder:c('React').createElement('div',null),controlsHidden:this.props.controlsHidden,drawer:this.props.drawer,interestLevels:this.props.interestLevels,isPlaying:this.props.isPlaying,playedRatio:this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition),bufferedRatio:this.getBufferedRatio(),nubEngaged:this.state.nubEngaged,scrubberPreviewElement:ka,ref:'bar',tabIndex:this.props.tabIndex,'aria-label':i._("Change Position")}),ja,ha);}var la=this.props.playbackDuration>500?10:1,ma=Math.round(this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)*100*la)/la,na=ma+'%',oa=c('React').createElement('div',{onMouseDown:this.onDragNubBegin.bind(this),onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onKeyDown:this.onKeyDown.bind(this),className:n},ia?ia:c('React').createElement('div',{tabIndex:this.props.tabIndex,role:'slider','aria-orientation':'horizontal','aria-valuemin':'0','aria-valuemax':this.props.playbackDuration,'aria-valuenow':this.props.playbackPosition,'aria-valuetext':na,'aria-label':i._("Change Position"),className:"_gn2",ref:'bar'},c('React').createElement('div',{className:"_gn3",style:q}),c('React').createElement('div',{style:p,className:"_gn4"},c('React').createElement('div',{className:"_gn5 _5ixx",ref:'nub'})),this.props.hasScrubberPreview?u:w,ha,this.getInsertedAdBreaks(),this.getEligibleAdBreaksTimeSegments()));return (c('React').createElement('div',null,oa,ga));};m.propTypes={alwaysShowThumbnail:l.bool,bufferedPosition:l.number.isRequired,hasScrubberPreview:l.bool,isFullscreen:l.bool,onScrubBegin:l.func.isRequired,onPointOfInterestSelect:l.func,onScrubEnd:l.func.isRequired,playbackDuration:l.number.isRequired,playbackPosition:l.number.isRequired,pointsOfInterest:l.array,previewThumbnailInformation:l.object,scrubberPreviewSprites:l.object,tabIndex:l.string.isRequired};m.defaultProps={alwaysShowThumbnail:false,hasScrubberPreview:false,pointsOfInterest:[],onPointOfInterestSelect:c('emptyFunction'),onScrubBegin:c('emptyFunction'),onScrubEnd:c('emptyFunction')};f.exports=m;}),null);
__d('EmbeddedVideoSidepaneToggleControl.react',['ix','cx','fbt','AbstractButton.react','Image.react','React','TooltipData','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').PureComponent);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.onButtonClick=function(){this.props.onSidePaneToggle();}.bind(this),p;}n.prototype.render=function(){var o=this.props.isSidePaneOpen?j._("Click to hide details"):j._("Click to show details"),p=this.props.isSidePaneOpen?h("114795"):h("114783");return (c('React').createElement(c('AbstractButton.react'),babelHelpers['extends']({className:"_3u33"},c('TooltipData').propsFor(o,'above'),{image:c('React').createElement(c('Image.react'),{className:"_345n",src:p}),onClick:this.onButtonClick,ref:'button',tabIndex:this.props.tabIndex,type:'button'})));};n.propTypes={isSidePaneOpen:m.bool,onSidePaneToggle:m.func,tabIndex:m.string};f.exports=n;}),null);
__d('EmbeddedVideoVolumeSlider.react',['cx','EventListener','React','ReactDOM','getElementPosition','shallowCompare'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){'use strict';j.constructor.call(this,m);this.state={awaitingUpdate:false,engaged:false,volume:m.volume};}l.prototype.shouldComponentUpdate=function(m,n){'use strict';return c('shallowCompare')(this,m,n);};l.prototype.componentWillReceiveProps=function(m){'use strict';this.setState({awaitingUpdate:false});};l.prototype.componentDidUpdate=function(m,n){'use strict';if(!this.state.engaged&&n.engaged){if(this.$EmbeddedVideoVolumeSlider2)this.$EmbeddedVideoVolumeSlider2.remove();if(this.$EmbeddedVideoVolumeSlider1)this.$EmbeddedVideoVolumeSlider1.remove();}else if(this.state.engaged&&!n.engaged){this.$EmbeddedVideoVolumeSlider1=c('EventListener').listen(document,'mousemove',this.onMouseMove.bind(this));this.$EmbeddedVideoVolumeSlider2=c('EventListener').listen(document,'mouseup',this.onMouseUp.bind(this));}};l.prototype.onMouseDown=function(m){'use strict';if(m.button!==0)return;this.props.onVolumeChangeBegin&&this.props.onVolumeChangeBegin(this.state.volume);if(this.props.isHorizontal){this.setState({engaged:true,volume:this.getClampedClickPositionVolume(m.clientX)});}else this.setState({engaged:true,volume:this.getClampedClickPositionVolume(m.clientY)});m.preventDefault();m.stopPropagation();};l.prototype.getClampedClickPositionVolume=function(m){'use strict';var n=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.slider)),o=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.nub)).height;if(this.props.isHorizontal){var p=m+o/2-n.x;return Math.max(0,Math.min(1,p/n.width));}else{var q=n.y-m+n.height+o/2;return Math.max(0,Math.min(1,q/n.height));}};l.prototype.onMouseUp=function(m){'use strict';this.props.onVolumeChangeEnd&&this.props.onVolumeChangeEnd(this.state.volume);this.setState({engaged:false,awaitingUpdate:true});m.preventDefault();m.stopPropagation();};l.prototype.onMouseMove=function(m){'use strict';if(this.props.isHorizontal){this.setState({volume:this.getClampedClickPositionVolume(m.clientX)});}else this.setState({volume:this.getClampedClickPositionVolume(m.clientY)});this.props.onVolumeChange&&this.props.onVolumeChange(this.state.volume);m.preventDefault();m.stopPropagation();};l.prototype.getVolume=function(){'use strict';if(this.state.engaged||this.state.awaitingUpdate)return this.state.volume;return this.props.volume;};l.prototype.render=function(){'use strict';var m=this.props.isHorizontal||false,n=m?{width:Math.round(this.getVolume()*100)+'%'}:{height:Math.round(this.getVolume()*100)+'%'},o="_2-ml"+(m?' '+"_3cxz":'')+(this.state.engaged?' '+"_gn1":'');return c('React').createElement('div',{className:o,onMouseDown:this.onMouseDown.bind(this)},c('React').createElement('div',{className:"_3ghu"},c('React').createElement('div',{className:"_2-mm",ref:'slider'},c('React').createElement('div',{className:"_2-mn",style:n},c('React').createElement('div',{className:"_2-mo _5ixx",ref:'nub'})))),c('React').createElement('div',{className:"_2-mp"}));};l.propTypes={volume:k.number,onVolumeChangeBegin:k.func,onVolumeChangeEnd:k.func,onVolumeChange:k.func};l.defaultProps={volume:0,onVolumeChange:function m(n){},onVolumeChangeBegin:function m(n){},onVolumeChangeEnd:function m(n){}};f.exports=l;}),null);
__d('SpatialAudioFeedNUX.react',['ix','fbt','cx','AsyncRequest','Image.react','React','XBasicFBNuxDismissController','XUIAmbientNUX.react','XUIText.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=i._("Experience more with Audio 360"),n=i._("Hear sound from all directions when you wear headphones"),o=4576;k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(q){l.constructor.call(this,q);this.$SpatialAudioFeedNUX1=function(){this.setState({showNux:false});var r=c('XBasicFBNuxDismissController').getURIBuilder().setInt('nux_id',o).getURI();new (c('AsyncRequest'))().setURI(r).send();}.bind(this);this.state={showNux:true};}p.prototype.render=function(){return c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:this.props.contextRef,shown:this.state.showNux,position:'below',alignment:'right',onCloseButtonClick:this.$SpatialAudioFeedNUX1,width:'auto'},c('React').createElement('div',{className:"_4r0v"},c('React').createElement('div',{className:"_4r0w"},c('React').createElement('div',{className:"_4r0x"},c('React').createElement(c('Image.react'),{src:h("114375")}))),c('React').createElement('div',{className:"_4r0y"},c('React').createElement(c('XUIText.react'),{size:'medium',className:"_4r0z"},m),c('React').createElement(c('XUIText.react'),{size:'small',className:"_4r0-"},n))));};f.exports=p;}),null);
__d('EmbeddedVideoVolumeControl.react',['ix','cx','fbt','invariant','AbstractButton.react','Image.react','Keys','React','ReactDOM','SpatialAudioFeedNUX.react','VideoPlayerExperiments','VideoPlayerVolumeSettings','VideoWebDriverIDs','EmbeddedVideoVolumeSlider.react','fbglyph','shallowCompare'],(function a(b,c,d,e,f,g,h,i,j,k){var l,m,n=c('React').PropTypes;l=babelHelpers.inherits(o,c('React').Component);m=l&&l.prototype;function o(p){'use strict';m.constructor.call(this,p);this.state={nubEngaged:false,focused:false,lastVolumeBeforeMute:1};}o.prototype.shouldComponentUpdate=function(p,q){'use strict';return c('shallowCompare')(this,p,q);};o.prototype.onButtonClick=function(){'use strict';this.checkLastVolumeBeforeMuteInvariant();if(this.props.volume===0)return this.onSliderVolumeChange(this.state.lastVolumeBeforeMute);this.props.onToggleMuted&&this.props.onToggleMuted();};o.prototype.onButtonFocus=function(){'use strict';this.setState({focused:true});};o.prototype.onButtonBlur=function(){'use strict';this.setState({focused:false});};o.prototype.onKeyDown=function(p){'use strict';var q=this.props.volume;if(p.keyCode===c('Keys').UP){p.preventDefault();p.stopPropagation();q+=.05;if(q>1)q=1;}else if(p.keyCode===c('Keys').DOWN){p.preventDefault();p.stopPropagation();q-=.05;if(q<0)q=0;}else return;this.onSliderVolumeChangeEnd(q);};o.prototype.onMouseOut=function(p){'use strict';c('ReactDOM').findDOMNode(this.refs.button).blur();};o.prototype.getVolume=function(){'use strict';if(this.props.isMuted)return 0;return this.props.volume;};o.prototype.onSliderVolumeChangeBegin=function(){'use strict';var p=this.props.volume;if(p>0){this.setState({nubEngaged:true,lastVolumeBeforeMute:p});c('VideoPlayerVolumeSettings').saveLastVolumeBeforeMute(p);}};o.prototype.onSliderVolumeChangeEnd=function(p){'use strict';if(p>0){this.setState({lastVolumeBeforeMute:p});c('VideoPlayerVolumeSettings').saveLastVolumeBeforeMute(p);this.onSliderVolumeChange(p);}else{this.props.onVolumeChange(this.state.lastVolumeBeforeMute);if(!this.props.isMuted)this.props.onToggleMuted&&this.props.onToggleMuted();}this.setState({nubEngaged:false});};o.prototype.onSliderVolumeChange=function(p){'use strict';if(p>0&&this.props.isMuted||p===0&&!this.props.isMuted)this.props.onToggleMuted&&this.props.onToggleMuted();this.props.onVolumeChange&&this.props.onVolumeChange(p);};o.prototype.checkLastVolumeBeforeMuteInvariant=function(){'use strict';this.state.lastVolumeBeforeMute>0&&this.state.lastVolumeBeforeMute<=1||k(0);};o.prototype.render=function(){'use strict';var p=Math.round(this.getVolume()*100),q=null;if(p==0){q=c('React').createElement(c('Image.react'),{className:"_5i0o",src:h("115743")});}else{var r=null;if(p<=33){r=h("115737");}else if(p<=66){r=h("115740");}else r=h("115746");q=c('React').createElement('div',{className:"_44_"},c('React').createElement('div',{className:"_454"},c('React').createElement(c('Image.react'),{className:"_5i0o",src:r})));}var s="_3s02"+(this.state.nubEngaged?' '+"_gn1":'')+(this.state.focused?' '+"_4v4":''),t="_3u33"+(' '+"_3s03")+(!this.getVolume()&&!c('VideoPlayerExperiments').redesign?' '+"_17bp":''),u=!this.getVolume()?j._("Unmute"):j._("Mute"),v=c('React').createElement(c('EmbeddedVideoVolumeSlider.react'),{onVolumeChangeBegin:this.onSliderVolumeChangeBegin.bind(this),onVolumeChangeEnd:this.onSliderVolumeChangeEnd.bind(this),onVolumeChange:this.onSliderVolumeChange.bind(this),isHorizontal:this.props.isHorizontal||false,volume:this.getVolume()}),w=c('React').createElement(c('AbstractButton.react'),{className:t,'data-testid':c('VideoWebDriverIDs').MUTE_UNMUTE_CONTROL,image:q,label:u,labelIsHidden:true,onBlur:this.onButtonBlur.bind(this),onClick:this.onButtonClick.bind(this),onFocus:this.onButtonFocus.bind(this),onKeyDown:this.onKeyDown.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:this.props.tabIndex,type:'button'}),x=this.props.showSpatialAudioNUX?c('React').createElement(c('SpatialAudioFeedNUX.react'),{contextRef:function(){return this.refs.button;}.bind(this)}):null;if(this.props.isHorizontal)return c('React').createElement('div',{className:s},w,v,x);return c('React').createElement('div',{className:s},v,w,x);};o.propTypes={isMuted:n.bool,onVolumeChange:n.func,onToggleMuted:n.func,tabIndex:n.string,volume:n.number};f.exports=o;}),null);
__d('EmbeddedVideoControls.react',['ix','cx','fbt','Arbiter','BootloadedComponent.react','AbstractButton.react','EmbeddedVideoFullscreenControl.react','Image.react','JSResource','EmbeddedVideoPlaybackControl.react','EmbeddedVideoPlaybackTimer.react','React','ReactDOM','EmbeddedVideoScrubber.react','SubscriptionsHandler','EmbeddedVideoSidepaneToggleControl.react','TooltipData','EmbeddedVideoVolumeControl.react','VideoPlayerExperiments','VideoPlayerUIComponentDrawer','fbglyph','ifRequired','shallowCompare'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c('React').PropTypes;function n(){return c('ifRequired')('VideoWatchAndScrollController',function(q){return q.isActive();},function(){return false;});}function o(){return {isWNSOpen:n()};}k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(q){'use strict';l.constructor.call(this,q);this.state=o();if(q.allowEnqueuing)this.$EmbeddedVideoControls1=new (c('SubscriptionsHandler'))();}p.prototype.componentDidMount=function(){'use strict';if(this.$EmbeddedVideoControls1){var q;(q=this.$EmbeddedVideoControls1).addSubscriptions.apply(q,this.$EmbeddedVideoControls2());}};p.prototype.$EmbeddedVideoControls2=function(){'use strict';if(!this.props.allowEnqueuing)return [];return [c('Arbiter').subscribe('VideoWatchAndScrollController/start',function(){return this.setState({isWNSOpen:true});}.bind(this)),c('Arbiter').subscribe('VideoWatchAndScrollController/exit',function(){return this.setState({isWNSOpen:false});}.bind(this))];};p.prototype.componentWillUnmount=function(){'use strict';if(this.$EmbeddedVideoControls1)this.$EmbeddedVideoControls1.release();};p.prototype.shouldComponentUpdate=function(q,r){'use strict';return c('shallowCompare')(this,q,r);};p.prototype.isHidden=function(){'use strict';return this.props.hidden;};p.prototype.isTransparent=function(){'use strict';return this.props.transparent;};p.prototype.onMouseOut=function(q){'use strict';c('ReactDOM').findDOMNode(this.refs.button).blur();};p.prototype.$EmbeddedVideoControls3=function(){'use strict';var q=this.props,r=q.isFullscreen,s=q.hasWatchAndScroll,t=q.allowEnqueuing,u=this.state.isWNSOpen;if(t)return !u&&s&&!r;return s&&!r;};p.prototype.$EmbeddedVideoControls4=function(){'use strict';var q=this.props.allowEnqueuing,r=this.state.isWNSOpen;if(q)return r;return false;};p.prototype.render=function(){'use strict';var q=c('VideoPlayerExperiments').inlineSoundVisible,r=(!c('VideoPlayerExperiments').redesign?"_17l4":'')+(' '+"_2mbh")+(this.isHidden()?' '+"_2mbi":'')+(this.isTransparent()&&!q?' '+"_5744":''),s=(c('VideoPlayerExperiments').redesign&&c('VideoPlayerExperiments').noanim?"_fwi":'')+(c('VideoPlayerExperiments').redesign&&c('VideoPlayerExperiments').noshadow?' '+"_fwj":'')+(c('VideoPlayerExperiments').redesign?' '+"_i5q":'')+(this.props.showSidePaneToggle?' '+"_369t":''),t="_2mbj"+(' '+"_2mbk")+(this.isTransparent()&&q?' '+"_5744":''),u="_2mbj"+(' '+"_yaw")+(this.isTransparent()&&q?' '+"_5744":''),v="_2mbj"+(' '+"_2mbl")+(this.isTransparent()&&q?' '+"_5744":''),w="_2mbj"+(' '+"_4a9j")+(this.isTransparent()&&(!this.props.isInline||this.props.isFullscreen||!this.props.isPlaying)?' '+"_5744":''),x="_5rbl",y="_4lqt _4ubd",z="_4lqt"+(' '+"_4ubd")+(' '+"_3t0x")+(!this.props.isCommentAttachment?' '+"hidden_elem":''),aa=null;if(!this.props.isLive&&!this.props.hideRemainingTime){var ba=this.props.playbackPosition-this.props.playbackDuration;aa=c('React').createElement(c('EmbeddedVideoPlaybackTimer.react'),{className:"_25e2"+(this.props.displayMilliseconds?' '+"_5ziu":''),playbackPosTimestamp:this.props.playbackPosition,remainingTimestamp:ba,displayElapsedTime:this.props.displayElapsedTime,displayMilliseconds:this.props.displayMilliseconds});}var ca=null,da=null,ea=null,fa=null;if(!this.props.isLive||this.props.hasHD)if(!this.props.hideSettings)if(c('VideoPlayerExperiments').redesign){ea=c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('EmbeddedVideoSettingsControl.react').__setRef('EmbeddedVideoControls.react'),bootloadPlaceholder:c('React').createElement('span',null),disabled:this.props.isCasting,hasHD:this.props.hasHD,hasSubtitles:this.props.hasSubtitles,isHD:this.props.isHD,areSubtitlesActive:this.props.areSubtitlesActive,onToggleHD:this.props.onToggleHD,onToggleSubtitles:this.props.onToggleSubtitles,availableQualities:this.props.availableQualities,selectedQuality:this.props.selectedQuality,canAutoSelectVideoQuality:this.props.canAutoSelectVideoQuality,onSelectQuality:this.props.onSelectQuality,showQualitySelector:this.props.showQualitySelector,qualitySelectorMinStreams:this.props.qualitySelectorMinStreams,streamingFormat:this.props.streamingFormat});}else{if(this.props.hasHD)ca=c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('EmbeddedVideoQualityControl.react').__setRef('EmbeddedVideoControls.react'),bootloadPlaceholder:c('React').createElement('span',null),isHD:this.props.isHD,onToggleHD:this.props.onToggleHD,tabIndex:'0'});if(this.props.hasSubtitles)da=c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('EmbeddedVideoClosedCaptionsControl.react').__setRef('EmbeddedVideoControls.react'),areClosedCaptionsActive:this.props.areSubtitlesActive,onToggleClosedCaptions:this.props.onToggleSubtitles,tabIndex:'0'});}if(this.props.isLive)if(c('VideoPlayerExperiments').hlsButton)fa=c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('EmbeddedVideoToHLSControl.react').__setRef('EmbeddedVideoControls.react'),areHLSActive:this.props.areHLSActive,onToggleHLS:this.props.onToggleHLS,tabIndex:'0'});var ga=null;if(this.props.allowFullscreen){var ha=this.props.isFullscreen?j._("Click to exit fullscreen"):j._("Click to enter fullscreen");ga=c('React').createElement(c('EmbeddedVideoFullscreenControl.react'),babelHelpers['extends']({},c('TooltipData').propsFor(ha,'above'),{disabled:this.props.isCasting&&!this.props.isFullscreen,isFullscreen:this.props.isFullscreen,onToggleFullscreen:this.props.onToggleFullscreen,tabIndex:'0'}));}var ia=null;if(this.$EmbeddedVideoControls3())ia=c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('EmbeddedVideoWatchAndScrollControl.react').__setRef('EmbeddedVideoControls.react'),disabled:this.props.isCasting,onEnterWatchAndScroll:this.props.onEnterWatchAndScroll,isSlidingWNSEligible:this.props.isSlidingWNSEligible});var ja=null;if(this.$EmbeddedVideoControls4())ja=c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('EmbeddedVideoEnqueueControl.react').__setRef('EmbeddedVideoControls.react'),disabled:this.props.isCasting,onEnqueueVideo:this.props.onEnqueueVideo});var ka=null;if(this.props.allowCasting&&this.props.hasFoundReceiver)ka=c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('EmbeddedVideoCastingControl.react').__setRef('EmbeddedVideoControls.react'),hasFoundReceiver:this.props.hasFoundReceiver,isCasting:this.props.isCasting,isCastingSupported:this.props.isCastingSupported,onStartCast:this.props.onStartCast,onStopCast:this.props.onStopCast});var la=null,ma=null;if(this.props.permalinkURL){ma=c('React').createElement(c('Image.react'),{className:"_5i0o",src:h("114229")});la=c('React').createElement(c('AbstractButton.react'),{className:"_3u33",href:this.props.permalinkURL,image:ma,label:j._("Open in a new tab"),labelIsHidden:true,onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:'0',target:'_blank',type:'button'});}var na=null,oa=null;if(!this.props.isLive&&!this.props.hidePlaybackControl){oa=c('React').createElement(c('EmbeddedVideoPlaybackControl.react'),{finishedPlaying:this.props.finishedPlaying,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,tabIndex:'0'});na=c('React').createElement(c('EmbeddedVideoScrubber.react'),{adBreaksTimeOffset:this.props.adBreaksTimeOffset,bufferedPosition:this.props.bufferedPosition,controlsHidden:this.props.hidden,hasScrubberPreview:this.props.hasScrubberPreview,interestLevels:this.props.interestLevels,drawer:this.props.drawer,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.isAdBreakDisabled,isFullscreen:this.props.isFullscreen,isPlaying:this.props.isPlaying,onScrubBegin:this.props.onScrubBegin,onScrubEnd:this.props.onScrubEnd,playbackDuration:this.props.playbackDuration,playbackPosition:this.props.playbackPosition,previewThumbnailInformation:this.props.previewThumbnailInformation,scrubberPreviewSprites:this.props.scrubberPreviewSprites,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest,tabIndex:'0'});}var pa=null;if(this.props.showSidePaneToggle)pa=c('React').createElement(c('EmbeddedVideoSidepaneToggleControl.react'),{isSidePaneOpen:this.props.isSidePaneOpen,onSidePaneToggle:this.props.onSidePaneToggle,tabIndex:'0'});var qa=null;if(c('VideoPlayerExperiments').redesign)qa=c('React').createElement('div',{className:"_4lqu"+(this.isTransparent()?' '+"_5744":'')});var ra=c('React').createElement(c('EmbeddedVideoVolumeControl.react'),{isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,tabIndex:'0',showSpatialAudioNUX:this.props.showSpatialAudioNUX}),sa=null;if(this.props.useTwoRows){var ta=c('React').createElement(c('EmbeddedVideoVolumeControl.react'),{isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,isHorizontal:true,tabIndex:'0'});sa=c('React').createElement('div',{className:z},c('React').createElement('div',{className:x},c('React').createElement('div',{className:r},c('React').createElement('div',{className:t}),c('React').createElement('div',{className:u},na),c('React').createElement('div',{className:v},aa))),c('React').createElement('div',{className:x},c('React').createElement('div',{className:r},c('React').createElement('div',{className:t},oa,ta),c('React').createElement('div',{className:u}),c('React').createElement('div',{className:v},da,fa,ca,ea,ia,ja,ka,ga,la))));}var ua=!this.props.useTwoRows||!this.props.isCommentAttachment?c('React').createElement('div',{className:y},c('React').createElement('div',{className:x},c('React').createElement('div',{className:r},c('React').createElement('div',{className:t},oa),c('React').createElement('div',{className:u},na),c('React').createElement('div',{className:v},aa,q||ra,da,fa,ca,ea,ia,ja,ka,pa,ga,la),c('React').createElement('div',{className:w},!q||ra)))):null;return (c('React').createElement('div',{className:s},qa,ua,sa));};p.propTypes={allowFullscreen:m.bool,allowEnqueuing:m.bool,finishedPlaying:m.bool,hasHD:m.bool,hasSubtitles:m.bool,hasWatchAndScroll:m.bool,hidden:m.bool,hidePlaybackControl:m.bool,hideRemainingTime:m.bool,hideSettings:m.bool,isCommentAttachment:m.bool,isFullscreen:m.bool,isHD:m.bool,isInline:m.bool,isLive:m.bool,isMuted:m.bool,isPlaying:m.bool,isSidePaneOpen:m.bool,isSlidingWNSEligible:m.bool,areSubtitlesActive:m.bool,areHLSActive:m.bool,onEnterWatchAndScroll:m.func,onEnqueueVideo:m.func,onPause:m.func,onPlay:m.func,onSeek:m.func,onToggleFullscreen:m.func,onToggleHD:m.func,onToggleHLS:m.func,onToggleMuted:m.func,onToggleSubtitles:m.func,onVolumeChange:m.func,permalinkURL:m.string,playbackDuration:m.number,playbackPosition:m.number,displayElapsedTime:m.bool,displayMilliseconds:m.bool,transparent:m.bool,volume:m.number,scrubberPreviewSprites:m.object,hasScrubberPreview:m.bool,previewThumbnailInformation:m.object,onPointOfInterestSelect:m.func,pointsOfInterest:m.array,availableQualities:m.array,selectedQuality:m.string,canAutoSelectVideoQuality:m.bool,onSelectQuality:m.func,showQualitySelector:m.bool,qualitySelectorMinStreams:m.number,streamingFormat:m.string,useTwoRows:m.bool,adBreaksTimeOffset:m.array,showSidePaneToggle:m.bool};p.defaultProps={allowCasting:false,bufferedPosition:0,hasFoundReceiver:false,displayElapsedTime:false,displayMilliseconds:false,hidden:false,hidePlaybackControl:false,hideRemainingTime:false,hideSettings:false,isCasting:false,isCastingSupported:false,isCommentAttachment:false,isMuted:false,isPlaying:false,onSidePaneToggle:function q(){},onStartCast:function q(){},onStopCast:function q(){},playbackDuration:0,playbackPosition:0,showSidePaneToggle:false,transparent:false,useTwoRows:false,volume:0};f.exports=p;}),null);
__d('VideoWatchAndScrollEndScreen.react',['ix','cx','Image.react','React','VideoChannelProgressCircle.react','VideoChannelReplayImage.react','fbglyph'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes,m=function o(p){var q=p.onClose;return (c('React').createElement('div',{className:"_3r7h _2se8",onClick:q,role:'button',tabIndex:'0'},c('React').createElement(c('Image.react'),{src:h("114709")})));};j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;n.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:"_5qdn"+(' '+"_2se8")+(this.props.fadeOut?' '+"_2gud":'')+(' '+"_1s-2")},c('React').createElement('div',{className:"_1szz _2se8"},c('React').createElement('div',{className:"_1szy _ww8",onClick:this.props.onReplay,role:'presentation'},c('React').createElement(c('VideoChannelProgressCircle.react'),{makeProgress:this.props.makeProgress,timeoutSec:this.props.endScreenDuration,watchAndScroll:true},c('React').createElement(c('VideoChannelReplayImage.react'),{size:'small'})))),this.props.showCloseButton?c('React').createElement(m,{onClose:this.props.onClose}):null));};function n(){'use strict';j.apply(this,arguments);}n.propTypes={endScreenDuration:l.number.isRequired,fadeOut:l.bool,makeProgress:l.bool.isRequired,onReplay:l.func.isRequired,onClose:l.func.isRequired};f.exports=n;}),null);
__d('shouldWNSRenderToRHC',['ge'],(function a(b,c,d,e,f,g){'use strict';function h(){return !!c('ge')('fbRHCVideoWNS-root');}f.exports=h;}),null);
__d('VideoWatchAndScrollContainer.react',['csx','cx','CSS','DOM','DOMContainer.react','DOMDimensions','Event','Parent','React','ReactCSSTransitionGroup','Rect','SubscriptionsHandler','VideoWatchAndScrollEndScreen.react','cancelAnimationFrame','getViewportDimensions','requestAnimationFrame','shallowCompare','shouldWNSRenderToRHC','throttle'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=10,n=230,o=476,p=300,q=3000,r={NW:'nw',NE:'ne',SE:'se',SW:'sw'};j=babelHelpers.inherits(s,c('React').Component);k=j&&j.prototype;function s(t,u){k.constructor.call(this,t,u);this.state=this.$VideoWatchAndScrollContainer2(this.props);}s.prototype.$VideoWatchAndScrollContainer2=function(t){var u=this.$VideoWatchAndScrollContainer3(),v=this.$VideoWatchAndScrollContainer4(this.props.initialPosition,u);return {channelVideoElements:[this.props.initialVideoElement],containerBoundingBox:u,dragging:false,draggingStartHeight:0,draggingStartLeft:0,draggingStartMousePositionX:0,draggingStartMousePositionY:0,draggingStartTop:0,draggingStartWidth:0,endScreenFadeOut:false,endScreenShown:false,fadeOut:false,fadeOutPlaceholder:null,height:v.height,left:v.left,overlayShown:false,resizeDirection:null,top:v.top,width:v.width,videoIndex:0};};s.prototype.shouldComponentUpdate=function(t,u){return !this.state.fadeOut&&c('shallowCompare')(this,t,u);};s.prototype.componentDidUpdate=function(t,u){if(!u)return;if(!u.dragging&&this.state.dragging){this.documentSubscriptions=new (c('SubscriptionsHandler'))();this.documentSubscriptions.addSubscriptions(c('Event').listen(document,'mousemove',this.$VideoWatchAndScrollContainer5.bind(this)),c('Event').listen(document,'mouseup',this.$VideoWatchAndScrollContainer6.bind(this)));}else if(u.dragging&&!this.state.dragging)this.documentSubscriptions.release();if(u.endScreenShown!==this.state.endScreenShown){if(this.canPlayAnotherVideo()||!c('shouldWNSRenderToRHC')())if(this.state.endScreenShown){this.$VideoWatchAndScrollContainer1=setTimeout(function(){this.props.onChannelNavigation(1);this.setState({endScreenShown:false,endScreenFadeOut:true});}.bind(this),q);}else{clearTimeout(this.$VideoWatchAndScrollContainer1);this.$VideoWatchAndScrollContainer1=null;this.setState({endScreenFadeOut:false});}}else if(this.state.endScreenShown&&this.state.videoIndex>=u.channelVideoElements.length-1&&this.state.videoIndex<this.state.channelVideoElements.length-1){clearTimeout(this.$VideoWatchAndScrollContainer1);this.$VideoWatchAndScrollContainer1=setTimeout(function(){this.props.onChannelNavigation(1);this.setState({endScreenShown:false,endScreenFadeOut:true});}.bind(this),q);}var v=["._23if","._23ig","._452w","._2i7a"],w=u.channelVideoElements||[];this.state.channelVideoElements.forEach(function(x){if(w.indexOf(x)!==-1)return;v.forEach(function(aa){var ba=c('DOM').scry(x,aa),ca=ba[0];if(ca)c('CSS').hide(ca);});var y=c('DOM').scry(x,"._3pay"),z=y[0];if(z){c('CSS').removeClass(z,"_3pay");c('CSS').addClass(z,"_2337");}});};s.prototype.componentDidMount=function(){this.resizeListener=c('Event').listen(window,'resize',c('throttle')(function(){var t=this.$VideoWatchAndScrollContainer3(),u=this.$VideoWatchAndScrollContainer4({height:this.state.height,left:this.state.left,top:this.state.top,width:this.state.width},t);this.setState({containerBoundingBox:t,height:u.height,left:u.left,top:u.top,width:u.width});}.bind(this),100));};s.prototype.componentWillUnmount=function(){if(this.documentSubscriptions)this.documentSubscriptions.release();if(this.resizeListener)this.resizeListener.remove();this.$VideoWatchAndScrollContainer1&&clearTimeout(this.$VideoWatchAndScrollContainer1);};s.prototype.getFadeOutStatus=function(){return this.state.fadeOut;};s.prototype.getChannelVideoElements=function(){return this.state.channelVideoElements;};s.prototype.$VideoWatchAndScrollContainer7=function(t,event){this.$VideoWatchAndScrollContainer8(event,t);};s.prototype.$VideoWatchAndScrollContainer9=function(event){if(!c('Parent').bySelector(event.target,"._3t-6"))return;this.$VideoWatchAndScrollContainer8(event,null);};s.prototype.$VideoWatchAndScrollContainer10=function(event){return event.button!==0||c('Parent').bySelector(event.target,"._3t-6")||c('Parent').bySelector(event.target,"._2se8");};s.prototype.$VideoWatchAndScrollContainer11=function(event){if(this.$VideoWatchAndScrollContainer10(event))return;this.props.onClick&&this.props.onClick();};s.prototype.$VideoWatchAndScrollContainer12=function(event){if(this.$VideoWatchAndScrollContainer10(event))return;this.props.onDoubleClick&&this.props.onDoubleClick();};s.prototype.$VideoWatchAndScrollContainer8=function(event,t){var u=event.button,v=event.target;if(u!==0)return;if(c('Parent').bySelector(v,"._360f"))return;this.props.onGrab();this.setState({containerBoundingBox:this.$VideoWatchAndScrollContainer3(),dragging:true,draggingStartHeight:this.state.height,draggingStartLeft:this.state.left,draggingStartMousePositionX:event.screenX,draggingStartMousePositionY:event.screenY,draggingStartTop:this.state.top,draggingStartWidth:this.state.width,resizeDirection:t});event.preventDefault();};s.prototype.$VideoWatchAndScrollContainer3=function(){var t=0,u=c('DOM').scry(document.body,".fbChatSidebar");if(u.length===1)t=c('DOMDimensions').getElementDimensions(u[0]).width;var v=c('getViewportDimensions').withoutScrollbars(),w=new (c('Rect'))(43+m,v.width-t-m,v.height-m,m);return w;};s.prototype.$VideoWatchAndScrollContainer4=function(t,u){var v=new (c('Rect'))(t.top,t.left+t.width,t.top+t.height,t.left);v=v.boundWithin(u);return {height:v.h(),left:v.getLeft(),top:v.getTop(),width:v.w()};};s.prototype.$VideoWatchAndScrollContainer13=function(t,u,v){var w=t.top,x=u.getTop(),y=x-w;if(y>0){if(v===r.NE||v===r.NW)t.height-=y;t.top=x;}var z=t.left,aa=u.getLeft(),ba=aa-z;if(ba>0){if(v===r.NW||v===r.SW)t.width-=ba;t.left=aa;}var ca=t.top+t.height,da=u.getTop()+u.h(),ea=ca-da;if(ea>0)t.height=da-t.top;var fa=t.left+t.width,ga=u.getLeft()+u.w(),ha=fa-ga;if(ha>0)t.width=ga-t.left;};s.prototype.$VideoWatchAndScrollContainer14=function(t,u,v){if(t.width<n){if(v===r.NW||v===r.SW)t.left-=n-t.width;t.width=n;}if(t.height<n){if(v===r.NE||v===r.NW)t.top-=n-t.height;t.height=n;}};s.prototype.$VideoWatchAndScrollContainer15=function(t,u,v){if(t.width>o){if(v===r.NW||v===r.SW)t.left+=t.width-o;t.width=o;}if(t.height>o){if(v===r.NE||v===r.NW)t.top+=t.height-o;t.height=o;}};s.prototype.$VideoWatchAndScrollContainer16=function(t,u,v){var w=t.width/t.height,x=u.width/u.height;if(w>x){var y=t.height*x,z=t.height;if(y<n){z*=n/y;y=n;if(v===r.NE||v===r.NW)t.top+=t.height-z;}if(v===r.NW||v===r.SW)t.left+=t.width-y;t.width=y;t.height=z;}else if(w<x){var aa=t.width/x;if(v===r.NE||v===r.NW)t.top+=t.height-aa;t.height=aa;}};s.prototype.$VideoWatchAndScrollContainer17=function(t,u,v,w){this.$VideoWatchAndScrollContainer13(t,v,w);this.$VideoWatchAndScrollContainer14(t,u,w);this.$VideoWatchAndScrollContainer15(t,u,w);this.$VideoWatchAndScrollContainer16(t,u,w);return {height:t.height,left:t.left,top:t.top,width:t.width};};s.prototype.$VideoWatchAndScrollContainer5=function(event){c('cancelAnimationFrame')(this.dragUpdateRequestAnimationFrameID);this.dragUpdateRequestAnimationFrameID=c('requestAnimationFrame')(this.$VideoWatchAndScrollContainer18.bind(this,event));};s.prototype.$VideoWatchAndScrollContainer19=function(t){if(t.height!==this.state.height||t.width!==this.state.width)this.props.onInitialPositionUpdate(t);};s.prototype.$VideoWatchAndScrollContainer18=function(event){if(!this.state.dragging)return;var t=event.screenX-this.state.draggingStartMousePositionX,u=event.screenY-this.state.draggingStartMousePositionY,v=this.state.resizeDirection,w=void 0;if(!v){w=this.$VideoWatchAndScrollContainer4({height:this.state.draggingStartHeight,left:this.state.draggingStartLeft+t,top:this.state.draggingStartTop+u,width:this.state.draggingStartWidth},this.state.containerBoundingBox);this.$VideoWatchAndScrollContainer19(w);this.setState({height:w.height,left:w.left,top:w.top,width:w.width});}else{var x=this.state.draggingStartHeight,y=this.state.draggingStartLeft,z=this.state.draggingStartTop,aa=this.state.draggingStartWidth;if(v===r.NE||v===r.SE)aa+=t;if(v===r.NW||v===r.SW){y+=t;aa-=t;}if(v===r.SE||v===r.SW)x+=u;if(v===r.NE||v===r.NW){z+=u;x-=u;}w=this.$VideoWatchAndScrollContainer17({height:x,left:y,top:z,width:aa},{height:this.state.draggingStartHeight,left:this.state.draggingStartLeft,top:this.state.draggingStartTop,width:this.state.draggingStartWidth},this.state.containerBoundingBox,v);this.$VideoWatchAndScrollContainer19(w);this.setState({height:w.height,left:w.left,top:w.top,width:w.width});}event.preventDefault();};s.prototype.$VideoWatchAndScrollContainer6=function(event){c('cancelAnimationFrame')(this.dragUpdateRequestAnimationFrameID);this.props.onDrop();this.setState({dragging:false,draggingStartHeight:0,draggingStartLeft:0,draggingStartMousePositionX:0,draggingStartMousePositionY:0,draggingStartTop:0,draggingStartWidth:0,resizeDirection:null});event.preventDefault();};s.prototype.$VideoWatchAndScrollContainer20=function(t,u){if(t>this.state.channelVideoElements.length)return null;var v=this.state.channelVideoElements[t];if(!v)return null;return (c('React').createElement('div',{className:"_2yq3"+(u==='left'?' '+"_2yq4":'')+(u==='center'?' '+"_2yq5":'')+(u==='right'?' '+"_2yq6":''),key:v.id},c('React').createElement(c('DOMContainer.react'),null,v)));};s.prototype.$VideoWatchAndScrollContainer21=function(){if(c('shouldWNSRenderToRHC')())return [];return [c('React').createElement('div',{className:"_52ua",onMouseDown:this.$VideoWatchAndScrollContainer7.bind(this,r.NW)}),c('React').createElement('div',{className:"_52uc",onMouseDown:this.$VideoWatchAndScrollContainer7.bind(this,r.NE)}),c('React').createElement('div',{className:"_52ui",onMouseDown:this.$VideoWatchAndScrollContainer7.bind(this,r.SE)}),c('React').createElement('div',{className:"_52uj",onMouseDown:this.$VideoWatchAndScrollContainer7.bind(this,r.SW)})];};s.prototype.getWidth=function(){return this.state.width;};s.prototype.canPlayAnotherVideo=function(){var t=this.state.channelVideoElements;return this.state.videoIndex<t.length-1;};s.prototype.render=function(){var t={height:Math.round(this.state.height)+'px',left:this.state.left+'px',top:this.state.top+'px',width:Math.round(this.state.width)+'px'},u=this.state.channelVideoElements,v=u[this.state.videoIndex];if(v){c('CSS').addClass(v,"_1kfp");c('CSS').conditionClass(v,"_1blk",this.state.width<p);}var w=null;if(this.state.endScreenShown)w=c('React').createElement(c('VideoWatchAndScrollEndScreen.react'),{endScreenDuration:q/1000,fadeOut:this.state.endScreenFadeOut,makeProgress:this.canPlayAnotherVideo(),onReplay:this.props.onReplay,showCloseButton:!c('shouldWNSRenderToRHC')(),onClose:function(){clearTimeout(this.$VideoWatchAndScrollContainer1);this.$VideoWatchAndScrollContainer1=null;this.props.onClose();}.bind(this)});var x=null;if(this.state.fadeOutPlaceholder){x=c('React').createElement(c('DOMContainer.react'),null,this.state.fadeOutPlaceholder);}else x=c('React').createElement('ul',{className:"_2yq7"},u.map(function(y,z){if(z>this.state.videoIndex+1||z<this.state.videoIndex-1)c('CSS').removeClass(y,"_1kfp");if(z<=this.state.videoIndex+1)return null;return (c('React').createElement('li',{key:y.id},c('React').createElement(c('DOMContainer.react'),null,y)));}.bind(this)));return (c('React').createElement(c('ReactCSSTransitionGroup'),{transitionAppear:true,transitionAppearTimeout:500,transitionEnter:false,transitionLeave:false,transitionName:{appear:"_tie",appearActive:"_tik"}},c('React').createElement('div',{className:"_360g"+(this.state.fadeOut?' '+"_473b":''),style:t},w,c('React').createElement('div',{className:"_52u8",onClick:this.$VideoWatchAndScrollContainer11.bind(this),onDoubleClick:this.$VideoWatchAndScrollContainer12.bind(this),onMouseDown:this.$VideoWatchAndScrollContainer9.bind(this),role:'presentation'},this.$VideoWatchAndScrollContainer20(this.state.videoIndex-1,'left'),this.$VideoWatchAndScrollContainer20(this.state.videoIndex,'center'),this.$VideoWatchAndScrollContainer20(this.state.videoIndex+1,'right')),this.$VideoWatchAndScrollContainer21(),x)));};s.propTypes={initialPosition:l.object.isRequired,initialVideoElement:l.instanceOf(HTMLElement).isRequired,onChannelNavigation:l.func.isRequired,onClick:l.func.isRequired,onClose:l.func.isRequired,onDoubleClick:l.func.isRequired,onDrop:l.func.isRequired,onGrab:l.func.isRequired,onInitialPositionUpdate:l.func.isRequired,onReplay:l.func.isRequired};f.exports=s;}),null);
__d("XVideoWNSSurveyController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/wns_survey\/",{__asyncDialog:{type:"Int"}});}),null);
__d('VideoWatchAndScrollController',['csx','cx','invariant','Arbiter','AsyncRequest','Bootloader','CSS','DOM','DOMDimensions','EventListener','React','ReactDOM','SubscriptionsHandler','VideoAutoplayControllerX','VideoChainingCaller','VideoChannelLogger','VideoChannelStoryFetcher','VideoFrameBuffer','VideoPlayerExperiments','VideoPlayerLoggerSource','VideoPlayerReason','VideoPlayerStates','VideoPlayerVolumeSettings','VideoWatchAndScrollContainer.react','VideoWatchAndScrollVariables','XVideoWNSSurveyController','cancelAnimationFrame','destroyOnUnload','ge','getViewportDimensions','ifRequired','shouldWNSRenderToRHC','throttle'],(function a(b,c,d,e,f,g,h,i,j){var k=158,l=280,m=10,n=42,o=n+m,p=476,q=230,r=[c('VideoPlayerReason').AUTOPLAY,c('VideoPlayerReason').PAGE_VISIBILITY],s=750,t=null,u=c('VideoPlayerExperiments').videoEnqueuingWNSEnabled;function v(w,x,y,z){var aa;'use strict';this.$VideoWatchAndScrollController30=new (c('SubscriptionsHandler'))();this.$VideoWatchAndScrollController31=new (c('SubscriptionsHandler'))();this.$VideoWatchAndScrollController1=false;this.$VideoWatchAndScrollController2=null;this.$VideoWatchAndScrollController3=null;this.$VideoWatchAndScrollController4=false;this.$VideoWatchAndScrollController34=y;this.$VideoWatchAndScrollController37=false;this.$VideoWatchAndScrollController29=false;this.$VideoWatchAndScrollController47=z;this.$VideoWatchAndScrollController48=z;this.$VideoWatchAndScrollController33=new (c('VideoChannelStoryFetcher'))(x,w,this.$VideoWatchAndScrollController34,null);this.$VideoWatchAndScrollController35=[];this.$VideoWatchAndScrollController36=0;this.$VideoWatchAndScrollController38=[];this.$VideoWatchAndScrollController39=[];this.$VideoWatchAndScrollController49=[];this.$VideoWatchAndScrollController50={};this.$VideoWatchAndScrollController5=k;this.$VideoWatchAndScrollController6=l;this.$VideoWatchAndScrollController10=window.document.getElementById('leftCol');this.$VideoWatchAndScrollController11=window.document.getElementById('rightCol');this.$VideoWatchAndScrollController12=window.document.getElementById('pagelet_bluebar');this.$VideoWatchAndScrollController43={};this.$VideoWatchAndScrollController46=null;this.$VideoWatchAndScrollController51();(aa=this.$VideoWatchAndScrollController30).addSubscriptions.apply(aa,this.$VideoWatchAndScrollController52());if(!c('VideoPlayerExperiments').persistentWNSEnabled)c('destroyOnUnload')(function(){this.$VideoWatchAndScrollController53();if(this.$VideoWatchAndScrollController4)this.$VideoWatchAndScrollController54(true);if(this.$VideoWatchAndScrollController30)this.$VideoWatchAndScrollController30.release();if(this===t)t=null;}.bind(this));}v.prototype.getQueuedVideoCount=function(){'use strict';return this.$VideoWatchAndScrollController49.length;};v.getQueuedVideoCount=function(){'use strict';return t?t.getQueuedVideoCount():0;};v.prototype.$VideoWatchAndScrollController52=function(){'use strict';var w=[c('Arbiter').subscribe('VideoChannelView/opened',function(x,y){if(this.$VideoWatchAndScrollController4&&(!y.controller||this.$VideoWatchAndScrollController16!==y.controller))this.$VideoWatchAndScrollController54(true);}.bind(this))];if(u)w.push(c('Arbiter').subscribe('EmbeddedVideoControls/enqueueVideo',function(x,y){var z=this.getQueuedVideoCount();this.$VideoWatchAndScrollController55(y.controller,y.thumbnail);var aa=this.getQueuedVideoCount();if(this.isActiveVideoDonePlaying()&&z===0&&aa===1)this.$VideoWatchAndScrollController56(this.$VideoWatchAndScrollController16);}.bind(this)));return w;};v.prototype.isActiveVideoDonePlaying=function(){'use strict';var w=this.$VideoWatchAndScrollController16.getState();return w===c('VideoPlayerStates').FINISHED;};v.isActiveVideoDonePlaying=function(){'use strict';return t?t.isActiveVideoDonePlaying():false;};v.prototype.$VideoWatchAndScrollController57=function(w,x,y){'use strict';w||j(0);x.length||j(0);this.$VideoWatchAndScrollController47=true;this.$VideoWatchAndScrollController37=false;this.$VideoWatchAndScrollController31=new (c('SubscriptionsHandler'))();this.$VideoWatchAndScrollController36=y;this.$VideoWatchAndScrollController33=w;this.$VideoWatchAndScrollController38=w.getPreloadedData().thumbnails||[];this.$VideoWatchAndScrollController39=[];this.$VideoWatchAndScrollController35=x.slice(0);this.$VideoWatchAndScrollController35.forEach(function(aa){this.$VideoWatchAndScrollController58(aa);this.$VideoWatchAndScrollController59(aa);aa.updateSource(c('VideoPlayerLoggerSource').WATCH_SCROLL);}.bind(this));var z=this.$VideoWatchAndScrollController35.shift();this.$VideoWatchAndScrollController60(z,c('VideoPlayerReason').USER);};v.prototype.$VideoWatchAndScrollController61=function(w,x,y,z,aa){'use strict';this.$VideoWatchAndScrollController9=aa;this.$VideoWatchAndScrollController46=this.$VideoWatchAndScrollController62(aa.videoRootNode);this.$VideoWatchAndScrollController57(w,x,y);if(this.$VideoWatchAndScrollController14)this.$VideoWatchAndScrollController14.setState({channelVideoElements:z},function(){this.$VideoWatchAndScrollController63();}.bind(this));this.$VideoWatchAndScrollController9=null;};v.registerVideoController=function(w,x,y,z){'use strict';if(t==null)t=new v(w.getVideoChannelID(),w.getVideoID(),x,z);t.$VideoWatchAndScrollController30.addSubscriptions(w.addListener('enterWatchAndScroll',function(){if(t)t.$VideoWatchAndScrollController64(w);}),w.addListener('exitWatchAndScroll',function(){if(t&&t.$VideoWatchAndScrollController4)t.$VideoWatchAndScrollController54(true);}),w.addListener('VideoChannelController/enterChannel',function(){if(t)t.$VideoWatchAndScrollController37=true;}),w.addListener('VideoChannelController/exitChannel',function(){if(t)t.$VideoWatchAndScrollController37=false;}),w.addListener('WatchAndScroll/close',function(){if(t){t.$VideoWatchAndScrollController65();var ba=c('XVideoWNSSurveyController').getURIBuilder().getURI(),ca=new (c('AsyncRequest'))().setURI(ba);ca.send();}}));if(!y)return;var aa=['beginPlayback','changeVolume','muteVideo','toggleFullscreen','unmuteVideo','VideoChannelController/enterChannel'];aa.forEach(function(event){if(t)t.$VideoWatchAndScrollController30.addSubscriptions(w.addListener(event,function(ba){if(t)t.$VideoWatchAndScrollController66(w,event,ba);}));});};v.isActive=function(){'use strict';if(!t)return false;return t.$VideoWatchAndScrollController4&&!t.$VideoWatchAndScrollController37;};v.updateSlidingCalculations=function(){'use strict';if(!t)return;if(t.$VideoWatchAndScrollController19)t.$VideoWatchAndScrollController67(t.$VideoWatchAndScrollController19);};v.registerChannelVideoController=function(w){'use strict';if(!t)return;w.updateSource(c('VideoPlayerLoggerSource').WATCH_SCROLL);t.$VideoWatchAndScrollController58(w);t.$VideoWatchAndScrollController59(w);t.$VideoWatchAndScrollController35.push(w);};v.getStoryFetcherData=function(){'use strict';return t&&t.$VideoWatchAndScrollController68();};v.prototype.$VideoWatchAndScrollController68=function(){'use strict';return {storyFetcher:this.$VideoWatchAndScrollController33,videoPlayerControllers:this.$VideoWatchAndScrollController35,channelVideoIndex:this.$VideoWatchAndScrollController36,rootVideoPlayerController:this.$VideoWatchAndScrollController17,channelInteractionsToRegister:this.$VideoWatchAndScrollController39,isFromWNS:true};};v.getVideoPlaceholder=function(){'use strict';if(!t)return null;return t.$VideoWatchAndScrollController18;};v.getReactContainer=function(){'use strict';if(!t)return null;return t.$VideoWatchAndScrollController14;};v.registerChannelInteraction=function(w){'use strict';if(t)t.$VideoWatchAndScrollController39.push(w);};v.onEnterChannel=function(){'use strict';if(!t)return;t.$VideoWatchAndScrollController69();};v.prototype.$VideoWatchAndScrollController69=function(){'use strict';this.$VideoWatchAndScrollController37=true;this.$VideoWatchAndScrollController33.abandonRequest();var w=this.$VideoWatchAndScrollController14;if(!w)return;var x=["._23if","._23ig","._452w","._2i7a"];w.getChannelVideoElements().forEach(function(y){x.forEach(function(ba){var ca=c('DOM').scry(y,ba),da=ca[0];if(da)c('CSS').show(da);});var z=c('DOM').scry(y,"._2337"),aa=z[0];if(aa){c('CSS').removeClass(aa,"_2337");c('CSS').addClass(aa,"_3pay");}});};v.resetFromChannelView=function(w,x,y){'use strict';if(!t)return;t.$VideoWatchAndScrollController57(w,x,y);};v.startFromChannelView=function(w,x,y,z,aa){'use strict';if(!t)return;t.$VideoWatchAndScrollController61(w,x,y,z,aa);};v.prototype.$VideoWatchAndScrollController66=function(w,event,x){'use strict';if(this.$VideoWatchAndScrollController4){if(this.$VideoWatchAndScrollController16===w)return;if(x&&r.includes(x.reason))return;if(!w.isIntentionallyViewing())return;var y=this.$VideoWatchAndScrollController16.getOption('VideoWithLiveBroadcast','isLive');if(y){this.$VideoWatchAndScrollController16.mute();}else this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);}if(event==='toggleFullscreen'&&w.isFullscreen()||event==='VideoChannelController/enterChannel'){if(this.$VideoWatchAndScrollController19)this.$VideoWatchAndScrollController53();}else if((event!=='beginPlayback'||x&&x.reason===c('VideoPlayerReason').USER||w.getSource()===c('VideoPlayerLoggerSource').PERMALINK)&&w.isIntentionallyViewing()&&!w.isFullscreen()&&!w.getIsInChannel()){var z=this.$VideoWatchAndScrollController70(w.getVideoNode()),aa=z.top;if(aa>window.scrollY||event==='beginPlayback'&&x&&x.reason===c('VideoPlayerReason').AUTOPLAY)this.$VideoWatchAndScrollController67(w);}};v.prototype.$VideoWatchAndScrollController56=function(w){'use strict';while(this.$VideoWatchAndScrollController49.length!==0){var x=this.$VideoWatchAndScrollController49.shift(),y=x[0],z=x[1];if(y!==w){y.seek(0);if(w.isMuted()){y.mute();}else y.unmute();this.$VideoWatchAndScrollController71(y,z);break;}}};v.prototype.$VideoWatchAndScrollController72=function(w){'use strict';if(u)this.$VideoWatchAndScrollController56(w);if(this.$VideoWatchAndScrollController37||w!==this.$VideoWatchAndScrollController16)return;if(this.$VideoWatchAndScrollController14)this.$VideoWatchAndScrollController14.setState({endScreenShown:true});};v.prototype.$VideoWatchAndScrollController73=function(w){'use strict';return w.addListener('finishPlayback',function(){return this.$VideoWatchAndScrollController72(w);}.bind(this));};v.prototype.$VideoWatchAndScrollController67=function(w){'use strict';var x=w.getVideoNode();if(!x.offsetParent)return;this.$VideoWatchAndScrollController19=w;this.$VideoWatchAndScrollController25=c('throttle')(this.$VideoWatchAndScrollController74.bind(this),100);window.addEventListener('resize',this.$VideoWatchAndScrollController25);this.$VideoWatchAndScrollController75(x);this.$VideoWatchAndScrollController76();};v.prototype.$VideoWatchAndScrollController74=function(){'use strict';if(this.$VideoWatchAndScrollController19){this.$VideoWatchAndScrollController75(this.$VideoWatchAndScrollController18||this.$VideoWatchAndScrollController19.getVideoNode());this.$VideoWatchAndScrollController26&&this.$VideoWatchAndScrollController26();}};v.prototype.$VideoWatchAndScrollController77=function(w){'use strict';var x=this.$VideoWatchAndScrollController70(w),y=w.scrollWidth,z=w.scrollHeight,aa=q,ba=p;if(y<z){aa*=y/z;ba*=y/z;}var ca=aa;if(this.$VideoWatchAndScrollController10&&this.$VideoWatchAndScrollController10.children.length){var da=this.$VideoWatchAndScrollController70(this.$VideoWatchAndScrollController10);if(da.left<=x.left){ca=Math.min(da.left-2*m,ba);}else if(this.$VideoWatchAndScrollController11&&this.$VideoWatchAndScrollController11.children.length){var ea=this.$VideoWatchAndScrollController70(this.$VideoWatchAndScrollController11);ca=Math.min(ea.left-2*m,ba);}}else{var fa=document.getElementById('timeline_tab_content');if(fa){var ga=this.$VideoWatchAndScrollController70(fa).left;ca=Math.min(ga-2*m,ba);}}return Math.max(ca,aa);};v.prototype.$VideoWatchAndScrollController70=function(w){'use strict';var x={left:0,top:0};do{x.top+=w.offsetTop;x.left+=w.offsetLeft;}while(w=w.offsetParent);return x;};v.prototype.$VideoWatchAndScrollController78=function(){'use strict';if(c('shouldWNSRenderToRHC')()){var w=c('ge')('rightCol');if(w)return c('DOMDimensions').getElementDimensions(w).width;}var x=0;if(this.$VideoWatchAndScrollController10&&this.$VideoWatchAndScrollController10.children.length){var y=this.$VideoWatchAndScrollController70(this.$VideoWatchAndScrollController10),z=window.getComputedStyle(this.$VideoWatchAndScrollController10),aa=parseInt(z.width,10);if(c('VideoPlayerExperiments').persistentWNSEnabled)aa=aa||l;x=aa+y.left-m;}else{var ba=document.getElementById('timeline_tab_content');if(!ba){var ca=document.getElementById('pagelet_timeline_main_column');if(ca){ba=ca.parentNode;}else ba=document.getElementById('contentArea');}if(ba){var da=this.$VideoWatchAndScrollController70(ba).left;x=da-2*m;}}return x;};v.prototype.$VideoWatchAndScrollController62=function(w){'use strict';var x=!w&&this.$VideoWatchAndScrollController9,y={left:0},z=16,aa=9;if(!x){y=this.$VideoWatchAndScrollController70(w);aa=1;z=parseFloat(w.getAttribute('data-original-aspect-ratio'));var ba=w.parentElement;if((!z||aa===0)&&ba){y=this.$VideoWatchAndScrollController70(ba);z=ba.scrollWidth;aa=ba.scrollHeight;}}var ca=q,da=p;if(z<aa){ca*=z/aa;da*=z/aa;}var ea=this.$VideoWatchAndScrollController78(),fa=m;if(this.$VideoWatchAndScrollController12)fa+=this.$VideoWatchAndScrollController12.scrollHeight;fa=Math.max(fa,o);var ga=ea>da?ea-da+m:m;ga=Math.max(ga,m);var ha=c('shouldWNSRenderToRHC')()?ea:Math.max(Math.min(ea,da),q),ia=ha*aa/z;return {hasEnoughSpace:!!x||ea>=ca,height:ia,left:ga,top:fa,width:ha};};v.hasEnoughSpaceToEnter=function(w){'use strict';if(!t||!w||!w.getVideoNode())return false;var x=w.getVideoNode(),y=1,z=parseFloat(x.getAttribute('data-original-aspect-ratio')),aa=x.parentElement;if((!z||y===0)&&aa){z=aa.scrollWidth;y=aa.scrollHeight;}var ba=q;if(z<y)ba*=z/y;return t.$VideoWatchAndScrollController78()>ba;};v.prototype.$VideoWatchAndScrollController75=function(w){'use strict';this.$VideoWatchAndScrollController21=this.$VideoWatchAndScrollController70(w);this.$VideoWatchAndScrollController27=w.scrollWidth;this.$VideoWatchAndScrollController28=w.scrollHeight;var x=Math.max(this.$VideoWatchAndScrollController27,this.$VideoWatchAndScrollController28);if(x<q){var y=q/x;this.$VideoWatchAndScrollController27*=y;this.$VideoWatchAndScrollController28*=y;}this.$VideoWatchAndScrollController20=this.$VideoWatchAndScrollController21.top+this.$VideoWatchAndScrollController28*.75-n;this.$VideoWatchAndScrollController46=this.$VideoWatchAndScrollController62(w);this.$VideoWatchAndScrollController29=!this.$VideoWatchAndScrollController46.hasEnoughSpace;};v.prototype.$VideoWatchAndScrollController76=function(){'use strict';if(this.$VideoWatchAndScrollController19.isIntentionallyViewing()){this.$VideoWatchAndScrollController79(this.$VideoWatchAndScrollController80.bind(this));this.$VideoWatchAndScrollController80();}else this.$VideoWatchAndScrollController53();};v.isVideoAlmostFinished=function(w){'use strict';var x=w.getPlaybackDuration(),y=w.getCurrentTimePosition(),z=c('VideoWatchAndScrollVariables').noWNSRemainingTime;if(x*.2<z){return y/x>.8;}else return x-y<z;};v.isSlidingEnabled=function(w){'use strict';var x=t;if(x==null)return false;var y=x.$VideoWatchAndScrollController19;if(y==null||y!==w)return false;if(x.$VideoWatchAndScrollController29||!w.isIntentionallyViewing()||!w.getVideoNode().offsetParent||v.isVideoAlmostFinished(w)||w.hasLooped()){x.$VideoWatchAndScrollController53();return false;}return true;};v.prototype.$VideoWatchAndScrollController80=function(){'use strict';var w=this.$VideoWatchAndScrollController19;if(w==null)return;if(!w.isIntentionallyViewing()||!w.getVideoNode().offsetParent){this.$VideoWatchAndScrollController53();return;}if(window.scrollY>this.$VideoWatchAndScrollController20&&v.isSlidingEnabled(w)){this.$VideoWatchAndScrollController81();this.$VideoWatchAndScrollController60(w,c('VideoPlayerReason').AUTOPLAY,false,true);this.$VideoWatchAndScrollController53();}};v.prototype.$VideoWatchAndScrollController81=function(){'use strict';this.$VideoWatchAndScrollController47=this.$VideoWatchAndScrollController48;};v.prototype.$VideoWatchAndScrollController79=function(w){'use strict';window.removeEventListener('scroll',this.$VideoWatchAndScrollController26);this.$VideoWatchAndScrollController26=w||null;window.addEventListener('scroll',this.$VideoWatchAndScrollController26);c('cancelAnimationFrame')(this.$VideoWatchAndScrollController32);delete this.$VideoWatchAndScrollController32;};v.prototype.$VideoWatchAndScrollController53=function(){'use strict';window.removeEventListener('resize',this.$VideoWatchAndScrollController25);this.$VideoWatchAndScrollController79();delete this.$VideoWatchAndScrollController19;this.$VideoWatchAndScrollController29=false;};v.prototype.$VideoWatchAndScrollController64=function(w){'use strict';this.$VideoWatchAndScrollController53();if(this.$VideoWatchAndScrollController4&&this.$VideoWatchAndScrollController16!==w){this.$VideoWatchAndScrollController22=w;this.$VideoWatchAndScrollController82();}else{this.$VideoWatchAndScrollController46=this.$VideoWatchAndScrollController62(w.getVideoNode());this.$VideoWatchAndScrollController81();this.$VideoWatchAndScrollController60(w,c('VideoPlayerReason').USER);}};v.prototype.$VideoWatchAndScrollController60=function(w,x,y,z){'use strict';var aa=!!this.$VideoWatchAndScrollController45;if(this.$VideoWatchAndScrollController45){clearTimeout(this.$VideoWatchAndScrollController45);this.$VideoWatchAndScrollController45=null;c('ReactDOM').unmountComponentAtNode(this.$VideoWatchAndScrollController83());this.$VideoWatchAndScrollController54();}var ba=this.$VideoWatchAndScrollController1&&(y||z)&&!!this.$VideoWatchAndScrollController17;if(ba){this.$VideoWatchAndScrollController36=0;this.$VideoWatchAndScrollController35=[];this.$VideoWatchAndScrollController38=[];this.$VideoWatchAndScrollController41=this.$VideoWatchAndScrollController17;this.$VideoWatchAndScrollController43=babelHelpers['extends']({},this.$VideoWatchAndScrollController8);this.$VideoWatchAndScrollController44=this.$VideoWatchAndScrollController18;this.$VideoWatchAndScrollController40=this.$VideoWatchAndScrollController14;this.$VideoWatchAndScrollController42=this.$VideoWatchAndScrollController2;this.$VideoWatchAndScrollController2=null;this.$VideoWatchAndScrollController13&&this.$VideoWatchAndScrollController13.remove();this.$VideoWatchAndScrollController31.release();this.$VideoWatchAndScrollController31=new (c('SubscriptionsHandler'))();}this.$VideoWatchAndScrollController17=w;this.$VideoWatchAndScrollController16=this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController36>0?this.$VideoWatchAndScrollController84(this.$VideoWatchAndScrollController36):w;if(this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController35.length>this.$VideoWatchAndScrollController36)this.$VideoWatchAndScrollController84(this.$VideoWatchAndScrollController36+1).preload();this.$VideoWatchAndScrollController15=this.$VideoWatchAndScrollController16.getRootNode();var ca=!this.$VideoWatchAndScrollController1||!this.$VideoWatchAndScrollController16.isMuted(),da=!this.$VideoWatchAndScrollController1||this.$VideoWatchAndScrollController16.isState('playing'),ea=this.$VideoWatchAndScrollController1&&this.$VideoWatchAndScrollController16.isState('finished');if(!this.$VideoWatchAndScrollController1||ba){if(!this.$VideoWatchAndScrollController9)c('VideoChannelLogger').startSession(this.$VideoWatchAndScrollController17.getVideoID(),this.$VideoWatchAndScrollController17.getVideoChannelID(),this.$VideoWatchAndScrollController34);if(!y||aa){if(aa)this.$VideoWatchAndScrollController46=this.$VideoWatchAndScrollController62(this.$VideoWatchAndScrollController15);this.$VideoWatchAndScrollController51(this.$VideoWatchAndScrollController15);}if(this.$VideoWatchAndScrollController9){this.$VideoWatchAndScrollController8=this.$VideoWatchAndScrollController9;if(this.$VideoWatchAndScrollController8.videoRootNode){this.$VideoWatchAndScrollController18=this.$VideoWatchAndScrollController85(this.$VideoWatchAndScrollController8.dimensions,this.$VideoWatchAndScrollController17.getVideoNode());c('DOM').appendContent(this.$VideoWatchAndScrollController8.videoRootNode,this.$VideoWatchAndScrollController18);var fa=c('DOM').scry(this.$VideoWatchAndScrollController8.videoRootNode,"._344x"),ga=fa[0];if(ga)c('DOM').remove(ga);}}else{this.$VideoWatchAndScrollController8={videoRootNode:this.$VideoWatchAndScrollController15.parentNode,dimensions:c('DOMDimensions').getElementDimensions(this.$VideoWatchAndScrollController15),source:this.$VideoWatchAndScrollController16.getSource()};this.$VideoWatchAndScrollController18=this.$VideoWatchAndScrollController85(this.$VideoWatchAndScrollController8.dimensions,this.$VideoWatchAndScrollController16.getVideoNode());c('DOM').insertAfter(this.$VideoWatchAndScrollController15,this.$VideoWatchAndScrollController18);}var ha=null;if(this.$VideoWatchAndScrollController9)ha=this.$VideoWatchAndScrollController9.videoRootNode;if(!ha&&this.$VideoWatchAndScrollController15)ha=this.$VideoWatchAndScrollController15.parentNode;if(ha)this.$VideoWatchAndScrollController13=c('EventListener').listen(ha,'click',function(){this.$VideoWatchAndScrollController65();w.play(c('VideoPlayerReason').USER);setTimeout(function(){this.$VideoWatchAndScrollController66(w,'beginPlayback',{reason:c('VideoPlayerReason').USER});}.bind(this),s);}.bind(this));this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);if(this.$VideoWatchAndScrollController16.isPlayerVersion('silvercity'))this.$VideoWatchAndScrollController16.detachRootNode();var ia=this.$VideoWatchAndScrollController7?this.$VideoWatchAndScrollController7.width:this.$VideoWatchAndScrollController6,ja=this.$VideoWatchAndScrollController7?this.$VideoWatchAndScrollController7.height:this.$VideoWatchAndScrollController5;this.$VideoWatchAndScrollController16.setDimensions(ia,ja);this.$VideoWatchAndScrollController4=true;if(ba)this.$VideoWatchAndScrollController86();this.$VideoWatchAndScrollController14=this.$VideoWatchAndScrollController87();}else{this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);this.$VideoWatchAndScrollController63();}da&&this.$VideoWatchAndScrollController16.play(x);if(ca){this.$VideoWatchAndScrollController16.unmute();if(this.$VideoWatchAndScrollController16.getVolume()===0){var ka=c('VideoPlayerVolumeSettings').getLastVolumeBeforeMute()||1;this.$VideoWatchAndScrollController16.setVolume(ka);this.$VideoWatchAndScrollController16.emit('unmuteVideo');}}if(ea)this.$VideoWatchAndScrollController72(this.$VideoWatchAndScrollController16);this.$VideoWatchAndScrollController16.updateSource(c('VideoPlayerLoggerSource').WATCH_SCROLL);var la=this.$VideoWatchAndScrollController33;if((!this.$VideoWatchAndScrollController1||ba)&&la){la.abandonRequest();if(!this.$VideoWatchAndScrollController9)la.reset(w.getVideoID(),w.getVideoChannelID());this.$VideoWatchAndScrollController88();this.$VideoWatchAndScrollController58(w);this.$VideoWatchAndScrollController59(w);}this.$VideoWatchAndScrollController1=true;if(c('shouldWNSRenderToRHC')()||u)c('Arbiter').inform('VideoWatchAndScrollController/start');};v.prototype.$VideoWatchAndScrollController58=function(w){'use strict';if(!w.hasOption('WatchAndScroll','isActive'))w.registerOption('WatchAndScroll','isActive',v.isActive);};v.prototype.$VideoWatchAndScrollController59=function(w){'use strict';this.$VideoWatchAndScrollController31.addSubscriptions(this.$VideoWatchAndScrollController73(w),w.addListener('VideoChannelController/enterChannel',function(){this.$VideoWatchAndScrollController31.release();}.bind(this)),w.addListener('WatchAndScroll/close',function(){this.$VideoWatchAndScrollController65();var x=c('XVideoWNSSurveyController').getURIBuilder().getURI(),y=new (c('AsyncRequest'))().setURI(x);y.send();}.bind(this)));};v.prototype.$VideoWatchAndScrollController89=function(){'use strict';if(!this.$VideoWatchAndScrollController14)return;this.$VideoWatchAndScrollController14.setState({endScreenShown:false});if(this.$VideoWatchAndScrollController16)this.$VideoWatchAndScrollController16.play(c('VideoPlayerReason').USER);};v.prototype.$VideoWatchAndScrollController55=function(w,x){'use strict';if(!u)return;if(!this.$VideoWatchAndScrollController49.some(function(y){var z=y[0];return z===w;}))this.$VideoWatchAndScrollController49.push([w,x]);};v.prototype.$VideoWatchAndScrollController71=function(w,x){'use strict';var y=this.$VideoWatchAndScrollController14;if(!y)return;v.registerChannelVideoController(w);this.$VideoWatchAndScrollController90(w);this.$VideoWatchAndScrollController91(w);var z=y.getChannelVideoElements(),aa=1+this.$VideoWatchAndScrollController36;y.setState({channelVideoElements:[].concat(z.slice(0,aa),w.getRootNode(),z.slice(aa))});this.$VideoWatchAndScrollController38=[].concat(this.$VideoWatchAndScrollController38.slice(0,aa),x,this.$VideoWatchAndScrollController38.slice(aa));};v.prototype.$VideoWatchAndScrollController90=function(w){'use strict';var x=w.getRootNode();this.$VideoWatchAndScrollController50[x.id]=x.parentElement.id;};v.prototype.$VideoWatchAndScrollController92=function(){'use strict';var w=this.$VideoWatchAndScrollController14;if(!w)return;var x=Object.keys(this.$VideoWatchAndScrollController50);w.getChannelVideoElements().forEach(function(y,z){if(!x.includes(y.id))return;var aa=this.$VideoWatchAndScrollController50[y.id],ba=c('ge')(aa),ca=this.$VideoWatchAndScrollController93(ba);if(!ca)return;var da=c('DOMDimensions').getElementDimensions(ca),ea=da.width,fa=da.height;c('DOM').insertBefore(ca,y);c('DOM').remove(ca);this.$VideoWatchAndScrollController84(z).setDimensions(ea,fa);delete this.$VideoWatchAndScrollController50[y.id];}.bind(this));};v.prototype.$VideoWatchAndScrollController93=function(w){'use strict';var x="._57n6",y=c('DOM').scry(w,x),z=y[0].parentNode;return z;};v.prototype.$VideoWatchAndScrollController91=function(w){'use strict';var x=w.getRootNode(),y=c('DOMDimensions').getElementDimensions(x),z=this.$VideoWatchAndScrollController85(y,x);c('DOM').insertAfter(x,z);c('DOM').remove(x);this.$VideoWatchAndScrollController13=c('EventListener').listen(z,'click',function(){this.$VideoWatchAndScrollController65();w.play(c('VideoPlayerReason').USER);setTimeout(function(){this.$VideoWatchAndScrollController66(w,'beginPlayback',{reason:c('VideoPlayerReason').USER});}.bind(this),s);}.bind(this));};v.prototype.$VideoWatchAndScrollController88=function(){'use strict';if(!this.$VideoWatchAndScrollController47)return;if(u)return;this.$VideoWatchAndScrollController33.fetchStories(true,function(w,x){var y=this.$VideoWatchAndScrollController14;if(!w||!w.length||!y)return;var z=y.getChannelVideoElements().concat(w);y.setState({channelVideoElements:z},function(){setTimeout(function(){this.$VideoWatchAndScrollController84(this.$VideoWatchAndScrollController36+1).preload();}.bind(this));}.bind(this));this.$VideoWatchAndScrollController38=this.$VideoWatchAndScrollController38.concat(x);}.bind(this));};v.prototype.$VideoWatchAndScrollController84=function(w){'use strict';var x=this.$VideoWatchAndScrollController14?this.$VideoWatchAndScrollController14.getChannelVideoElements():[],y=[this.$VideoWatchAndScrollController17].concat(this.$VideoWatchAndScrollController35),z=null;y.forEach(function(aa){if(x[w].contains(aa.getRootNode()))z=aa;});z||j(0);return z;};v.prototype.$VideoWatchAndScrollController63=function(){'use strict';var w=this.$VideoWatchAndScrollController16.isMuted();this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);if(this.$VideoWatchAndScrollController16!==this.$VideoWatchAndScrollController17)this.$VideoWatchAndScrollController16.abortLoading();this.$VideoWatchAndScrollController16=this.$VideoWatchAndScrollController84(this.$VideoWatchAndScrollController36);this.$VideoWatchAndScrollController15=this.$VideoWatchAndScrollController16.getRootNode();var x=this.$VideoWatchAndScrollController16.getVideoNode(),y=parseFloat(x.getAttribute('data-original-aspect-ratio'));if(!y)y=16/9;var z=this.$VideoWatchAndScrollController46;if(!z)z=this.$VideoWatchAndScrollController62(x);this.$VideoWatchAndScrollController14&&(z.width=this.$VideoWatchAndScrollController14.getWidth());z.height=z.width/y;if(z.height>p){z.height=p;z.width=z.height*y;}this.$VideoWatchAndScrollController16.setDimensions(z.width,z.height);this.$VideoWatchAndScrollController51(x);this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController14.setState({videoIndex:this.$VideoWatchAndScrollController36,width:z.width,height:z.height});this.$VideoWatchAndScrollController46=z;this.$VideoWatchAndScrollController16.play(c('VideoPlayerReason').AUTOPLAY);w&&this.$VideoWatchAndScrollController16.mute();if(this.$VideoWatchAndScrollController35.length<=this.$VideoWatchAndScrollController36){this.$VideoWatchAndScrollController88();}else this.$VideoWatchAndScrollController84(this.$VideoWatchAndScrollController36+1).preload();};v.prototype.$VideoWatchAndScrollController94=function(){'use strict';var w=m;if(this.$VideoWatchAndScrollController12)w+=this.$VideoWatchAndScrollController12.scrollHeight;return Math.max(w,o);};v.prototype.$VideoWatchAndScrollController51=function(w){'use strict';if(this.$VideoWatchAndScrollController46){this.$VideoWatchAndScrollController7={height:this.$VideoWatchAndScrollController46.height,left:this.$VideoWatchAndScrollController46.left,top:this.$VideoWatchAndScrollController46.top,width:this.$VideoWatchAndScrollController46.width};return;}if(w){var x=w.scrollWidth,y=w.scrollHeight,z=this.$VideoWatchAndScrollController77(w),aa=z*y/x;this.$VideoWatchAndScrollController7.height=aa;this.$VideoWatchAndScrollController7.width=z;}else this.$VideoWatchAndScrollController7={height:this.$VideoWatchAndScrollController5,left:m,top:this.$VideoWatchAndScrollController94(),width:this.$VideoWatchAndScrollController6};};v.prototype.$VideoWatchAndScrollController85=function(w,x){'use strict';var y=c('DOM').create('canvas',{className:"_57n6"});y.height=w.height;y.width=w.width;if(y.getContext&&y.getContext('2d'))if(x.scrollHeight===0){var z=c('DOM').scry(x.parentNode,"._3t5i"),aa=z[0];if(aa){var ba=y.getContext('2d');ba.drawImage(aa,0,0);}}else if(x instanceof window.HTMLVideoElement){var ca=new (c('VideoFrameBuffer'))(y,x);ca.updateFrameBuffer();}var da=c('DOM').create('div');da.appendChild(y);var ea=c('DOM').create('i',{className:"_1jto _bsl _3htz"});da.appendChild(ea);return da;};v.prototype.$VideoWatchAndScrollController65=function(){'use strict';if(this.$VideoWatchAndScrollController19)this.$VideoWatchAndScrollController53();if(u)this.$VideoWatchAndScrollController92();this.$VideoWatchAndScrollController82();};v.prototype.$VideoWatchAndScrollController95=function(){'use strict';var w=this.$VideoWatchAndScrollController85(this.$VideoWatchAndScrollController7,this.$VideoWatchAndScrollController16.getVideoNode(),true);this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController14.setState({fadeOut:true,fadeOutPlaceholder:w});this.$VideoWatchAndScrollController96(this.$VideoWatchAndScrollController17,this.$VideoWatchAndScrollController8);if(this.$VideoWatchAndScrollController18){c('DOM').remove(this.$VideoWatchAndScrollController18);this.$VideoWatchAndScrollController18=null;}if(this.$VideoWatchAndScrollController13){this.$VideoWatchAndScrollController13.remove();this.$VideoWatchAndScrollController13=null;}};v.prototype.$VideoWatchAndScrollController96=function(w,x,y){'use strict';var z=w.getOption('VideoWithLiveBroadcast','isLive');w.pause(c('VideoPlayerReason').USER);if(w.isPlayerVersion('silvercity'))w.detachRootNode();y&&c('ReactDOM').unmountComponentAtNode(y);if(x.dimensions&&x.dimensions.width&&x.dimensions.height)w.setDimensions(x.dimensions.width,x.dimensions.height);if(x.videoRootNode)c('DOM').prependContent(x.videoRootNode,w.getRootNode());w.emit('WatchAndScroll/positionUpdated');w.updateSource(x.source||c('VideoPlayerLoggerSource').INLINE);var aa=this.$VideoWatchAndScrollController70(w.getVideoNode()),ba=aa.top,ca=c('getViewportDimensions')().height;if(w.getSource()!==c('VideoPlayerLoggerSource').PERMALINK)w.mute();if(ba<window.scrollY||ba>window.scrollY+ca){w.pause(c('VideoPlayerReason').AUTOPLAY);w.emit('resumeAutoplay');}else w.play(c('VideoPlayerReason').USER);};v.prototype.$VideoWatchAndScrollController86=function(){'use strict';this.$VideoWatchAndScrollController4||j(0);this.$VideoWatchAndScrollController40||j(0);this.$VideoWatchAndScrollController40.setState({fadeOut:true});this.$VideoWatchAndScrollController45=setTimeout(function(){this.$VideoWatchAndScrollController41||j(0);this.$VideoWatchAndScrollController42||j(0);this.$VideoWatchAndScrollController96(this.$VideoWatchAndScrollController41,this.$VideoWatchAndScrollController43,this.$VideoWatchAndScrollController42);if(this.$VideoWatchAndScrollController44){c('DOM').remove(this.$VideoWatchAndScrollController44);this.$VideoWatchAndScrollController44=null;}this.$VideoWatchAndScrollController45=null;}.bind(this),s);};v.prototype.$VideoWatchAndScrollController54=function(w){'use strict';this.$VideoWatchAndScrollController4||j(0);if(w){this.$VideoWatchAndScrollController14||j(0);this.$VideoWatchAndScrollController35.forEach(function(x){return x.abortLoading();});this.$VideoWatchAndScrollController95();this.$VideoWatchAndScrollController45=setTimeout(function(){c('ReactDOM').unmountComponentAtNode(this.$VideoWatchAndScrollController83());this.$VideoWatchAndScrollController54();}.bind(this),s);return;}if(c('shouldWNSRenderToRHC')()||u)c('Arbiter').inform('VideoWatchAndScrollController/exit');this.$VideoWatchAndScrollController33&&this.$VideoWatchAndScrollController33.abandonRequest();this.$VideoWatchAndScrollController36=0;this.$VideoWatchAndScrollController1=false;this.$VideoWatchAndScrollController31.release();this.$VideoWatchAndScrollController31=new (c('SubscriptionsHandler'))();this.$VideoWatchAndScrollController8={};this.$VideoWatchAndScrollController16=null;this.$VideoWatchAndScrollController17=null;this.$VideoWatchAndScrollController4=false;this.$VideoWatchAndScrollController35=[];this.$VideoWatchAndScrollController38=[];this.$VideoWatchAndScrollController14=null;clearTimeout(this.$VideoWatchAndScrollController45);this.$VideoWatchAndScrollController45=null;if(this.$VideoWatchAndScrollController41&&this.$VideoWatchAndScrollController42&&this.$VideoWatchAndScrollController43)this.$VideoWatchAndScrollController96(this.$VideoWatchAndScrollController41,this.$VideoWatchAndScrollController43,this.$VideoWatchAndScrollController42);this.$VideoWatchAndScrollController41=null;this.$VideoWatchAndScrollController43={};if(this.$VideoWatchAndScrollController44){c('DOM').remove(this.$VideoWatchAndScrollController44);this.$VideoWatchAndScrollController44=null;}c('VideoAutoplayControllerX').setShouldAutoplay(true);this.$VideoWatchAndScrollController2=null;if(this.$VideoWatchAndScrollController22){this.$VideoWatchAndScrollController46=this.$VideoWatchAndScrollController62(this.$VideoWatchAndScrollController22.getVideoNode());this.$VideoWatchAndScrollController81();this.$VideoWatchAndScrollController60(this.$VideoWatchAndScrollController22,c('VideoPlayerReason').USER);this.$VideoWatchAndScrollController22=null;}this.$VideoWatchAndScrollController29=false;this.$VideoWatchAndScrollController46=null;c('VideoChannelLogger').endSession();};v.prototype.$VideoWatchAndScrollController87=function(){'use strict';return c('ReactDOM').render(c('React').createElement(c('VideoWatchAndScrollContainer.react'),{initialPosition:this.$VideoWatchAndScrollController7,initialVideoElement:this.$VideoWatchAndScrollController15,onChannelNavigation:this.$VideoWatchAndScrollController97.bind(this),onClick:this.$VideoWatchAndScrollController98.bind(this),onClose:this.$VideoWatchAndScrollController65.bind(this),onDoubleClick:this.$VideoWatchAndScrollController99.bind(this),onDrop:this.$VideoWatchAndScrollController100.bind(this),onGrab:this.$VideoWatchAndScrollController101.bind(this),onInitialPositionUpdate:this.$VideoWatchAndScrollController102.bind(this),onReplay:this.$VideoWatchAndScrollController89.bind(this)}),this.$VideoWatchAndScrollController83());};v.prototype.$VideoWatchAndScrollController82=function(){'use strict';if(this.$VideoWatchAndScrollController17)this.$VideoWatchAndScrollController17.emit('exitWatchAndScroll');};v.prototype.$VideoWatchAndScrollController97=function(w){'use strict';if(w>0&&this.$VideoWatchAndScrollController35.length<=this.$VideoWatchAndScrollController36){if(!c('shouldWNSRenderToRHC')())this.$VideoWatchAndScrollController65();return;}this.$VideoWatchAndScrollController36+=w;this.$VideoWatchAndScrollController63();if(c('shouldWNSRenderToRHC')())c('Arbiter').inform('VideoWatchAndScrollController/channelNavigate');};v.prototype.$VideoWatchAndScrollController101=function(){'use strict';if(this.$VideoWatchAndScrollController19)this.$VideoWatchAndScrollController53();var w=this.$VideoWatchAndScrollController16.getOption('VideoWithLiveBroadcast','isLive');if(w)return;this.$VideoWatchAndScrollController23=this.$VideoWatchAndScrollController16.isState('playing');this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);};v.prototype.$VideoWatchAndScrollController100=function(){'use strict';var w=this.$VideoWatchAndScrollController16.getOption('VideoWithLiveBroadcast','isLive');if(w)return;if(this.$VideoWatchAndScrollController23)this.$VideoWatchAndScrollController16.play(c('VideoPlayerReason').USER);this.$VideoWatchAndScrollController23=null;};v.prototype.$VideoWatchAndScrollController98=function(){'use strict';var w=this.$VideoWatchAndScrollController16.getOption('VideoWithLiveBroadcast','isLive');if(this.$VideoWatchAndScrollController19||w)return;if(this.$VideoWatchAndScrollController16.isState('playing')){this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);}else if(this.$VideoWatchAndScrollController16.isState('paused')||this.$VideoWatchAndScrollController16.isState('finished')||this.$VideoWatchAndScrollController16.isState('ready'))this.$VideoWatchAndScrollController16.play(c('VideoPlayerReason').USER);};v.prototype.$VideoWatchAndScrollController99=function(){'use strict';if(this.$VideoWatchAndScrollController19)return;var w=this.$VideoWatchAndScrollController16.getOption('VideoWithClickToChannelView','isChannelEligible'),x=this.$VideoWatchAndScrollController16.getVideoID()===this.$VideoWatchAndScrollController17.getVideoID();if(x&&!w)return;c('Bootloader').loadModules(["VideoChannelController"],function(y){this.$VideoWatchAndScrollController69();y.openFromVideoPlayer(this.$VideoWatchAndScrollController16,this.$VideoWatchAndScrollController16.getVideoChannelID(),this.$VideoWatchAndScrollController34,this.$VideoWatchAndScrollController68());}.bind(this),'VideoWatchAndScrollController');};v.prototype.pauseActiveVideo=function(w){'use strict';if(!this.$VideoWatchAndScrollController16)return;this.$VideoWatchAndScrollController16.pause(w);};v.pauseActiveVideo=function(){var w=arguments.length<=0||arguments[0]===undefined?c('VideoPlayerReason').USER:arguments[0];'use strict';if(!t)return;t.pauseActiveVideo(w);};v.prototype.playActiveVideo=function(w){'use strict';if(!this.$VideoWatchAndScrollController16)return;this.$VideoWatchAndScrollController16.play(w);};v.playActiveVideo=function(){var w=arguments.length<=0||arguments[0]===undefined?c('VideoPlayerReason').USER:arguments[0];'use strict';if(!t)return;t.playActiveVideo(w);};v.prototype.$VideoWatchAndScrollController102=function(w){'use strict';this.$VideoWatchAndScrollController7=w;if(this.$VideoWatchAndScrollController14&&!this.$VideoWatchAndScrollController14.getFadeOutStatus()){this.$VideoWatchAndScrollController16.setDimensions(w.width,w.height);this.$VideoWatchAndScrollController16.emit('WatchAndScroll/positionUpdated');}};v.prototype.$VideoWatchAndScrollController103=function(){'use strict';var w=c('DOM').create('div');if(c('shouldWNSRenderToRHC')()){c('ifRequired')('RHCVideoWNSController',function(x){return x.mount(w);});}else c('DOM').appendContent(document.body,w);return w;};v.prototype.$VideoWatchAndScrollController83=function(){'use strict';if(!this.$VideoWatchAndScrollController2)this.$VideoWatchAndScrollController2=this.$VideoWatchAndScrollController103();return this.$VideoWatchAndScrollController2;};f.exports=v;}),null);
__d('EmbeddedVideoControls',['csx','Arbiter','DeferredComponent.react','EventListener','FullScreen','Map','Parent','React','ReactDOM','VideoChannelViewVariables','VideoPlayerExperiments','VideoPlayerLoggerEvent','VideoPlayerLoggerSource','VideoPlayerReason','VideoPlayerUIComponentDrawer','VideoPlayerVersions','VideoWatchAndScrollController','cancelAnimationFrame','containsNode','destroyOnUnload','getActiveElement','logVideosClickTracking','requestAnimationFrame','throttle'],(function a(b,c,d,e,f,g,h){var i=c('VideoChannelViewVariables').channelRedesign;function j(k,l,m){'use strict';this.$EmbeddedVideoControls7=k;this.$EmbeddedVideoControls40=l;this.$EmbeddedVideoControls6=0;this.$EmbeddedVideoControls35=0;this.$EmbeddedVideoControls34=0;this.$EmbeddedVideoControls10=0;this.$EmbeddedVideoControls47=false;this.$EmbeddedVideoControls20=m.hideOnEvents.autoplay;this.$EmbeddedVideoControls21=m.hideOnEvents.finish;this.$EmbeddedVideoControls16=m.hideOnEvents.pause;this.$EmbeddedVideoControls17=m.hidePlaybackControl;this.$EmbeddedVideoControls18=m.hideRemainingTime;this.$EmbeddedVideoControls19=m.hideSettings;this.$EmbeddedVideoControls45=m.useTwoRows;this.$EmbeddedVideoControls23=m.isCommentAttachment;this.$EmbeddedVideoControls63=m.pointsOfInterestConfig||{};this.$EmbeddedVideoControls64=m.displayElapsedTime||false;this.$EmbeddedVideoControls65=m.adBreaksTimeOffset;this.$EmbeddedVideoControls66=m.showSpatialAudioNUX;this.$EmbeddedVideoControls30=false;var n=k.isPlayerVersion(c('VideoPlayerVersions').PLEASANTVILLE);this.$EmbeddedVideoControls14=m.showButtons.watchandscroll&&n;this.$EmbeddedVideoControls1=m.showButtons.casting;this.$EmbeddedVideoControls2=m.showButtons.fullscreen&&!!c('FullScreen').isSupported();this.$EmbeddedVideoControls3=m.showButtons.enqueue;this.$EmbeddedVideoControls33=m.permalinkURL;this.$EmbeddedVideoControls27=m.isLive;this.$EmbeddedVideoControls38=c('VideoPlayerExperiments').redesign;this.$EmbeddedVideoControls15=false;this.$EmbeddedVideoControls60=m.showQualitySelector;this.$EmbeddedVideoControls61=m.qualitySelectorMinStreams;this.$EmbeddedVideoControls49=this.enterWatchAndScroll.bind(this);this.$EmbeddedVideoControls51=this.play.bind(this);this.$EmbeddedVideoControls50=this.pause.bind(this);this.$EmbeddedVideoControls52=this.scrubBegin.bind(this);this.$EmbeddedVideoControls53=this.scrubEnd.bind(this);this.$EmbeddedVideoControls42=this.startCasting.bind(this);this.$EmbeddedVideoControls43=this.enqueueVideo.bind(this);this.$EmbeddedVideoControls44=this.stopCasting.bind(this);this.$EmbeddedVideoControls54=this.toggleFullscreen.bind(this);this.$EmbeddedVideoControls55=this.toggleHD.bind(this);this.$EmbeddedVideoControls56=this.toggleHLS.bind(this);this.$EmbeddedVideoControls57=this.toggleMuted.bind(this);this.$EmbeddedVideoControls58=this.toggleSubtitles.bind(this);this.$EmbeddedVideoControls48=this.changeVolume.bind(this);this.$EmbeddedVideoControls59=this.setPreferredVideoQuality.bind(this);this.$EmbeddedVideoControls62=this.$EmbeddedVideoControls7.registerDrawer(c('VideoPlayerUIComponentDrawer').priorities.EmbeddedControls,36);this.$EmbeddedVideoControls32=m.needsInitialVideoInfoUpdate;c('destroyOnUnload')(function(){return c('ReactDOM').unmountComponentAtNode(l);});var o=this.$EmbeddedVideoControls7.getRootNode();c('EventListener').listen(this.$EmbeddedVideoControls40,'focusin',function(){this.$EmbeddedVideoControls9=true;this.scheduleRenderReactComponent();}.bind(this));c('EventListener').listen(this.$EmbeddedVideoControls40,'focusout',function(){if(!c('containsNode')(this.$EmbeddedVideoControls40,c('getActiveElement')())){this.$EmbeddedVideoControls9=false;this.scheduleRenderReactComponent();}}.bind(this));c('EventListener').listen(o,'click',function(q){if(this.$EmbeddedVideoControls9&&q.detail)c('getActiveElement')().blur();}.bind(this));c('EventListener').listen(o,'mouseleave',function(){this.$EmbeddedVideoControls31=false;this.scheduleRenderReactComponent();}.bind(this));c('EventListener').listen(o,'mouseenter',function(){this.$EmbeddedVideoControls31=true;this.scheduleRenderReactComponent();}.bind(this));this.$EmbeddedVideoControls7.registerOption('VideoControls','acquireForceHideLock',function(){this.$EmbeddedVideoControls10++;return {release:function(){this.$EmbeddedVideoControls10--;this.scheduleRenderReactComponent();}.bind(this)};}.bind(this));this.$EmbeddedVideoControls7.registerOption('VideoControls','hideOnFinish',function(){return this.$EmbeddedVideoControls21;}.bind(this),function(q){this.$EmbeddedVideoControls21=q;}.bind(this));this.$EmbeddedVideoControls7.registerOption('VideoControls','hideOnPause',function(){return this.$EmbeddedVideoControls16;}.bind(this),function(q){this.$EmbeddedVideoControls16=q;}.bind(this));this.$EmbeddedVideoControls7.registerOption('VideoControls','available',function(){return true;});this.$EmbeddedVideoControls7.registerOption('VideoControls','areControlsVisible',this.areControlsVisible.bind(this));['mousemove','mousedown','keydown'].forEach(function(q){c('EventListener').listen(this.$EmbeddedVideoControls7.getRootNode(),q,c('throttle')(this.flashControls.bind(this),200));}.bind(this));this.scheduleRenderReactComponent();var p=['changeVolume','loadedSubtitles','muteVideo','pausePlayback','stateChange','toggleFullscreen','toggleSubtitles','updateMetadata','unmuteVideo','qualityChange','casting/receiverStateChange','casting/supportStateChange','casting/castingStateChange','casting/playStateChange'];p.forEach(function(event){return this.$EmbeddedVideoControls7.addListener(event,function(){return this.scheduleRenderReactComponentWithVideoInfoUpdate();}.bind(this));}.bind(this));this.$EmbeddedVideoControls7.addListener('beginPlayback',function(){return this.$EmbeddedVideoControls67();}.bind(this));this.$EmbeddedVideoControls7.addListener('updateStatus',function(q){this.$EmbeddedVideoControls35=q.position;this.scheduleRenderReactComponent();}.bind(this));this.$EmbeddedVideoControls7.addListener('casting/updateStatus',function(q){this.$EmbeddedVideoControls35=q.position;this.scheduleRenderReactComponent();}.bind(this));this.$EmbeddedVideoControls7.addListener('updateBuffer',function(q){this.$EmbeddedVideoControls6=q.duration+q.offset;this.scheduleRenderReactComponent();}.bind(this));this.$EmbeddedVideoControls7.addListener('optionsChange',function(q){this.$EmbeddedVideoControls68();}.bind(this));this.$EmbeddedVideoControls7.addListener('resumeAutoplay',function(q){this.$EmbeddedVideoControls69();this.scheduleRenderReactComponentWithVideoInfoUpdate();}.bind(this));this.$EmbeddedVideoControls7.addListener('turnOffAutoplay',function(q){this.$EmbeddedVideoControls22=false;}.bind(this));this.$EmbeddedVideoControls7.addListener('finishPlayback',function(){this.scheduleRenderReactComponent(true);}.bind(this));this.$EmbeddedVideoControls69();this.$EmbeddedVideoControls70();}j.prototype.enqueueVideo=function(){'use strict';c('Arbiter').inform('EmbeddedVideoControls/enqueueVideo',{controller:this.$EmbeddedVideoControls7,thumbnail:document.createElement('div')});};j.prototype.$EmbeddedVideoControls71=function(){'use strict';return this.$EmbeddedVideoControls7.isState('playing')&&this.$EmbeddedVideoControls7.getOption('FeedAutoplay','isAutoplaying');};j.prototype.$EmbeddedVideoControls70=function(){'use strict';this.$EmbeddedVideoControls41=this.$EmbeddedVideoControls7.getOption('VideoScrubberPreviewComponent','scrubberPreviewSprites');this.$EmbeddedVideoControls12=this.$EmbeddedVideoControls7.getOption('VideoScrubberPreviewComponent','hasPreviewThumbnails');this.$EmbeddedVideoControls36=this.$EmbeddedVideoControls7.getOption('VideoScrubberPreviewComponent','previewThumbnailInformation');};j.prototype.$EmbeddedVideoControls69=function(){'use strict';this.$EmbeddedVideoControls22=this.$EmbeddedVideoControls7.getOption('FeedAutoplay','isAutoplaying');};j.prototype.$EmbeddedVideoControls68=function(){'use strict';this.$EmbeddedVideoControls69();this.$EmbeddedVideoControls70();};j.prototype.$EmbeddedVideoControls67=function(){'use strict';this.flashControls();this.$EmbeddedVideoControls29=true;this.scheduleRenderReactComponentWithVideoInfoUpdate();};j.prototype.updateConfig_DEPRECATED=function(k,l){'use strict';this.$EmbeddedVideoControls33=k.permalinkURL||null;this.$EmbeddedVideoControls1=k.showButtons?k.showButtons.casting:false;this.$EmbeddedVideoControls27=!!k.isLive;this.scheduleRenderReactComponent();};j.prototype.flashControls=function(){'use strict';if(!this.$EmbeddedVideoControls37){this.$EmbeddedVideoControls37=true;this.scheduleRenderReactComponent();}clearTimeout(this.$EmbeddedVideoControls8);this.$EmbeddedVideoControls8=setTimeout(function(){this.$EmbeddedVideoControls37=false;this.scheduleRenderReactComponent();}.bind(this),3000);};j.prototype.areControlsVisible=function(){'use strict';if(!this.areControlsEnabled())return false;if(this.$EmbeddedVideoControls7.isState('playing')){if(this.$EmbeddedVideoControls72)return true;if(this.$EmbeddedVideoControls20&&this.$EmbeddedVideoControls22)return false;return this.$EmbeddedVideoControls9||this.$EmbeddedVideoControls31&&this.$EmbeddedVideoControls37;}else if(this.$EmbeddedVideoControls7.isState('finished')){return this.$EmbeddedVideoControls7.isFullscreen()||!this.$EmbeddedVideoControls21;}else if(this.$EmbeddedVideoControls7.isState('paused'))return this.$EmbeddedVideoControls7.isFullscreen()||!this.$EmbeddedVideoControls16;return false;};j.prototype.areControlsEnabled=function(){'use strict';if(this.$EmbeddedVideoControls10>0||this.$EmbeddedVideoControls7.isState('loading')||this.$EmbeddedVideoControls7.isState('fallback')||this.$EmbeddedVideoControls7.isState('finished')&&this.$EmbeddedVideoControls21&&!this.$EmbeddedVideoControls7.isFullscreen())return false;return true;};j.prototype.scheduleRenderReactComponentWithVideoInfoUpdate=function(){'use strict';this.$EmbeddedVideoControls32=true;this.scheduleRenderReactComponent(true);};j.prototype.shouldRenderComponent=function(){'use strict';if(this.$EmbeddedVideoControls7.isState('loading')||this.$EmbeddedVideoControls7.isState('fallback'))return false;if(this.areControlsVisible()){this.$EmbeddedVideoControls15=false;return true;}if(!this.$EmbeddedVideoControls15){this.$EmbeddedVideoControls15=true;return true;}return false;};j.prototype.scheduleRenderReactComponent=function(){var k=arguments.length<=0||arguments[0]===undefined?false:arguments[0];'use strict';if(!k&&!this.shouldRenderComponent())return;c('cancelAnimationFrame')(this.$EmbeddedVideoControls39);this.$EmbeddedVideoControls39=c('requestAnimationFrame')(this.renderReactComponent.bind(this));};j.prototype.renderReactComponent=function(){'use strict';if(this.$EmbeddedVideoControls32)this.$EmbeddedVideoControls73();var k=this.areControlsVisible();if(this.$EmbeddedVideoControls47!==k){this.$EmbeddedVideoControls7.emit('VideoControls/visibilityUpdate',{areControlsVisible:k});if(k){this.$EmbeddedVideoControls62.reserve();}else this.$EmbeddedVideoControls62.release();}this.$EmbeddedVideoControls47=k;var l=this.$EmbeddedVideoControls7.getAvailableVideoQualities(),m=this.$EmbeddedVideoControls7.getSelectedVideoQuality(),n=this.$EmbeddedVideoControls7.canAutoSelectVideoQuality(),o=this.$EmbeddedVideoControls7.getStreamingFormat(),p=null;if(this.$EmbeddedVideoControls7.hasOption('LiveHeatmap','interestLevels'))p=this.$EmbeddedVideoControls7.getOption('LiveHeatmap','interestLevels');var q=this.$EmbeddedVideoControls30;this.$EmbeddedVideoControls30=c('VideoPlayerExperiments').slidingWNSv3&&this.$EmbeddedVideoControls14&&c('VideoWatchAndScrollController').isSlidingEnabled(this.$EmbeddedVideoControls7);if(q!==this.$EmbeddedVideoControls30)this.$EmbeddedVideoControls7.logEvent(this.$EmbeddedVideoControls30?c('VideoPlayerLoggerEvent').WATCH_AND_SCROLL_ICON_HIGHLIGHTED:c('VideoPlayerLoggerEvent').WATCH_AND_SCROLL_ICON_UNHIGHLIGHTED);c('ReactDOM').render(c('React').createElement(c('DeferredComponent.react'),{deferredPlaceholder:c('React').createElement('span',null),deferredComponent:function r(s){return e(['EmbeddedVideoControls.react'],s);},allowCasting:this.$EmbeddedVideoControls1,allowFullscreen:this.$EmbeddedVideoControls2,allowEnqueuing:this.$EmbeddedVideoControls3,areSubtitlesActive:this.$EmbeddedVideoControls4,areHLSActive:this.$EmbeddedVideoControls5,bufferedPosition:this.$EmbeddedVideoControls6,finishedPlaying:this.$EmbeddedVideoControls7.isState('finished'),hasFoundReceiver:this.hasFoundReceiver(),hasHD:this.$EmbeddedVideoControls11,hasSubtitles:this.$EmbeddedVideoControls13,hasWatchAndScroll:this.$EmbeddedVideoControls14&&!this.getIsInChannel(),hidden:!this.areControlsEnabled(),isCasting:this.isCasting(),isCastingSupported:this.isCastingSupported(),isCommentAttachment:this.$EmbeddedVideoControls23,isFullscreen:this.$EmbeddedVideoControls24,isHD:this.$EmbeddedVideoControls25,isInline:this.$EmbeddedVideoControls26,isLive:this.$EmbeddedVideoControls27,isMuted:this.$EmbeddedVideoControls28,isPlaying:this.$EmbeddedVideoControls29,isSidePaneOpen:this.getIsInChannel()&&!!c('Parent').bySelector(this.$EmbeddedVideoControls40,"._57bj"),isSlidingWNSEligible:this.$EmbeddedVideoControls30,interestLevels:p,drawer:this.$EmbeddedVideoControls62,onEnterWatchAndScroll:this.$EmbeddedVideoControls49,onEnqueueVideo:this.$EmbeddedVideoControls43,onPause:this.$EmbeddedVideoControls50,onPlay:this.$EmbeddedVideoControls51,onScrubBegin:this.$EmbeddedVideoControls52,onScrubEnd:this.$EmbeddedVideoControls53,onSidePaneToggle:function r(){c('Arbiter').inform('VideoChannelView/sidePaneToggle',{});},onStartCast:this.$EmbeddedVideoControls42,onStopCast:this.$EmbeddedVideoControls44,onToggleFullscreen:this.$EmbeddedVideoControls54,onToggleHD:this.$EmbeddedVideoControls55,onToggleHLS:this.$EmbeddedVideoControls56,onToggleMuted:this.$EmbeddedVideoControls57,onToggleSubtitles:this.$EmbeddedVideoControls58,onVolumeChange:this.$EmbeddedVideoControls48,permalinkURL:this.$EmbeddedVideoControls33,playbackDuration:this.$EmbeddedVideoControls34,playbackPosition:this.$EmbeddedVideoControls35,transparent:!k,redesign:this.$EmbeddedVideoControls38,hidePlaybackControl:this.$EmbeddedVideoControls17,hideRemainingTime:this.$EmbeddedVideoControls18,hideSettings:this.$EmbeddedVideoControls19,useTwoRows:this.$EmbeddedVideoControls45,volume:this.$EmbeddedVideoControls46,scrubberPreviewSprites:this.$EmbeddedVideoControls41,hasScrubberPreview:this.$EmbeddedVideoControls12,previewThumbnailInformation:this.$EmbeddedVideoControls36,availableQualities:l,selectedQuality:m,canAutoSelectVideoQuality:n,onSelectQuality:this.$EmbeddedVideoControls59,showQualitySelector:this.$EmbeddedVideoControls60,qualitySelectorMinStreams:this.$EmbeddedVideoControls61,streamingFormat:o,showSpatialAudioNUX:this.$EmbeddedVideoControls66,onPointOfInterestSelect:this.$EmbeddedVideoControls63.onPointOfInterestSelect,currentPointOfInterest:this.$EmbeddedVideoControls63.currentPointOfInterest,pointsOfInterest:this.$EmbeddedVideoControls63.pointsOfInterest,displayElapsedTime:this.$EmbeddedVideoControls64,adBreaksTimeOffset:this.$EmbeddedVideoControls65,showSidePaneToggle:this.getIsInChannel()&&!this.$EmbeddedVideoControls24&&i}),this.$EmbeddedVideoControls40);};j.prototype.$EmbeddedVideoControls73=function(){'use strict';var k=this.$EmbeddedVideoControls7.getVideoInfo_DEPRECATED();if(k){this.$EmbeddedVideoControls4=k.areSubtitlesActive;this.$EmbeddedVideoControls13=k.hasSubtitles;this.$EmbeddedVideoControls11=k.hasHD;this.$EmbeddedVideoControls25=k.isHD;this.$EmbeddedVideoControls28=k.isMuted;this.$EmbeddedVideoControls29=k.isPlaying||this.isCastPlaying();this.$EmbeddedVideoControls34=k.playbackDuration;this.$EmbeddedVideoControls46=k.volume;var l=this.$EmbeddedVideoControls7.getOption('CommercialBreakVideoAdOverlay','videoController');if(l){this.$EmbeddedVideoControls24=l.isFullscreen();}else this.$EmbeddedVideoControls24=this.$EmbeddedVideoControls7.isFullscreen();this.$EmbeddedVideoControls26=this.$EmbeddedVideoControls7.getSource()===c('VideoPlayerLoggerSource').INLINE||this.$EmbeddedVideoControls7.getSource()===c('VideoPlayerLoggerSource').CONTINUE_WATCHING_RECOMMENDATION;this.$EmbeddedVideoControls27=k.isLiveStream;this.$EmbeddedVideoControls5=k.areHLSActive;this.$EmbeddedVideoControls32=false;}};j.prototype.toggleHD=function(){'use strict';this.$EmbeddedVideoControls7.toggleHD();};j.prototype.setPreferredVideoQuality=function(k){'use strict';if(k){this.$EmbeddedVideoControls7.setPreferredVideoQuality(k);}else this.$EmbeddedVideoControls7.unsetPreferredVideoQuality();};j.prototype.toggleHLS=function(){'use strict';this.$EmbeddedVideoControls7.switchToStreamType('hls');};j.prototype.enterWatchAndScroll=function(){'use strict';this.$EmbeddedVideoControls7.emit('enterWatchAndScroll');};j.prototype.scrubBegin=function(){'use strict';if(!this.isCasting())this.$EmbeddedVideoControls7.pause(c('VideoPlayerReason').SEEK);};j.prototype.scrubEnd=function(k){'use strict';this.$EmbeddedVideoControls7.seek(k);this.$EmbeddedVideoControls35=k;if(!this.isCasting()&&this.$EmbeddedVideoControls29)this.$EmbeddedVideoControls7.play(c('VideoPlayerReason').SEEK);};j.prototype.toggleMuted=function(){'use strict';if(this.$EmbeddedVideoControls7.isMuted()){c('logVideosClickTracking')(this.$EmbeddedVideoControls7.getVideoNode());this.$EmbeddedVideoControls7.unmute();}else this.$EmbeddedVideoControls7.mute();};j.prototype.toggleFullscreen=function(){'use strict';if(!this.$EmbeddedVideoControls7.isFullscreen())c('logVideosClickTracking')(this.$EmbeddedVideoControls7.getVideoNode());this.$EmbeddedVideoControls7.toggleFullscreen();};j.prototype.toggleSubtitles=function(){'use strict';this.$EmbeddedVideoControls7.toggleSubtitles();this.scheduleRenderReactComponent();};j.prototype.changeVolume=function(k){'use strict';this.$EmbeddedVideoControls7.setVolume(k);};j.prototype.play=function(){'use strict';c('logVideosClickTracking')(this.$EmbeddedVideoControls7.getVideoNode());if(this.isCasting()){this.$EmbeddedVideoControls7.setOption('casting','isPlaying',true);}else this.$EmbeddedVideoControls7.play(c('VideoPlayerReason').USER);};j.prototype.pause=function(){'use strict';if(this.isCasting()){this.$EmbeddedVideoControls7.setOption('casting','isPlaying',false);}else this.$EmbeddedVideoControls7.pause(c('VideoPlayerReason').USER);};j.prototype.startCasting=function(){'use strict';this.$EmbeddedVideoControls7.setOption('casting','isCasting',true);};j.prototype.stopCasting=function(){'use strict';this.$EmbeddedVideoControls7.setOption('casting','isCasting',false);};j.prototype.isCastPlaying=function(){'use strict';return this.$EmbeddedVideoControls7.getOption('casting','isPlaying');};j.prototype.hasFoundReceiver=function(){'use strict';return this.$EmbeddedVideoControls7.getOption('casting','hasFoundReceiver');};j.prototype.isCasting=function(){'use strict';return this.$EmbeddedVideoControls7.getOption('casting','isCasting');};j.prototype.isCastingSupported=function(){'use strict';return this.$EmbeddedVideoControls7.getOption('casting','isSupported');};j.prototype.updatePointsOfInterestConfig=function(k){'use strict';Object.assign(this.$EmbeddedVideoControls63,k);this.scheduleRenderReactComponent();};j.prototype.updateDisplayElapsedTime=function(k){'use strict';this.$EmbeddedVideoControls64=k;this.scheduleRenderReactComponent();};j.prototype.getIsInChannel=function(){'use strict';return this.$EmbeddedVideoControls7.getIsInChannel();};f.exports=j;}),null);
__d('StreamingReactionsTrayEvents',[],(function a(b,c,d,e,f,g){var h='streamingReactionsTray/AddReactionAnimate',i='streamingReactionsTray/HideChannelViewDetails',j='streamingReactionsTray/ShowChannelViewDetails',k='streamingReactionsTray/UpdateSurface',l='streamingReactionsTray/ResizeChannelViewWindow',m='streamingReactionsTray/ReactionStateChange',n='streamingReactionsTray/FireworksAnimating',o={AddReactionAnimate:h,HideChannelViewDetails:i,ReactionStateChange:m,ResizeChannelViewWindow:l,ShowChannelViewDetails:j,UpdateSurface:k,FireworksAnimating:n};f.exports=o;}),null);